{"remainingRequest":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shuaisujun/Desktop/IOT/src/views/MainViews/DigitalMirror/FixProduction.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/shuaisujun/Desktop/IOT/src/views/MainViews/DigitalMirror/FixProduction.vue","mtime":1634093116983},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZScKdHlwZSB0YWJsZURhdGFUeXBlID0gewoJbmFtZTogc3RyaW5nLAoJc2hvd05hbWU6IHN0cmluZywKCXR5cGU6IHN0cmluZywKCWRlZmF1bHQ6IHN0cmluZywKCXVuaXQ6IHN0cmluZywKfQpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCkgewoJCXJldHVybiB7CgkJCWlzVXAgOiBmYWxzZSwKCQkJdXBOdW1iZXIgOjAsCgkJCWhlaWdodDogMCwKCQkJYWRkTW9kZTogZmFsc2UsCgkJCWltZ0RhdGEgOiBbXSwKCQkJaW1nVXJsIDogW10sCgkJCS8vIGZvcm06IHsKCQkJLy8gCXByb2R1Y3RfbmFtZTogJycsCgkJCS8vIAlwcm9kdWN0X2RlczogJycsCgkJCS8vIAlpbWFnZXM6IFtdLAoJCQkvLyAJZGF0YV9mb3JtYXQ6IFtdLAoJCQkvLyAJY29tcGFueV9pZDogbnVsbCwKCQkJLy8gCXVzZXJfaWQgOiBDb29raWVzLmdldCgidXNlcl9pZCIpLAoJCQkvLyAJdG9rZW4gOiBDb29raWVzLmdldCgidG9rZW4iKQoJCQkvLyB9LAoJCQl0YWJsZURhdGE6IFsKCgkJCV0sCgkJCWFkZFRhYmxlOiB7CgkJCQluYW1lOiAnJywKCQkJCS8vIHNob3dOYW1lOiAnJywKCQkJCS8vIHR5cGU6ICcnLAoJCQkJZGVmYXVsdDogJycsCgkJCQl1bml0OiAnJwoJCQl9CgkJfQoJfSwKCW1vdW50ZWQoKSB7CgkJLy8gY29uc29sZS5sb2codGhpcy5oZWlnaHQpCgkJLy8gdGhpcy4kcmVmcy5zY3JvbGwuc3R5bGUuaGVpZ2h0ID0gYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodC0yMzB9YCArICJweCIKCX0sCgljcmVhdGVkKCkgewoJCS8vIHRoaXMuZm9ybS5jb21wYW55X2lkID0gdGhpcy5jb21wYW55SUQKCQljb25zb2xlLmxvZyh0aGlzLmNvbXBhbnlJRCkKCQljb25zb2xlLmxvZyh0aGlzLmZvcm0pCgkJdGhpcy50YWJsZURhdGEgPSB0aGlzLmZvcm0uZGF0YV9mb3JtYXQKCX0sCgltZXRob2RzOiB7CgkJb3BlbkltZygpIHsKCQkJdGhpcy4kcmVmcy5pbnB1dC5jbGljaygpOwoJCX0sCgkJdGlyZ2dlckZpbGU6IGZ1bmN0aW9uKGV2ZW50KSB7CgkJCWxldCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwoJCQlpZihmaWxlLnR5cGUgIT09ICJpbWFnZS9qcGVnIiAmJiBmaWxlLnR5cGUgIT09ICJpbWFnZS9wbmciICYmIGZpbGUudHlwZSAhPT0gImltYWdlL2pwZyIpewoJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJbWVzc2FnZTogJ+ivt+mAieaLqeWQiOmAgueahOaWh+S7tuexu+WeiycsCgkJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCQl9KTsKCQkJfWVsc2V7CgkJCQl0aGlzLmltZ0RhdGEucHVzaChmaWxlKQoJCQkJbGV0IHVybCA9ICIiOwoJCQkJdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgkJCQlyZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKCQkJCWxldCB0aGF0ID0gdGhpczsKCQkJCXJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7CgkJCQkJLy8gdXJsID0gdGhpcy5yZXN1bHQuc3Vic3RyaW5nKHRoaXMucmVzdWx0LmluZGV4T2YoIiwiKSArIDEpOwoJCQkJCXZhciBjdXJyZW50aW1nVXJsID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiICsgdXJsOwoJCQkJCXRoYXQuaW1nVXJsLnB1c2goY3VycmVudGltZ1VybCkKCQkJCQljb25zb2xlLmxvZyh0aGF0LmltZ0RhdGEpCgkJCQkJLy8gdGhhdC4kcmVmc1snaW1naW1nJ10uc2V0QXR0cmlidXRlKCdzcmMnLCdkYXRhOmltYWdlL3BuZztiYXNlNjQsJyt1cmwpOwoJCQkJfTsKCQkJfQoJCQkKCQl9LAoJCWRlbGV0ZUZvcmVJbWFnZShpbmRleCwgcm93cykgewoJCQlyb3dzLnNwbGljZShpbmRleCwgMSk7CgkJCS8vIHRoaXMuaW1nRGF0YS5zcGxpY2UoaW5kZXgsIDEpOwoJCX0sCgkJZGVsZXRlSW1hZ2UoaW5kZXgsIHJvd3MpIHsKCQkJcm93cy5zcGxpY2UoaW5kZXgsIDEpOwoJCQl0aGlzLmltZ0RhdGEuc3BsaWNlKGluZGV4LCAxKTsKCQl9LAoJCWRlbGV0ZVJvdyhpbmRleCwgcm93cykgewoJCQlyb3dzLnNwbGljZShpbmRleCwgMSk7CgkJfSwKCQlhZGRJdGVtKCkgewoJCQlpZiAoIXRoaXMuYWRkTW9kZSkgewoJCQkJdGhpcy5hZGRNb2RlID0gdHJ1ZQoJCQl9IGVsc2UgewoJCQkJLy8gY29uc29sZS5sb2codGhpcy5hZGRUYWJsZSkKCQkJCXZhciBhID0gdGhpcy5hZGRUYWJsZQoJCQkJdmFyIHVwZGF0ZSA9IHRydWUKCQkJCWlmIChhLm5hbWUgPT09ICcnIHx8IGEuZGVmYXVsdCA9PT0gJycgfHwgYS51bml0ID09PSAnJykKCQkJCQl1cGRhdGUgPSBmYWxzZQoKCQkJCWlmICh1cGRhdGUpIHsKCQkJCQlsZXQgdXBkYXRhOiB0YWJsZURhdGFUeXBlID0gewoJCQkJCQluYW1lOiAnJywKCQkJCQkJc2hvd05hbWU6ICcnLAoJCQkJCQl0eXBlOiAnJywKCQkJCQkJZGVmYXVsdDogJycsCgkJCQkJCXVuaXQ6ICcnCgkJCQkJfQoJCQkJCS8vIGxldCB1cGRhdGEgOnRhYmxlRGF0YSA9IHRoaXMuYWRkVGFibGUKCQkJCQl1cGRhdGEuc2hvd05hbWUgPSB0aGlzLmFkZFRhYmxlLnNob3dOYW1lCgkJCQkJdXBkYXRhLm5hbWUgPSB0aGlzLmFkZFRhYmxlLm5hbWUKCQkJCQl1cGRhdGEudHlwZSA9IHRoaXMuYWRkVGFibGUudHlwZQoJCQkJCXVwZGF0YS51bml0ID0gdGhpcy5hZGRUYWJsZS51bml0CgkJCQkJdXBkYXRhLmRlZmF1bHQgPSB0aGlzLmFkZFRhYmxlLmRlZmF1bHQKCQkJCQl0aGlzLnRhYmxlRGF0YS5wdXNoKHVwZGF0YSkKCQkJCQljb25zb2xlLmxvZyh1cGRhdGEpCgkJCQkJdGhpcy5hZGRUYWJsZS5uYW1lID0gJycKCQkJCQl0aGlzLmFkZFRhYmxlLnNob3dOYW1lID0gJycKCQkJCQl0aGlzLmFkZFRhYmxlLnR5cGUgPSAnJwoJCQkJCXRoaXMuYWRkVGFibGUuZGVmYXVsdCA9ICcnCgkJCQkJdGhpcy5hZGRUYWJsZS51bml0ID0gJycKCQkJCQl0aGlzLmFkZE1vZGUgPSBmYWxzZQoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJbWVzc2FnZTogJ+WxnuaAp+acquWhq+WGmeWujOaIkCcsCgkJCQkJCXR5cGU6ICd3YXJuaW5nJwoJCQkJCX0pOwoJCQkJCS8vIGNvbnNvbGUubG9nKCLmnKrloavlhpnlrozmr5UiKQoJCQkJfQoKCQkJfQoKCQl9LAoJCQoJCXVwbG9hZCgpIHsKCQkJdmFyIGEgPSB0aGlzLmZvcm0KCQkJYS5kYXRhX2Zvcm1hdCA9IHRoaXMudGFibGVEYXRhCgkJCWlmIChhLmRhdGFfZm9ybWF0Lmxlbmd0aCA9PT0gMCB8fCBhLnByb2R1Y3RfbmFtZSA9PT0gJycgfHwgYS5wcm9kdWN0X2RlcyA9PT0gJycpIHsKCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCW1lc3NhZ2U6ICfml6Dms5XkuIrkvKAnLAoJCQkJCXR5cGU6ICd3YXJuaW5nJwoJCQkJfSk7CgkJCX0gZWxzZSB7CgkJCQljb25zb2xlLmxvZyh0aGlzLmZvcm0pCgkJCQlsZXQgY29uZmlnID0gewoJCQkJCWhlYWRlcnM6IHsKCQkJCQkJJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwoJCQkJCX0KCQkJCX0KCQkJCWlmKHRoaXMuaW1nRGF0YS5sZW5ndGggPT09IDApewoJCQkJCWNvbnNvbGUubG9nKCLml6DmlrDnhafniYciKQoJCQkJCXRoaXMuaXNVcCA9IHRydWUKCQkJCX1lbHNlewoJCQkJCWNvbnNvbGUubG9nKCLmnInmlrDnhafniYciKQoJCQkJCWZvciAodmFyIG51bWJlciBpbiB0aGlzLmltZ0RhdGEpIHsKCQkJCQkJbGV0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKCQkJCQkJLy8gY29uc29sZS5sb2coIuS4iuS8oCIpCgkJCQkJCXZhciB0aW1lU3RyaW5nID0gU3RyaW5nKG5ldyBEYXRlKCkudmFsdWVPZigpKSArIENvb2tpZXMuZ2V0KCJ1c2VyX2lkIikgCgkJCQkJCXZhciB0aGF0ID0gdGhpcwoJCQkJCQljb25zb2xlLmxvZyh0aW1lU3RyaW5nKQoJCQkJCQlmb3JtLmFwcGVuZCgnbmFtZScsICdmaWxlJyk7CgkJCQkJCWZvcm0uYXBwZW5kKCdpbWFnZW5hbWUnLCB0aW1lU3RyaW5nKTsKCQkJCQkJZm9ybS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmltZ0RhdGFbbnVtYmVyXSk7CgkJCQkJCXZhciBmdWxsU3RyaW5nID0gICdodHRwczovL3NpdGUubWFwbGUudG9kYXkvaW90cGxhdC8nKyB0aW1lU3RyaW5nCgkJCQkJCXRoaXMuZm9ybS5pbWFnZXMucHVzaChmdWxsU3RyaW5nKQoJCQkJCQl0aGlzLiRheGlvcy5wb3N0KCdodHRwczovL3NpdGUubWFwbGUudG9kYXkvSU9UcGxhdGZvcm0vdXBsb2FkL3BpY3R1cmUuaHRtJywgZm9ybSwgewoJCQkJCQkJCWhlYWRlcnM6IHsKCQkJCQkJCQkJJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkKCQkJCQkJKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCQkJCWNvbnNvbGUubG9nKHJlc3BvbnNlKQoJCQkJCQkJLy8gYWxlcnQoJ+S4iuS8oOWbvueJh+aIkOWKnyEnKTsKCQkJCQkJCXRoYXQudXBOdW1iZXIgPSB0aGF0LnVwTnVtYmVyICsgMQoJCQkJCQkJaWYodGhhdC51cE51bWJlciA9PT0gdGhhdC5pbWdEYXRhLmxlbmd0aCl7CgkJCQkJCQkJY29uc29sZS5sb2coIuWbvueJh+S4iuS8oOWujOavlSIpCgkJCQkJCQkJdGhpcy5pc1VwID0gdHJ1ZQoJCQkJCQkJfQoJCQkJCQkJLy8gY29uc29sZS5sb2codGhhdC5mb3JtLmltYWdlcykKCQkJCQkJfSkuY2F0Y2goZXJyb3IgPT4gewoJCQkJCQkJLy8gYWxlcnQoJ+S4iuS8oOWbvueJh+WHuumUmSEnKTsKCQkJCQkJfSkKCQkJCQl9CgkJCQl9CgkJCQkvLyB0aGlzLiRheGlvcy5nZXQoJ2h0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9JT1RwbGF0Zm9ybS9TZXJ2ZXJNYWluP3JlcXVlc3RDb2RlPTAwNCcsIGZvcm1EYXRhLGNvbmZpZykudGhlbihmdW5jdGlvbihyZXMpIHsKCQkJCS8vIAljb25zb2xlLmxvZyhyZXMpCgkJCQkvLyB9KQoJCQkJCgkJCX0KCQl9Cgl9LAoJcHJvcHM6IFsnY29tcGFueUlEJywgJ2Zvcm0nXSwKCXdhdGNoIDp7CgkJaXNVcCA6IGZ1bmN0aW9uKCl7CgkJCWNvbnNvbGUubG9nKCLlvIDlp4vkuIrkvKAiKQoJCQl2YXIgZGF0YUpzb24gPSBKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm0uZGF0YV9mb3JtYXQpCgkJCWNvbnNvbGUubG9nKGRhdGFKc29uKQoJCQl2YXIgaW1hZ2VKc29uID0gSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtLmltYWdlcykKCQkJY29uc29sZS5sb2coaW1hZ2VKc29uKQoJCQl2YXIgdGhhdCA9IHRoaXMKCQkJdGhpcy4kYXhpb3MuZ2V0KCdodHRwczovL3NpdGUubWFwbGUudG9kYXkvSU9UcGxhdGZvcm0vU2VydmVyTWFpbicsIHsKCQkJCQlwYXJhbXM6IHsKCQkJCQkJcmVxdWVzdENvZGU6ICcwMjAnLAoJCQkJCQl1c2VyX2lkOiBDb29raWVzLmdldCgidXNlcl9pZCIpLAoJCQkJCQl0b2tlbjogQ29va2llcy5nZXQoInRva2VuIiksCgkJCQkJCWNvbXBhbnlfaWQ6IHRoYXQuZm9ybS5jb21wYW55X2lkLAoJCQkJCQlwcm9kdWN0X25hbWU6IHRoYXQuZm9ybS5wcm9kdWN0X25hbWUsCgkJCQkJCXByb2R1Y3RfZGVzOiB0aGF0LmZvcm0ucHJvZHVjdF9kZXMsCgkJCQkJCXByb2R1Y3RfaWQ6IHRoYXQuZm9ybS5wcm9kdWN0X2lkLAoJCQkJCQlpbWFnZXM6IGltYWdlSnNvbiwKCQkJCQkJZGF0YV9mb3JtYXQ6IGRhdGFKc29uLAoJCQkJCX0sCgkJCQoJCQkJCS8vIHBhcmFtcyA6IHRoYXQuZm9ybQoJCQkJfSkKCQkJCS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UpCgkJCQkJaWYgKHJlc3BvbnNlLmRhdGEgIT09IHVuZGVmaW5lZCkgewoJCQkJCQl0aGF0LiRtZXNzYWdlKHsKCQkJCQkJCW1lc3NhZ2U6ICfkv67mlLnmiJDlip8nLAoJCQkJCQkJdHlwZTogJ3N1Y2Nlc3MnCgkJCQkJCX0pOwoJCQkJCQl0aGF0LiRyb3V0ZXIucHVzaCh7CgkJCQkJCQluYW1lOiAiUHJvZHVjdGlvbk1hbmFnZSIKCQkJCQkJfSkKCQkJCQl9IGVsc2UgewoJCQkJCQl0aGF0LiRtZXNzYWdlKHsKCQkJCQkJCW1lc3NhZ2U6ICfkuIrkvKDlpLHotKUnLAoJCQkJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCQkJCX0pOwoJCQkJCX0KCQkJCX0pCgkJCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQkJCQljb25zb2xlLmxvZyhlcnJvcikKCQkJCX0pCgkJCQoJCX0KCX0KCn0K"},{"version":3,"sources":["FixProduction.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"FixProduction.vue","sourceRoot":"src/views/MainViews/DigitalMirror","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 4%;\">\r\n\t\t\t<el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>数字镜像</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item :to=\"{name:'ProductionManage'}\">产品管理</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>修改产品</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\r\n\t\t<div class=\"addProduction\">\r\n\t\t\t<el-divider content-position=\"right\">修改产品</el-divider>\r\n\t\t\t<div style=\"width: 100%;height: 80%;\" ref=\"scroll\">\r\n\t\t\t\t<el-scrollbar style=\"height: 100%; width: 100%;\">\r\n\t\t\t\t\t<div class=\"form\">\r\n\t\t\t\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品名称\">\r\n\t\t\t\t\t\t\t\t<el-input v-model=\"form.product_name\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品图片\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"openImg\">选择</el-button>\r\n\t\t\t\t\t\t\t\t<!-- <el-button type=\"primary\">上传</el-button> -->\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<input v-show=\"false\" type=\"file\" accept=\"image/*\" @change=\"tirggerFile($event)\"\r\n\t\t\t\t\t\t\t\t\t\tref=\"input\" />\r\n\t\t\t\t\t\t\t\t\t<div class=\"imagesFix\">\r\n\t\t\t\t\t\t\t\t\t\t<div style=\"width:200px;height:200px;text-align:center;margin-right: 10px;\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in form.images\" :key=\"index\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" circle\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"position: absolute;\" @click=\"deleteForeImage(index,form.images)\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<el-image style=\"height:100%;width:100%; z-index: -1;\" :src=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfit=\"cover\"> </el-image>\r\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div style=\"width:200px;height:200px;text-align:center;margin-right: 10px;\"\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in imgUrl\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" circle\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"position: absolute;\" @click=\"deleteImage(index,imgUrl)\">\n\t\t\t\t\t\t\t\t\t\t\t</el-button>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<el-image style=\"height:100%;width:100%; z-index: -1;\" :src=\"item\"\n\t\t\t\t\t\t\t\t\t\t\t\tfit=\"cover\"> </el-image>\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品描述\">\r\n\t\t\t\t\t\t\t\t<el-input v-model=\"form.product_des\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品属性\">\r\n\t\t\t\t\t\t\t\t<div class=\"table\">\r\n\t\t\t\t\t\t\t\t\t<el-table :data=\"this.tableData\" style=\"width: 100%\" max-height=\"250\">\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"name\" label=\"属性名称\" width=\"150\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <el-table-column prop=\"showName\" label=\"显示名称\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"type\" label=\"数据类型\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column> -->\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"default\" label=\"默认值\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"unit\" label=\"单位\" width=\"300\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column label=\"操作\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-button @click.native.prevent=\"deleteRow(scope.$index,tableData)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\" size=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t移除\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"添加属性\" v-if=\"addMode\" style=\"width: 50%; z-index: 999;\">\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"属性名称\" v-model=\"addTable.name\"></el-input>\r\n\t\t\t\t\t\t\t\t<!-- <el-input placeholder=\"仪器型号\" v-model=\"addTable.showName\"></el-input> -->\r\n\t\t\t\t\t\t\t\t<!-- <el-input placeholder=\"数据类型\" v-model=\"addTable.type\"></el-input> -->\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"默认值\" v-model=\"addTable.default\"></el-input>\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"单位\" v-model=\"addTable.unit\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t<el-button type=\"primary\" style=\"width: 100px;\" v-on:click=\"addItem()\" v-if=\"!addMode\">添加属性\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" style=\"width: 70px;\" v-on:click=\"addItem()\" v-if=\"addMode\">确定\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</el-scrollbar>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle=\"display: flex;flex-direction: row-reverse;padding-right: 10px;height: 10%;padding-bottom: 10px;\">\r\n\t\t\t\t<el-button type=\"success\" v-on:click=\"upload()\">上传</el-button>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script lang=\"ts\">\r\n\timport Cookies from 'js-cookie'\r\n\ttype tableDataType = {\r\n\t\tname: string,\r\n\t\tshowName: string,\r\n\t\ttype: string,\r\n\t\tdefault: string,\r\n\t\tunit: string,\r\n\t}\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\n\t\t\t\tisUp : false,\n\t\t\t\tupNumber :0,\r\n\t\t\t\theight: 0,\r\n\t\t\t\taddMode: false,\n\t\t\t\timgData : [],\n\t\t\t\timgUrl : [],\r\n\t\t\t\t// form: {\r\n\t\t\t\t// \tproduct_name: '',\r\n\t\t\t\t// \tproduct_des: '',\r\n\t\t\t\t// \timages: [],\r\n\t\t\t\t// \tdata_format: [],\r\n\t\t\t\t// \tcompany_id: null,\r\n\t\t\t\t// \tuser_id : Cookies.get(\"user_id\"),\r\n\t\t\t\t// \ttoken : Cookies.get(\"token\")\r\n\t\t\t\t// },\r\n\t\t\t\ttableData: [\r\n\r\n\t\t\t\t],\r\n\t\t\t\taddTable: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\t// showName: '',\r\n\t\t\t\t\t// type: '',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t\tunit: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// console.log(this.height)\r\n\t\t\t// this.$refs.scroll.style.height = `${document.documentElement.clientHeight-230}` + \"px\"\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// this.form.company_id = this.companyID\r\n\t\t\tconsole.log(this.companyID)\r\n\t\t\tconsole.log(this.form)\r\n\t\t\tthis.tableData = this.form.data_format\r\n\t\t},\r\n\t\tmethods: {\n\t\t\topenImg() {\n\t\t\t\tthis.$refs.input.click();\n\t\t\t},\n\t\t\ttirggerFile: function(event) {\n\t\t\t\tlet file = event.target.files[0];\n\t\t\t\tif(file.type !== \"image/jpeg\" && file.type !== \"image/png\" && file.type !== \"image/jpg\"){\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '请选择合适的文件类型',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tthis.imgData.push(file)\n\t\t\t\t\tlet url = \"\";\n\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\tlet that = this;\n\t\t\t\t\treader.onload = function(e) {\n\t\t\t\t\t\t// url = this.result.substring(this.result.indexOf(\",\") + 1);\n\t\t\t\t\t\tvar currentimgUrl = \"data:image/png;base64,\" + url;\n\t\t\t\t\t\tthat.imgUrl.push(currentimgUrl)\n\t\t\t\t\t\tconsole.log(that.imgData)\n\t\t\t\t\t\t// that.$refs['imgimg'].setAttribute('src','data:image/png;base64,'+url);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tdeleteForeImage(index, rows) {\n\t\t\t\trows.splice(index, 1);\n\t\t\t\t// this.imgData.splice(index, 1);\n\t\t\t},\n\t\t\tdeleteImage(index, rows) {\n\t\t\t\trows.splice(index, 1);\n\t\t\t\tthis.imgData.splice(index, 1);\n\t\t\t},\r\n\t\t\tdeleteRow(index, rows) {\r\n\t\t\t\trows.splice(index, 1);\r\n\t\t\t},\r\n\t\t\taddItem() {\r\n\t\t\t\tif (!this.addMode) {\r\n\t\t\t\t\tthis.addMode = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log(this.addTable)\r\n\t\t\t\t\tvar a = this.addTable\r\n\t\t\t\t\tvar update = true\r\n\t\t\t\t\tif (a.name === '' || a.default === '' || a.unit === '')\r\n\t\t\t\t\t\tupdate = false\r\n\r\n\t\t\t\t\tif (update) {\r\n\t\t\t\t\t\tlet updata: tableDataType = {\r\n\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\tshowName: '',\r\n\t\t\t\t\t\t\ttype: '',\r\n\t\t\t\t\t\t\tdefault: '',\r\n\t\t\t\t\t\t\tunit: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// let updata :tableData = this.addTable\r\n\t\t\t\t\t\tupdata.showName = this.addTable.showName\r\n\t\t\t\t\t\tupdata.name = this.addTable.name\r\n\t\t\t\t\t\tupdata.type = this.addTable.type\r\n\t\t\t\t\t\tupdata.unit = this.addTable.unit\r\n\t\t\t\t\t\tupdata.default = this.addTable.default\r\n\t\t\t\t\t\tthis.tableData.push(updata)\r\n\t\t\t\t\t\tconsole.log(updata)\r\n\t\t\t\t\t\tthis.addTable.name = ''\r\n\t\t\t\t\t\tthis.addTable.showName = ''\r\n\t\t\t\t\t\tthis.addTable.type = ''\r\n\t\t\t\t\t\tthis.addTable.default = ''\r\n\t\t\t\t\t\tthis.addTable.unit = ''\r\n\t\t\t\t\t\tthis.addMode = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '属性未填写完成',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log(\"未填写完毕\")\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\n\t\t\t\r\n\t\t\tupload() {\r\n\t\t\t\tvar a = this.form\r\n\t\t\t\ta.data_format = this.tableData\r\n\t\t\t\tif (a.data_format.length === 0 || a.product_name === '' || a.product_des === '') {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '无法上传',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(this.form)\r\n\t\t\t\t\tlet config = {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.imgData.length === 0){\n\t\t\t\t\t\tconsole.log(\"无新照片\")\n\t\t\t\t\t\tthis.isUp = true\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.log(\"有新照片\")\n\t\t\t\t\t\tfor (var number in this.imgData) {\n\t\t\t\t\t\t\tlet form = new FormData();\n\t\t\t\t\t\t\t// console.log(\"上传\")\n\t\t\t\t\t\t\tvar timeString = String(new Date().valueOf()) + Cookies.get(\"user_id\") \n\t\t\t\t\t\t\tvar that = this\n\t\t\t\t\t\t\tconsole.log(timeString)\n\t\t\t\t\t\t\tform.append('name', 'file');\n\t\t\t\t\t\t\tform.append('imagename', timeString);\n\t\t\t\t\t\t\tform.append('file', this.imgData[number]);\n\t\t\t\t\t\t\tvar fullString =  'https://site.maple.today/iotplat/'+ timeString\n\t\t\t\t\t\t\tthis.form.images.push(fullString)\n\t\t\t\t\t\t\tthis.$axios.post('https://site.maple.today/IOTplatform/upload/picture.htm', form, {\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t).then(response => {\n\t\t\t\t\t\t\t\tconsole.log(response)\n\t\t\t\t\t\t\t\t// alert('上传图片成功!');\n\t\t\t\t\t\t\t\tthat.upNumber = that.upNumber + 1\n\t\t\t\t\t\t\t\tif(that.upNumber === that.imgData.length){\n\t\t\t\t\t\t\t\t\tconsole.log(\"图片上传完毕\")\n\t\t\t\t\t\t\t\t\tthis.isUp = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// console.log(that.form.images)\n\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t// alert('上传图片出错!');\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\r\n\t\t\t\t\t// this.$axios.get('https://site.maple.today/IOTplatform/ServerMain?requestCode=004', formData,config).then(function(res) {\r\n\t\t\t\t\t// \tconsole.log(res)\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: ['companyID', 'form'],\n\t\twatch :{\n\t\t\tisUp : function(){\n\t\t\t\tconsole.log(\"开始上传\")\n\t\t\t\tvar dataJson = JSON.stringify(this.form.data_format)\n\t\t\t\tconsole.log(dataJson)\n\t\t\t\tvar imageJson = JSON.stringify(this.form.images)\n\t\t\t\tconsole.log(imageJson)\n\t\t\t\tvar that = this\n\t\t\t\tthis.$axios.get('https://site.maple.today/IOTplatform/ServerMain', {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\trequestCode: '020',\n\t\t\t\t\t\t\tuser_id: Cookies.get(\"user_id\"),\n\t\t\t\t\t\t\ttoken: Cookies.get(\"token\"),\n\t\t\t\t\t\t\tcompany_id: that.form.company_id,\n\t\t\t\t\t\t\tproduct_name: that.form.product_name,\n\t\t\t\t\t\t\tproduct_des: that.form.product_des,\n\t\t\t\t\t\t\tproduct_id: that.form.product_id,\n\t\t\t\t\t\t\timages: imageJson,\n\t\t\t\t\t\t\tdata_format: dataJson,\n\t\t\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\t\t// params : that.form\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\tconsole.log(response)\n\t\t\t\t\t\tif (response.data !== undefined) {\n\t\t\t\t\t\t\tthat.$message({\n\t\t\t\t\t\t\t\tmessage: '修改成功',\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthat.$router.push({\n\t\t\t\t\t\t\t\tname: \"ProductionManage\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.$message({\n\t\t\t\t\t\t\t\tmessage: '上传失败',\n\t\t\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t})\n\t\t\t\t\n\t\t\t}\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.addProduction {\r\n\t\twidth: 100%;\r\n\t\theight: 96%;\r\n\t\t/* background-color: aliceblue; */\r\n\t}\r\n\r\n\t.form {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t/* align-items: center; */\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\r\n\t.table {\r\n\t\twidth: 100%;\r\n\t}\r\n\t.imagesFix {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\twidth: 100%;\n\t}\r\n\tel-scrollbar. el-scrollbar_wrap {\r\n\t\toverflow-x: hidden;\r\n\t}\r\n</style>\n"]}]}
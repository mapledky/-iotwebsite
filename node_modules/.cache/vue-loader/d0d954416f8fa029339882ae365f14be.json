{"remainingRequest":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maple/Desktop/file/netplus/开发/IOT/src/views/MainViews/Monitor/DataBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/src/views/MainViews/Monitor/DataBoard.vue","mtime":1635584288890},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnCglpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCglpbXBvcnQgbXF0dCBmcm9tICdtcXR0JwoKCVN0cmluZy5wcm90b3R5cGUucmVwbGFjZUFsbCA9IGZ1bmN0aW9uKHMxLCBzMikgewoJCXJldHVybiB0aGlzLnJlcGxhY2UobmV3IFJlZ0V4cChzMSwgJ2dtJyksIHMyKQoJfQoKCWV4cG9ydCBkZWZhdWx0IHsKCQlkYXRhKCkgewoJCQlyZXR1cm4gewoJCQkJZGV2aWNlOiAnJywKCQkJCXVzZXJfaWQ6ICcnLAoJCQkJdG9rZW46ICcnLAoJCQkJcGFzc3dvcmQ6ICcnLAoJCQkJY29tcGFueV9pZDogJycsCgkJCQlkZXZpY2VfaWQ6ICcnLAoJCQkJZmV0Y2hkYXRhOiBbXSwKCQkJCWRhdGVPcHRpb25zOiBbXSwKCQkJCWRhdGF0eXBlOiBbXSwKCQkJCXZhbHVlOiAnJywKCQkJCXZhbDogJycsCgkJCQljaGFydERhdGE6IFtdLAoJCQkJY2hhcnREYXRhMjogW10sCgkJCQluZXdjaGFydERhdGE6IFtdLAoJCQkJZGF0YTogW10sCgkJCQltc2c6ICcnLAoJCQkJY3VycmVudFBhZ2U6IDEsCgkJCQlwYWdlc2l6ZTogMTAsCgkJCQlsZW5ndGg6ICcnLAoJCQkJbG9jYXRpb246IFtdLAoJCQkJcGFyYW1ldGVyczogW10sCgkJCQljb250ZW50czogW10sCgkJCQlpc3Nob3cxOiBmYWxzZSwKCQkJCWlzc2hvdzI6IGZhbHNlLAoJCQkJaXNzaG93MzogZmFsc2UsCgkJCX0KCQl9LAoJCWNyZWF0ZWQoKSB7CgkJCXRoaXMuZ2V0RGF0ZUFycmF5KCkKCQkJdGhpcy5nZXREYXRhVHlwZSgpCgkJCXRoaXMuZ2V0Um91dGVEYXRhKCkKCQkJdGhpcy5nZXRDb29raWVEYXRhKCkKCQkJdGhpcy5mZXRjaERldmljZURhdGEoKQoJCQl0aGlzLmdldE1xdHQoKQoJCX0sCgkJd2F0Y2g6IHsKCQkJbXNnOiB7CgkJCQlkZWVwOiB0cnVlLAoJCQkJaGFuZGxlcihuZXd2YWwpIHsKCQkJCQljb25zdCB0aGF0ID0gdGhpcwoJCQkJCXRoYXQuZmV0Y2hkYXRhLnB1c2gobmV3dmFsKQoJCQkJCQoJCQkJCXZhciBuZXdkYXRhID0gbmV3dmFsCgkJCQkJCgkJCQkJLy/mlbDmja7lpITnkIYKCQkJCQlmb3IgKHZhciBqID0gMDsgaiA8IHRoYXQuZmV0Y2hkYXRhLmxlbmd0aDsgaisrKSB7CgkJCQkJCWRlbGV0ZSB0aGF0LmZldGNoZGF0YVtqXS5jb21wYW55X2lkCgkJCQkJCWRlbGV0ZSB0aGF0LmZldGNoZGF0YVtqXS5zZW5zb3JfaWQKCQkJCQkJZGVsZXRlIHRoYXQuZmV0Y2hkYXRhW2pdLmRldmljZV9pZAoJCQkJCX0KCQkJCQkKCQkJCQl2YXIgbG9jYXRpb24gPSBbXQoJCQkJCWZvcih2YXIgeiA9IDA7IHogPCBuZXdkYXRhLmRhdGFfZm9ybWF0Lmxlbmd0aCA7IHorKyl7CgkJCQkJCWlmKG5ld2RhdGEuZGF0YV9mb3JtYXRbel0udHlwZSA9PT0gJ+WIgOWFt+WdkOaghycpewoJCQkJCQkJdmFyIHkgPSB7CgkJCQkJCQkJdGl0bGU6ICcnLAoJCQkJCQkJCWNvbnRlbnQ6ICcnLAoJCQkJCQkJfQoJCQkJCQkJeS50aXRsZSA9IG5ld2RhdGEuZGF0YV9mb3JtYXRbel0ubmFtZQoJCQkJCQkJeS5jb250ZW50ID0gbmV3ZGF0YS5kYXRhW3pdCgkJCQkJCQlsb2NhdGlvbi5wdXNoKHkpCgkJCQkJCX1lbHNlewoJCQkJCQoJCQkJCQl9CgkJCQkJfQoJCQkJCXRoYXQubG9jYXRpb24gPSBsb2NhdGlvbgoJCQkJCWlmKHRoYXQubG9jYXRpb24ubGVuZ3RoPjApCgkJCQkJewoJCQkJCQl0aGF0Lmlzc2hvdzEgPSB0cnVlCgkJCQkJfWVsc2V7CgkJCQkJCXRoYXQuaXNzaG93MSA9IGZhbHNlCgkJCQkJfQoJCQkJCQoJCQkJCXZhciBwYXJhbWV0ZXJzID0gW10KCQkJCQlmb3IodmFyIHAgPSAwOyBwIDwgbmV3ZGF0YS5kYXRhX2Zvcm1hdC5sZW5ndGggOyBwKyspewoJCQkJCQlpZihuZXdkYXRhLmRhdGFfZm9ybWF0W3BdLnR5cGUgPT09ICforr7lpIflj4LmlbAnKXsKCQkJCQkJCgkJCQkJCQl2YXIgeSA9IHsKCQkJCQkJCQl0aXRsZTogJycsCgkJCQkJCQkJY29udGVudDogJycsCgkJCQkJCQl9CgkJCQkJCQl5LnRpdGxlID0gbmV3ZGF0YS5kYXRhX2Zvcm1hdFtwXS5uYW1lCgkJCQkJCQl5LmNvbnRlbnQgPSBuZXdkYXRhLmRhdGFbcF0KCQkJCQkJCXBhcmFtZXRlcnMucHVzaCh5KQoJCQkJCQl9ZWxzZXsKCQkJCQkJCQoJCQkJCQl9CgkJCQkJfQoJCQkJCXRoYXQucGFyYW1ldGVycyA9IHBhcmFtZXRlcnMKCQkJCQlpZih0aGF0LnBhcmFtZXRlcnMubGVuZ3RoPjApCgkJCQkJewoJCQkJCQl0aGF0Lmlzc2hvdzIgPSB0cnVlCgkJCQkJfWVsc2V7CgkJCQkJCXRoYXQuaXNzaG93MiA9IGZhbHNlCgkJCQkJfQoJCQkJCQoJCQkJCWZvcih2YXIgcSA9IDA7IHEgPCBuZXdkYXRhLmRhdGFfZm9ybWF0Lmxlbmd0aDsgcSsrKXsKCQkJCQkJaWYobmV3ZGF0YS5kYXRhX2Zvcm1hdFtxXS50eXBlID09PSAn6L+Q6KGM5paH5pysJykKCQkJCQkJewoJCQkJCQkJdmFyIHkgPSB7CgkJCQkJCQkJdGl0bGU6ICcnLAoJCQkJCQkJCWNvbnRlbnQ6ICcnLAoJCQkJCQkJfQoJCQkJCQkJeS50aXRsZSA9IG5ld2RhdGEuZGF0YV9mb3JtYXRbcV0ubmFtZQoJCQkJCQkJeS5jb250ZW50ID0gbmV3ZGF0YS5kYXRhW3FdOwoJCQkJCQkJdGhhdC5jb250ZW50cy5wdXNoKHkpOwoJCQkJCQl9CgkJCQkJfQoJCQkJCWlmKHRoYXQuY29udGVudHMubGVuZ3RoPjApCgkJCQkJewoJCQkJCQl0aGF0Lmlzc2hvdzMgPSB0cnVlCgkJCQkJfWVsc2V7CgkJCQkJCXRoYXQuaXNzaG93MyA9IGZhbHNlCgkJCQkJfQoJCQkKCgkJCQkJdmFyIGRhdGUgPSB0aGF0LmdldEJlZm9yZURhdGUoMCkKCQkJCQlpZiAodGhhdC52YWx1ZSA9PT0gZGF0ZSkgewoJCQkJCQl2YXIgY2hhcnREYXRhID0gdGhhdC5zbGljZURhdGFBcnJheShkYXRlKQoJCQkJCQkvLyB2YXIgdHlwZQoJCQkJCQkvLyB2YXIgY291bnQKCQkJCQkJLy8gZm9yKHZhciB4ID0gMDsgeCA8IGNoYXJ0RGF0YVswXS5kYXRhX2Zvcm1hdC5sZW5ndGg7IHgrKyl7CgkJCQkJCS8vIAlpZihjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRbeF0udHlwZSA9PT0gJ+i/kOihjOaVsOaNricpCgkJCQkJCS8vIAl7CgkJCQkJCS8vIAkJdHlwZSA9IGNoYXJ0RGF0YVswXS5kYXRhX2Zvcm1hdFt4XS5uYW1lCgkJCQkJCS8vIAkJY291bnQgPSB4CgkJCQkJCS8vIAkJYnJlYWsKCQkJCQkJLy8gCX0KCQkJCQkJLy8gfQoJCQkJCQkKCQkJCQkJdmFyIGNvdW50CgkJCQkJCWZvciAodmFyIGsgPSAwOyBrIDwgY2hhcnREYXRhWzBdLmRhdGFfZm9ybWF0Lmxlbmd0aDsgaysrKSB7CgkJCQkJCQlpZiAoY2hhcnREYXRhWzBdLmRhdGFfZm9ybWF0W2tdLm5hbWUgPT09IHRoYXQudmFsICYmIGNoYXJ0RGF0YVswXS5kYXRhX2Zvcm1hdFtrXS50eXBlID09PSAn6L+Q6KGM5pWw5o2uJykgewoJCQkJCQkJCWNvdW50ID0gawoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCQoJCQkJCQl2YXIgY2hhcnRkYXRhMSA9IFtdCgkJCQkJCWZvciAodmFyIGggPSAwOyBoIDwgY2hhcnREYXRhLmxlbmd0aDsgaCsrKSB7CgkJCQkJCQl2YXIgYiA9IHsKCQkJCQkJCQluYW1lOiAnJywKCQkJCQkJCQl2YWx1ZTogW10KCQkJCQkJCX0KCQkJCQkJCWIubmFtZSA9IGNoYXJ0RGF0YVtoXS50aW1lCgkJCQkJCQliLnZhbHVlLnB1c2goY2hhcnREYXRhW2hdLnRpbWUpCgkJCQkJCQliLnZhbHVlLnB1c2gocGFyc2VJbnQoY2hhcnREYXRhW2hdLmRhdGFbY291bnRdKSkKCQkJCQkJCWNoYXJ0ZGF0YTEucHVzaChiKQoJCQkJCQl9CgkJCQkJCXZhciBjaGFydERhdGEyID0gY2hhcnRkYXRhMS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsKCQkJCQkJCXJldHVybiBhLm5hbWUgPiBiLm5hbWUgPyAxIDogLTEKCQkJCQkJfSkKCQkJCQkJdGhhdC5jaGFydERhdGEgPSBjaGFydERhdGEyCgkJCQkJCXZhciBjaGFydGRhdGEzID0gW10KCQkJCQkJdmFyIGEgPSAwCgkJCQkJCXZhciBtYXggPSB0aGF0LmNoYXJ0RGF0YVswXS52YWx1ZVsxXQoJCQkJCQl2YXIgbWluID0gdGhhdC5jaGFydERhdGFbMF0udmFsdWVbMV0KCQkJCQkJZm9yICh2YXIgcCA9IDA7IHAgPCB0aGF0LmNoYXJ0RGF0YS5sZW5ndGg7IHArKykgewoJCQkJCQkJYSA9IGEgKyB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJCQkJaWYgKG1heCA8IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdKSB7CgkJCQkJCQkJbWF4ID0gdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0KCQkJCQkJCX0KCQkJCQkJCWlmIChtaW4gPiB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXSkgewoJCQkJCQkJCW1pbiA9IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJYSA9IGEgLyB0aGF0LmNoYXJ0RGF0YS5sZW5ndGgKCQkJCQkJYSA9IGEudG9GaXhlZCgyKQoJCQkJCQljaGFydGRhdGEzLnB1c2goYSkKCQkJCQkJY2hhcnRkYXRhMy5wdXNoKG1heCkKCQkJCQkJY2hhcnRkYXRhMy5wdXNoKG1pbikKCQkJCQkJdGhhdC5uZXdjaGFydERhdGEgPSBjaGFydGRhdGEzCgkJCQkJfQoJCQkJfSwKCQkJfSwKCQkJY2hhcnREYXRhOiB7CgkJCQlkZWVwOiB0cnVlLAoJCQkJaGFuZGxlcigpIHsKCQkJCQl0aGlzLiRuZXh0VGljaygoKSA9PiB7CgkJCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCQkJLy8gc2V0VGltZW91dAoJCQkJCQkJdGhpcy5kcmF3Q2hhcnQoJ2xpbmVjaGFydDEnKQoJCQkJCQl9LCAzMDApCgkJCQkJfSkKCQkJCX0sCgkJCX0sCgkJCW5ld2NoYXJ0RGF0YTogewoJCQkJZGVlcDogdHJ1ZSwKCQkJCWhhbmRsZXIoKSB7CgkJCQkJdGhpcy4kbmV4dFRpY2soKCkgPT4gewoJCQkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQkJCS8vIHNldFRpbWVvdXQKCQkJCQkJCXRoaXMuZHJhd0NoYXJ0MignbGluZWNoYXJ0MicpCgkJCQkJCX0sIDMwMCkKCQkJCQl9KQoJCQkJfSwKCQkJfSwKCQl9LAoJCW1ldGhvZHM6IHsKCQkJZ29CYWNrKCkgewoJCQkJdGhpcy4kcm91dGVyLmdvKC0xKQoJCQl9LAoJCQloYW5kbGVDaGFuZ2UodmFsKSB7CgkJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQoJCQkJY29uc29sZS5sb2codmFsKQoJCQkJdGhpcy5jdXJyZW50UGFnZSA9IHZhbAoJCQl9LAoJCQkvL+iOt+WPlueUqOaIt+S/oeaBrwoJCQlnZXRDb29raWVEYXRhKCkgewoJCQkJY29uc3QgdGhhdCA9IHRoaXMKCQkJCXRoYXQudXNlcl9pZCA9IENvb2tpZXMuZ2V0KCd1c2VyX2lkJykKCQkJCXRoYXQudG9rZW4gPSBDb29raWVzLmdldCgndG9rZW4nKQoJCQkJdGhhdC5jb21wYW55X2lkID0gQ29va2llcy5nZXQoJ2NvbXBhbnlfaWQnKQoJCQl9LAoKCQkJLy/ojrflj5bot6/nlLHkv6Hmga8KCQkJZ2V0Um91dGVEYXRhKCkgewoJCQkJY29uc3QgdGhhdCA9IHRoaXMKCQkJCXZhciBuZXdfZGV2aWNlID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoYXQuJHJvdXRlLnF1ZXJ5LmRldmljZSkKCQkJCXRoYXQuZGV2aWNlID0gSlNPTi5wYXJzZShuZXdfZGV2aWNlKQoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCS8vY29uc29sZS5sb2codGhhdC5kZXZpY2UpCgkJCX0sCgoJCQkvL+iOt+WPluaXtumXtOmAieaLqeWZqAoJCQlnZXRCZWZvcmVEYXRlKG4pIHsKCQkJCXZhciBkID0gbmV3IERhdGUoKQoJCQkJdmFyIHllYXIgPSBkLmdldEZ1bGxZZWFyKCkKCQkJCXZhciBtb24gPSBkLmdldE1vbnRoKCkgKyAxCgkJCQl2YXIgZGF5ID0gZC5nZXREYXRlKCkKCQkJCWlmIChkYXkgPD0gbikgewoJCQkJCWlmIChtb24gPiAxKSB7CgkJCQkJCW1vbiA9IG1vbiAtIDEKCQkJCQl9IGVsc2UgewoJCQkJCQl5ZWFyID0geWVhciAtIDEKCQkJCQkJbW9uID0gMTIKCQkJCQl9CgkJCQl9CgkJCQlkLnNldERhdGUoZC5nZXREYXRlKCkgLSBuKQoJCQkJeWVhciA9IGQuZ2V0RnVsbFllYXIoKQoJCQkJbW9uID0gZC5nZXRNb250aCgpICsgMQoJCQkJZGF5ID0gZC5nZXREYXRlKCkKCQkJCXZhciBzID0geWVhciArICctJyArIChtb24gPCAxMCA/ICcwJyArIG1vbiA6IG1vbikgKyAnLScgKyAoZGF5IDwgMTAgPyAnMCcgKyBkYXkgOiBkYXkpCgkJCQlyZXR1cm4gcwoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCS8vY29uc29sZS5sb2cocykKCQkJfSwKCQkJZ2V0RGF0ZUFycmF5KCkgewoJCQkJY29uc3QgdGhhdCA9IHRoaXMKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7CgkJCQkJdmFyIGEgPSB7fQoJCQkJCWEudmFsdWUgPSB0aGF0LmdldEJlZm9yZURhdGUoaSkKCQkJCQlhLmxhYmVsID0gdGhhdC5nZXRCZWZvcmVEYXRlKGkpCgkJCQkJdGhhdC5kYXRlT3B0aW9ucy5wdXNoKGEpCgkJCQl9CgkJCQl0aGF0LnZhbHVlID0gdGhhdC5kYXRlT3B0aW9uc1swXS52YWx1ZQoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCS8vY29uc29sZS5sb2codGhhdC5kYXRlT3B0aW9ucykKCQkJfSwKCgkJCS8v6I635Y+W5pWw5o2u57G75Z6L6YCJ5oup5ZmoCgkJCWdldERhdGFUeXBlKCkgewoJCQkJY29uc3QgdGhhdCA9IHRoaXMKCQkJCXZhciBuZXdfZGV2aWNlID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoYXQuJHJvdXRlLnF1ZXJ5LmRldmljZSkKCQkJCXZhciBkZXZpY2UxID0gSlNPTi5wYXJzZShuZXdfZGV2aWNlKQoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBkZXZpY2UxLmRhdGFfZm9ybWF0Lmxlbmd0aDsgaSsrKSB7CgkJCQkJaWYoZGV2aWNlMS5kYXRhX2Zvcm1hdFtpXS50eXBlID09PSAn6L+Q6KGM5pWw5o2uJykKCQkJCQl7CgkJCQkJICB2YXIgYSA9IHt9CgkJCQkJICBhLnZhbHVlID0gZGV2aWNlMS5kYXRhX2Zvcm1hdFtpXS5uYW1lCgkJCQkJICBhLmxhYmVsID0gZGV2aWNlMS5kYXRhX2Zvcm1hdFtpXS5uYW1lCgkJCQkJICB0aGF0LmRhdGF0eXBlW2ldID0gYQoJCQkJCX0KCQkKCQkJCX0KCQkJCXRoYXQudmFsID0gdGhhdC5kYXRhdHlwZVswXS52YWx1ZQoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCS8vY29uc29sZS5sb2codGhhdC5kYXRhdHlwZSkKCQkJfSwKCgkJCS8v5pe26Ze06L2s5o2iCgkJCWdldFlNREhNUyh0aW1lc3RhbXApIHsKCQkJCWxldCB0aW1lID0gbmV3IERhdGUodGltZXN0YW1wKQoJCQkJbGV0IHllYXIgPSB0aW1lLmdldEZ1bGxZZWFyKCkKCQkJCWxldCBtb250aCA9IHRpbWUuZ2V0TW9udGgoKSArIDEKCQkJCWxldCBkYXRlID0gdGltZS5nZXREYXRlKCkKCQkJCWxldCBob3VycyA9IHRpbWUuZ2V0SG91cnMoKQoJCQkJbGV0IG1pbnV0ZSA9IHRpbWUuZ2V0TWludXRlcygpCgkJCQlsZXQgc2Vjb25kID0gdGltZS5nZXRTZWNvbmRzKCkKCgkJCQlpZiAobW9udGggPCAxMCkgewoJCQkJCW1vbnRoID0gJzAnICsgbW9udGgKCQkJCX0KCQkJCWlmIChkYXRlIDwgMTApIHsKCQkJCQlkYXRlID0gJzAnICsgZGF0ZQoJCQkJfQoJCQkJaWYgKGhvdXJzIDwgMTApIHsKCQkJCQlob3VycyA9ICcwJyArIGhvdXJzCgkJCQl9CgkJCQlpZiAobWludXRlIDwgMTApIHsKCQkJCQltaW51dGUgPSAnMCcgKyBtaW51dGUKCQkJCX0KCQkJCWlmIChzZWNvbmQgPCAxMCkgewoJCQkJCXNlY29uZCA9ICcwJyArIHNlY29uZAoJCQkJfQoJCQkJcmV0dXJuIHllYXIgKyAnLScgKyBtb250aCArICctJyArIGRhdGUgKyAnICcgKyBob3VycyArICc6JyArIG1pbnV0ZSArICc6JyArIHNlY29uZAoJCQl9LAoKCQkJLy/ov57mjqVtcXR0CgkJCWdldE1xdHQoKSB7CgkJCQljb25zdCB0aGF0ID0gdGhpcwoJCQkJY29uc3QgdXNlcl9pZCA9IENvb2tpZXMuZ2V0KCd1c2VyX2lkJykKCQkJCWNvbnN0IHBhc3N3b3JkID0gQ29va2llcy5nZXQoJ3Bhc3N3b3JkJykKCQkJCWNvbnN0IGNvbXBhbnlfaWQgPSBDb29raWVzLmdldCgnY29tcGFueV9pZCcpCgkJCQkvLyB2YXIgbmV3X2RldmljZSA9IGRlY29kZVVSSUNvbXBvbmVudCh0aGF0LiRyb3V0ZS5xdWVyeS5kZXZpY2UpCgkJCQkvLyBjb25zdCBkZXZpY2UyID0gSlNPTi5wYXJzZShuZXdfZGV2aWNlKQoJCQkJY29uc3Qgb3B0aW9ucyA9IHsKCQkJCQkvLyDotoXml7bml7bpl7QKCQkJCQljb25uZWN0VGltZW91dDogNDAwMCwKCQkJCQkvLyDorqTor4Hkv6Hmga8KCQkJCQljbGllbnRJZDogdXNlcl9pZCwKCQkJCQl1c2VybmFtZTogdXNlcl9pZCwKCQkJCQlwYXNzd29yZDogcGFzc3dvcmQsIC8v5pyq5Yqg5a+G55qEcGFzc3dvcmQKCQkJCQkvLyDlv4Pot7Pml7bpl7QKCQkJCQlrZWVwYWxpdmU6IDYwLAoJCQkJCWNsZWFuOiB0cnVlLAoJCQkJfQoJCQkJLy8gV2ViU29ja2V0IOi/nuaOpeWtl+espuS4sgoJCQkJLy8gY29uc3QgY29uc3RXZWJTb2NrZXRfVVJMPSd3czovL2xvY2FsaG9zdDo4MDgzL21xdHQnCgkJCQkvLyBUQ1AvVExTIOi/nuaOpeWtl+espuS4su+8jOS7hemZkCBOb2RlLmpzIOeOr+WigwoJCQkJY29uc3QgVENQX1VSTCA9ICd3c3M6Ly9tcXR0Lm1hcGxlLnRvZGF5OjgwODQvbXF0dCcKCQkJCXRoaXMuY2xpZW50ID0gbXF0dC5jb25uZWN0KFRDUF9VUkwsIG9wdGlvbnMpCgkJCQl2YXIgdXJsID0gJ3VwZGF0ZScgKyAnLycgKyBjb21wYW55X2lkICsgJy8jJwoJCQkJdGhpcy5jbGllbnQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7CgkJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCQljb25zb2xlLmxvZygn6L+e5o6l5oiQ5YqfJykKCQkJCQl0aGlzLmNsaWVudC5zdWJzY3JpYmUodXJsLCBlcnIgPT4gewoJCQkJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQoJCQkJCQljb25zb2xlLmxvZyhlcnIgfHwgJ+iuoumYheaIkOWKnycpCgkJCQkJfSkKCQkJCX0pCgkJCQl0aGlzLmNsaWVudC5vbigncmVjb25uZWN0JywgZXJyb3IgPT4gewoJCQkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgkJCQkJY29uc29sZS5sb2coJ+ato+WcqOmHjei/njonLCBlcnJvcikKCQkJCQl0aGlzLmNsaWVudC5lbmQoKQoJCQkJCUNvb2tpZXMucmVtb3ZlKCd0b2tlbicpCgkJCQkJbG9jYXRpb24ucmVsb2FkKCkKCQkJCX0pCgkJCQl0aGlzLmNsaWVudC5vbignZXJyb3InLCBlcnJvciA9PiB7CgkJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCQljb25zb2xlLmxvZygn6L+e5o6l5aSx6LSlOicsIGVycm9yKQoJCQkJfSkKCQkJCXRoaXMuY2xpZW50Lm9uKCdtZXNzYWdlJywgZnVuY3Rpb24odG9waWMsIHBheWxvYWQpIHsKCQkJCQkvL3ZhciByZXF1ZXN0SWQgPSB0b3BpYy5zbGljZSgndXBkYXRlLzEvMScubGVuZ3RoKQoJCQkJCXZhciBtZXNzYWdlRGF0YSA9IEpTT04ucGFyc2UocGF5bG9hZC50b1N0cmluZygpKQoJCQkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgoJCQkJCWlmICh0aGF0LmRldmljZS5zZW5zb3JfaWQ9PW1lc3NhZ2VEYXRhLnNlbnNvcl9pZCl7CgkJCQkJCXZhciBkYXRhID0gewoJCQkJCQkJCWRhdGE6IFtdLAoJCQkJCQkJCWRhdGFfZm9ybWF0OiBbXSwKCQkJCQkJCQlzZW5zb3JfaWQ6ICcnLAoJCQkJCQkJCXRpbWU6ICcnLAoJCQkJCQkJCWRldmljZV9pZDogJycsCgkJCQkJCQkJY29tcGFueV9pZDogJycKCQkJCQkJCX0KCQkJCQkJZGF0YS5jb21wYW55X2lkID0gbWVzc2FnZURhdGEuY29tcGFueV9pZAoJCQkJCQlkYXRhLnNlbnNvcl9pZCA9IG1lc3NhZ2VEYXRhLnNlbnNvcl9pZAoJCQkJCQlkYXRhLmRldmljZV9pZCA9IG1lc3NhZ2VEYXRhLmRldmljZV9pZAoJCQkJCQlkYXRhLmRhdGEgPSBtZXNzYWdlRGF0YS5kYXRhX3VwbG9hZAoJCQkJCQlkYXRhLmRhdGFfZm9ybWF0ID0gdGhhdC5kZXZpY2UuZGF0YV9mb3JtYXQKCQkJCQkJZGF0YS50aW1lID0gdGhhdC5nZXRZTURITVMocGFyc2VJbnQobWVzc2FnZURhdGEudGltZXN0YW1wKSkKCQkJCQkJdGhhdC5tc2cgPSBkYXRhCgkJCQkJfQoJCQkJCWNvbnNvbGUubG9nKHRoYXQubXNnKQkKCQkJCX0pCgkJCX0sCgoJCQllbmRNcXR0KCkgewoJCQkJdGhpcy5jbGllbnQuZW5kKCkKCQkJfSwKCgkJCS8v6I635Y+W6K6+5aSH5omA5pyJ5pWw5o2uCgkJCWZldGNoRGV2aWNlRGF0YSgpIHsKCQkJCWNvbnN0IHRoYXQgPSB0aGlzCgkJCQl2YXIgdXJsID0gJ2h0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9JT1RwbGF0Zm9ybS9TZXJ2ZXJNYWluP3JlcXVlc3RDb2RlPTAyNycKCQkJCWF4aW9zCgkJCQkJLmdldCh1cmwsIHsKCQkJCQkJcGFyYW1zOiB7CgkJCQkJCQl1c2VyX2lkOiB0aGF0LnVzZXJfaWQsCgkJCQkJCQljb21wYW55X2lkOiB0aGF0LmNvbXBhbnlfaWQsCgkJCQkJCQl0b2tlbjogdGhhdC50b2tlbiwKCQkJCQkJCWRldmljZV9pZDogdGhhdC5kZXZpY2Uuc2Vuc29yX2lkLAoJCQkJCQl9LAoJCQkJCX0pCgkJCQkJLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhKQoJCQkJCQlmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEuZGF0YS5sZW5ndGg7IGkrKykgewoJCQkJCQkJdmFyIGZldGNoZGF0YTEgPSByZXNwb25zZS5kYXRhLmRhdGFbaV0uZGF0YS5yZXBsYWNlKCdbJywgJycpCgkJCQkJCQl2YXIgZmV0Y2hkYXRhMiA9IGZldGNoZGF0YTEucmVwbGFjZSgnXScsICcnKQoJCQkJCQkJdmFyIGZldGNoZGF0YTMgPSBmZXRjaGRhdGEyLnJlcGxhY2VBbGwoJyInLCAnJykKCQkJCQkJCXJlc3BvbnNlLmRhdGEuZGF0YVtpXS5kYXRhID0gZmV0Y2hkYXRhMy5zcGxpdCgnLCcpCgkJCQkJCQlyZXNwb25zZS5kYXRhLmRhdGFbaV0uZGF0YV9mb3JtYXQgPSB0aGF0LmRldmljZS5kYXRhX2Zvcm1hdAoJCQkJCQl9CgkJCQkJCQoJCQkJCQl0aGF0LmZldGNoZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YQoJCQkJCQljb25zb2xlLmxvZyh0aGF0LmZldGNoZGF0YSkKCgkJCQkJCS8v5pWw5o2u5aSE55CGCgkJCQkJCWZvciAodmFyIGogPSAwOyBqIDwgdGhhdC5mZXRjaGRhdGEubGVuZ3RoOyBqKyspIHsKCQkJCQkJCWRlbGV0ZSB0aGF0LmZldGNoZGF0YVtqXS5jb21wYW55X2lkCgkJCQkJCQlkZWxldGUgdGhhdC5mZXRjaGRhdGFbal0uc2Vuc29yX2lkCgkJCQkJCQlkZWxldGUgdGhhdC5mZXRjaGRhdGFbal0uZGV2aWNlX2lkCgkJCQkJCX0KICAgICAgICAgICAgICAgICAgICAgICAgLy/liJ3lp4vmiKrlj5bliqjmgIHmlbDmja4KCQkJCQkJdmFyIGRhdGUgPSB0aGF0LmdldEJlZm9yZURhdGUoMCkKCQkJCQkJY29uc29sZS5sb2coZGF0ZSkKCQkJCQkJdmFyIGNoYXJ0RGF0YSA9IHRoYXQuc2xpY2VEYXRhQXJyYXkoZGF0ZSkKCQkJCQkJY29uc29sZS5sb2coY2hhcnREYXRhKQoJCQkJCQl2YXIgdHlwZQoJCQkJCQl2YXIgY291bnQKCQkJCQkJZm9yKHZhciB4ID0gMDsgeCA8IGNoYXJ0RGF0YVswXS5kYXRhX2Zvcm1hdC5sZW5ndGg7IHgrKyl7CgkJCQkJCQlpZihjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRbeF0udHlwZSA9PT0gJ+i/kOihjOaVsOaNricpCgkJCQkJCQl7CgkJCQkJCQkJdHlwZSA9IGNoYXJ0RGF0YVswXS5kYXRhX2Zvcm1hdFt4XS5uYW1lCgkJCQkJCQkJY291bnQgPSB4CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQljb25zb2xlLmxvZyhjb3VudCkKCQkJCQkJLy8gdmFyIHR5cGUgPSBjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRbMF0ubmFtZQoJCQkJCQkvLyB2YXIgY291bnQKCQkJCQkJLy8gZm9yICh2YXIgayA9IDA7IGsgPCBjaGFydERhdGFbMF0uZGF0YV9mb3JtYXQubGVuZ3RoOyBrKyspIHsKCQkJCQkJLy8gCWlmIChjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRba10ubmFtZSA9PT0gdHlwZSkgewoJCQkJCQkvLyAJCWNvdW50ID0gawoJCQkJCQkvLyAJfQoJCQkJCQkvLyB9CgkJCQkJCXZhciBjaGFydGRhdGExID0gW10KCQkJCQkJZm9yICh2YXIgaCA9IDA7IGggPCBjaGFydERhdGEubGVuZ3RoOyBoKyspIHsKCQkJCQkJCXZhciBiID0gewoJCQkJCQkJCW5hbWU6ICcnLAoJCQkJCQkJCXZhbHVlOiBbXQoJCQkJCQkJfQoJCQkJCQkJYi5uYW1lID0gY2hhcnREYXRhW2hdLnRpbWUKCQkJCQkJCWIudmFsdWUucHVzaChjaGFydERhdGFbaF0udGltZSkKCQkJCQkJCWIudmFsdWUucHVzaChwYXJzZUludChjaGFydERhdGFbaF0uZGF0YVtjb3VudF0pKQoJCQkJCQkJY2hhcnRkYXRhMS5wdXNoKGIpCgkJCQkJCX0KCQkJCQkJdGhhdC5jaGFydERhdGEgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJCQkJcmV0dXJuIGEubmFtZSA+IGIubmFtZSA/IDEgOiAtMQoJCQkJCQl9KQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGF0LmNoYXJ0RGF0YSkKCQkJCQkJCgkJCQkJCXZhciBjaGFydGRhdGEzID0gW10KCQkJCQkJdmFyIGEgPSAwCgkJCQkJCXZhciBtYXggPSB0aGF0LmNoYXJ0RGF0YVswXS52YWx1ZVsxXQoJCQkJCQl2YXIgbWluID0gdGhhdC5jaGFydERhdGFbMF0udmFsdWVbMV0KCQkJCQkJZm9yICh2YXIgcCA9IDA7IHAgPCB0aGF0LmNoYXJ0RGF0YS5sZW5ndGg7IHArKykgewoJCQkJCQkJYSA9IGEgKyB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJCQkJaWYgKG1heCA8IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdKSB7CgkJCQkJCQkJbWF4ID0gdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0KCQkJCQkJCX0KCQkJCQkJCWlmIChtaW4gPiB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXSkgewoJCQkJCQkJCW1pbiA9IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJYSA9IGEgLyB0aGF0LmNoYXJ0RGF0YS5sZW5ndGgKCQkJCQkJYSA9IGEudG9GaXhlZCgyKQoJCQkJCQljaGFydGRhdGEzLnB1c2goYSkKCQkJCQkJY2hhcnRkYXRhMy5wdXNoKG1heCkKCQkJCQkJY2hhcnRkYXRhMy5wdXNoKG1pbikKCQkJCQkJdGhhdC5uZXdjaGFydERhdGEgPSBjaGFydGRhdGEzCgkJCQkJfSkKCQkJCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQkJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCQkJY29uc29sZS5sb2coZXJyb3IpCgkJCQkJfSkKCQkJfSwKCgkJCS8v5qC55o2u5pel5pyf5oiq5Y+W5pWw5o2uCgkJCXNsaWNlRGF0YUFycmF5KGNob3NlbmRhdGUpIHsKCQkJCWNvbnN0IHRoYXQgPSB0aGlzCgkJCQl2YXIgY2hhcnREYXRhID0gW10KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhhdC5mZXRjaGRhdGEubGVuZ3RoOyBpKyspIHsKCQkJCQl2YXIgc3RyID0gdGhhdC5mZXRjaGRhdGFbaV0udGltZS5zbGljZSgwLCAxMCkKCQkJCQlpZiAoc3RyID09PSBjaG9zZW5kYXRlKSB7CgkJCQkJCWNoYXJ0RGF0YS5wdXNoKHRoYXQuZmV0Y2hkYXRhW2ldKQoJCQkJCX0KCQkJCX0KCQkJCXJldHVybiBjaGFydERhdGEKCQkJfSwKCgkJCS8v5pel5pyf6YCJ5oupCgkJCWdldENoYW5nZSh2YWwpIHsKCQkJCWNvbnN0IHRoYXQgPSB0aGlzCgkJCQl0aGF0LnZhbHVlID0gdmFsCgkJCQl2YXIgdmFsMSA9IHZhbAoJCQkJLy8gdmFyIGRhdGUgPSB0aGF0LmdldEJlZm9yZURhdGUoMCkKCQkJCS8vIGlmICh2YWwxICE9PSBkYXRlKSB7CgkJCQl2YXIgY2hhcnREYXRhID0gdGhhdC5zbGljZURhdGFBcnJheSh2YWwxKQoJCQkJdGhhdC5sZW5ndGggPSBjaGFydERhdGEubGVuZ3RoCgkJCQlpZiAodGhhdC5sZW5ndGggPT09IDApIHsKCQkJCQl0aGF0LmNoYXJ0RGF0YSA9IFtdCgkJCQkJdGhhdC5uZXdjaGFydERhdGEgPSBbXQoJCQkJfQoKCQkJCXZhciBjb3VudAoJCQkJZm9yICh2YXIgayA9IDA7IGsgPCBjaGFydERhdGFbMF0uZGF0YV9mb3JtYXQubGVuZ3RoOyBrKyspIHsKCQkJCQlpZiAoY2hhcnREYXRhWzBdLmRhdGFfZm9ybWF0W2tdLm5hbWUgPT09IHRoYXQudmFsICYmIGNoYXJ0RGF0YVswXS5kYXRhX2Zvcm1hdFtrXS50eXBlID09PSAn6L+Q6KGM5pWw5o2uJykgewoJCQkJCQljb3VudCA9IGsKCQkJCQl9CgkJCQl9CgkJCQl2YXIgY2hhcnRkYXRhMSA9IFtdCgkJCQlmb3IgKHZhciBoID0gMDsgaCA8IGNoYXJ0RGF0YS5sZW5ndGg7IGgrKykgewoJCQkJCXZhciBiID0gewoJCQkJCQluYW1lOiAnJywKCQkJCQkJdmFsdWU6IFtdCgkJCQkJfQoJCQkJCWIubmFtZSA9IGNoYXJ0RGF0YVtoXS50aW1lCgkJCQkJYi52YWx1ZS5wdXNoKGNoYXJ0RGF0YVtoXS50aW1lKQoJCQkJCWIudmFsdWUucHVzaChwYXJzZUludChjaGFydERhdGFbaF0uZGF0YVtjb3VudF0pKQoJCQkJCWNoYXJ0ZGF0YTEucHVzaChiKQoJCQkJfQoJCQkJdGhhdC5jaGFydERhdGEgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJCXJldHVybiBhLm5hbWUgPiBiLm5hbWUgPyAxIDogLTEKCQkJCX0pCgkJCQl0aGF0LmNoYXJ0RGF0YTIgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJCXJldHVybiBhLm5hbWUgPiBiLm5hbWUgPyAxIDogLTEKCQkJCX0pCgkJCQl2YXIgY2hhcnRkYXRhMyA9IFtdCgkJCQl2YXIgYSA9IDAKCQkJCXZhciBtYXggPSB0aGF0LmNoYXJ0RGF0YVswXS52YWx1ZVsxXQoJCQkJdmFyIG1pbiA9IHRoYXQuY2hhcnREYXRhWzBdLnZhbHVlWzFdCgkJCQlmb3IgKHZhciBwID0gMDsgcCA8IHRoYXQuY2hhcnREYXRhLmxlbmd0aDsgcCsrKSB7CgkJCQkJYSA9IGEgKyB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJCWlmIChtYXggPCB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXSkgewoJCQkJCQltYXggPSB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJCX0KCQkJCQlpZiAobWluID4gdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0pIHsKCQkJCQkJbWluID0gdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0KCQkJCQl9CgkJCQl9CgkJCQlhID0gYSAvIHRoYXQuY2hhcnREYXRhLmxlbmd0aAoJCQkJYSA9IGEudG9GaXhlZCgyKQoJCQkJY2hhcnRkYXRhMy5wdXNoKGEpCgkJCQljaGFydGRhdGEzLnB1c2gobWF4KQoJCQkJY2hhcnRkYXRhMy5wdXNoKG1pbikKCQkJCXRoYXQubmV3Y2hhcnREYXRhID0gY2hhcnRkYXRhMwoKCQkJCS8vIH0KCQkJCS8vIGlmICh2YWwxID09PSBkYXRlKSB7CgkJCQkvLyB9CgkJCX0sCgoJCQkvL+aVsOaNruexu+Wei+mAieaLqQoJCQlnZXRUeXBlKHZhbCkgewoJCQkJY29uc3QgdGhhdCA9IHRoaXMKCQkJCXRoYXQudmFsID0gdmFsCgkJCQl2YXIgY2hhcnREYXRhID0gdGhhdC5zbGljZURhdGFBcnJheSh0aGF0LnZhbHVlKQoJCQkJdmFyIHR5cGUgPSB2YWwKCQkJCXZhciBjb3VudAoJCQkJZm9yICh2YXIgayA9IDA7IGsgPCBjaGFydERhdGFbMF0uZGF0YV9mb3JtYXQubGVuZ3RoOyBrKyspIHsKCQkJCQlpZiAoY2hhcnREYXRhWzBdLmRhdGFfZm9ybWF0W2tdLm5hbWUgPT09IHR5cGUgJiYgY2hhcnREYXRhWzBdLmRhdGFfZm9ybWF0W2tdLnR5cGUgPT09ICfov5DooYzmlbDmja4nKSB7CgkJCQkJCWNvdW50ID0gawoJCQkJCX0KCQkJCX0KCQkJCXZhciBjaGFydGRhdGExID0gW10KCQkJCWZvciAodmFyIGggPSAwOyBoIDwgY2hhcnREYXRhLmxlbmd0aDsgaCsrKSB7CgkJCQkJdmFyIGIgPSB7CgkJCQkJCW5hbWU6ICcnLAoJCQkJCQl2YWx1ZTogW10KCQkJCQl9CgkJCQkJYi5uYW1lID0gY2hhcnREYXRhW2hdLnRpbWUKCQkJCQliLnZhbHVlLnB1c2goY2hhcnREYXRhW2hdLnRpbWUpCgkJCQkJYi52YWx1ZS5wdXNoKHBhcnNlSW50KGNoYXJ0RGF0YVtoXS5kYXRhW2NvdW50XSkpCgkJCQkJY2hhcnRkYXRhMS5wdXNoKGIpCgkJCQl9CgkJCQl0aGF0LmNoYXJ0RGF0YSA9IGNoYXJ0ZGF0YTEuc29ydChmdW5jdGlvbihhLCBiKSB7CgkJCQkJcmV0dXJuIGEubmFtZSA+IGIubmFtZSA/IDEgOiAtMQoJCQkJfSkKCQkJCXRoYXQuY2hhcnREYXRhMiA9IGNoYXJ0ZGF0YTEuc29ydChmdW5jdGlvbihhLCBiKSB7CgkJCQkJcmV0dXJuIGEubmFtZSA+IGIubmFtZSA/IDEgOiAtMQoJCQkJfSkKCQkJCXZhciBjaGFydGRhdGEzID0gW10KCQkJCXZhciBhID0gMAoJCQkJdmFyIG1heCA9IHRoYXQuY2hhcnREYXRhWzBdLnZhbHVlWzFdCgkJCQl2YXIgbWluID0gdGhhdC5jaGFydERhdGFbMF0udmFsdWVbMV0KCQkJCWZvciAodmFyIHAgPSAwOyBwIDwgdGhhdC5jaGFydERhdGEubGVuZ3RoOyBwKyspIHsKCQkJCQlhID0gYSArIHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQkJaWYgKG1heCA8IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdKSB7CgkJCQkJCW1heCA9IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQkJfQoJCQkJCWlmIChtaW4gPiB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXSkgewoJCQkJCQltaW4gPSB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJCX0KCQkJCX0KCQkJCWEgPSBhIC8gdGhhdC5jaGFydERhdGEubGVuZ3RoCgkJCQlhID0gYS50b0ZpeGVkKDIpCgkJCQljaGFydGRhdGEzLnB1c2goYSkKCQkJCWNoYXJ0ZGF0YTMucHVzaChtYXgpCgkJCQljaGFydGRhdGEzLnB1c2gobWluKQoJCQkJdGhhdC5uZXdjaGFydERhdGEgPSBjaGFydGRhdGEzCgkJCX0sCgoJCQkvL+eUu+WbvgoJCQlkcmF3Q2hhcnQobmFtZSkgewoJCQkJdmFyIG15Q2hhcnQgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobmFtZSkpCgkJCQl2YXIgZGF0YSA9IHRoaXMuY2hhcnREYXRhCgoJCQkJY29uc3Qgb3B0aW9uID0gewoJCQkJCXRpdGxlOiB7fSwKCQkJCQl0b29sdGlwOiB7CgkJCQkJCXRyaWdnZXI6ICdheGlzJywKCQkJCQkJZm9ybWF0dGVyOiBmdW5jdGlvbihwYXJhbXMpIHsKCQkJCQkJCXBhcmFtcyA9IHBhcmFtc1swXQoJCQkJCQkJdmFyIGRhdGUgPSBuZXcgRGF0ZShwYXJhbXMubmFtZSkKCQkJCQkJCXZhciBob3VyID0gZGF0ZS5nZXRIb3VycygpCgkJCQkJCQl2YXIgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpCgkJCQkJCQl2YXIgc2Vjb25kcyA9IGRhdGUuZ2V0U2Vjb25kcygpCgkJCQkJCQlpZiAoaG91ciA8IDEwKSB7CgkJCQkJCQkJaG91ciA9ICcwJyArIGhvdXIKCQkJCQkJCX0KCQkJCQkJCWlmIChtaW51dGVzIDwgMTApIHsKCQkJCQkJCQltaW51dGVzID0gJzAnICsgbWludXRlcwoJCQkJCQkJfQoJCQkJCQkJaWYgKHNlY29uZHMgPCAxMCkgewoJCQkJCQkJCXNlY29uZHMgPSAnMCcgKyBzZWNvbmRzCgkJCQkJCQl9CgkJCQkJCQl2YXIgZGF0ZVN0ciA9IGhvdXIgKyAnOicgKyBtaW51dGVzICsgJzonICsgc2Vjb25kcwoJCQkJCQkJcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSArICcvJyArIChkYXRlLmdldE1vbnRoKCkgKyAxKSArICcvJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy8nICsKCQkJCQkJCQlkYXRlU3RyICsgJyAtICcgKyBwYXJhbXMudmFsdWVbMV0KCQkJCQkJfSwKCQkJCQkJYXhpc1BvaW50ZXI6IHsKCQkJCQkJCWFuaW1hdGlvbjogZmFsc2UsCgkJCQkJCX0sCgkJCQkJfSwKCQkJCQl4QXhpczogewoJCQkJCQl0eXBlOiAndGltZScsCgkJCQkJCXNwbGl0TGluZTogewoJCQkJCQkJc2hvdzogZmFsc2UsCgkJCQkJCX0sCgkJCQkJfSwKCQkJCQl5QXhpczogewoJCQkJCQl0eXBlOiAndmFsdWUnLAoJCQkJCQlib3VuZGFyeUdhcDogWzAsICcxMDAlJ10sCgoJCQkJCQlheGlzTGluZTogewoJCQkJCQkJc2hvdzogdHJ1ZSwgLy/ov5nph4znmoRzaG9355So5LqO6K6+572u5piv5ZCm5pi+56S6eei9tOmCo+S4gOadoee6vyDpu5jorqTkuLp0cnVlCgkJCQkJCQlsaW5lU3R5bGU6IHsKCQkJCQkJCQkvL2xpbmVTdHlsZemHjOmdouWGmXnovbTpgqPkuIDmnaHnur/nmoTmoLflvI8KCQkJCQkJCQl3aWR0aDogMSwgLy/ovbTnur/nmoTnspfnu4Yg5oiR5YaZ55qE5pivMiDmnIDlsI/kuLow77yM5YC85Li6MOeahOaXtuWAmee6v+makOiXjwoJCQkJCQkJfSwKCQkJCQkJfSwKCQkJCQl9LAoJCQkJCXNlcmllczogW3sKCQkJCQkJdHlwZTogJ2xpbmUnLAoJCQkJCQlzaG93U3ltYm9sOiBmYWxzZSwKCQkJCQkJYXJlYVN0eWxlOiB7fSwKCQkJCQkJaG92ZXJBbmltYXRpb246IGZhbHNlLAoJCQkJCQlkYXRhOiBkYXRhLAoJCQkJCX0sIF0sCgkJCQkJZGF0YVpvb206IFt7CgkJCQkJCQl0eXBlOiAnaW5zaWRlJywKCQkJCQkJCXN0YXJ0OiAwLAoJCQkJCQkJZW5kOiAxMDAsCgkJCQkJCX0sCgkJCQkJCXsKCQkJCQkJCXN0YXJ0OiAwLAoJCQkJCQkJZW5kOiAxMDAsCgkJCQkJCX0sCgkJCQkJXSwKCQkJCX0KCgkJCQlteUNoYXJ0LnNldE9wdGlvbihvcHRpb24pCgoJCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgewoJCQkJCWlmIChteUNoYXJ0KSB7CgkJCQkJCS8vIOmYsuatouaLieWKqOeql+WPo+aXtu+8jHJlc2l6ZeaKpemUmQoJCQkJCQlteUNoYXJ0LnJlc2l6ZSgpCgkJCQkJfQoJCQkJfSkKCQkJfSwKCQkJZHJhd0NoYXJ0MihuYW1lKSB7CgkJCQl2YXIgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lKSkKCgkJCQljb25zdCBvcHRpb24gPSB7CgkJCQkJdG9vbHRpcDoge30sCgkJCQkJeEF4aXM6IHsKCQkJCQkJdHlwZTogJ2NhdGVnb3J5JywKCQkJCQkJZGF0YTogWyflnYflgLwnLCAn5p6B5aSn5YC8JywgJ+aegeWwj+WAvCddLAoJCQkJCX0sCgkJCQkJeUF4aXM6IHsKCQkJCQkJdHlwZTogJ3ZhbHVlJywKCQkJCQl9LAoKCQkJCQlzZXJpZXM6IFt7CgkJCQkJCWRhdGE6IHRoaXMubmV3Y2hhcnREYXRhLAoJCQkJCQl0eXBlOiAnYmFyJywKCQkJCQkJLy8g5a6e546w5pWw5a2X5bGV56S65Zyo5p+x54q25Zu+CgkJCQkJCWl0ZW1TdHlsZTogewoJCQkJCQkJbm9ybWFsOiB7CgkJCQkJCQkJbGFiZWw6IHsKCQkJCQkJCQkJc2hvdzogdHJ1ZSwgLy/lvIDlkK/mmL7npLoKCQkJCQkJCQkJcG9zaXRpb246ICd0b3AnLCAvL+WcqOS4iuaWueaYvuekugoJCQkJCQkJCQl0ZXh0U3R5bGU6IHsKCQkJCQkJCQkJCS8v5pWw5YC85qC35byPCgkJCQkJCQkJCQljb2xvcjogJ2JsYWNrJywKCQkJCQkJCQkJCWZvbnRTaXplOiAxNiwKCQkJCQkJCQkJfSwKCQkJCQkJCQl9LAoJCQkJCQkJfSwKCQkJCQkJfSwKCQkJCQl9LCBdLAoJCQkJfQoJCQkJbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKQoKCQkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHsKCQkJCQlpZiAobXlDaGFydCkgewoJCQkJCQkvLyDpmLLmraLmi4nliqjnqpflj6Pml7bvvIxyZXNpemXmiqXplJkKCQkJCQkJbXlDaGFydC5yZXNpemUoKQoJCQkJCX0KCQkJCX0pCgkJCX0sCgkJfSwKCQltb3VudGVkKCkgewoJCQkvL3RoaXMuZ2V0TXF0dCgpCgkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCS8vIHNldFRpbWVvdXQKCQkJCQl0aGlzLmRyYXdDaGFydCgnbGluZWNoYXJ0MScpCgkJCQkJdGhpcy5kcmF3Q2hhcnQyKCdsaW5lY2hhcnQyJykKCQkJCX0sIDMwMCkKCQkJfSkKCQl9LAoJCWJlZm9yZURlc3Ryb3koKSB7CgkJCXRoaXMuZW5kTXF0dCgpCgkJfSwKCX0K"},{"version":3,"sources":["DataBoard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataBoard.vue","sourceRoot":"src/views/MainViews/Monitor","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 4%;display: flex\">\r\n\t\t\t<el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>监控运维</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>仪表盘</el-breadcrumb-item>\r\n\t\t\t<span style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t<div style=\"font-weight: 700; color: #000000; display: flex; flex-direction: row;\" @click=\"goBack\"> 设备列表</div>\r\n\t\t\t\t<!-- 设备列表 -->\r\n\t\t\t\t<i class=\"el-icon-arrow-right\" style=\"color: #9fa0a3;\"></i>\r\n\t\t\t</span>\r\n\t\t\t<el-breadcrumb-item>数据查看</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\t\t<div class=\"workspace\">\r\n\t\t\t<el-scrollbar style=\"height: 100%; width: 100%\">\r\n\t\t\t<div class=\"title-bar\">\r\n\t\t\t\t<div v-if=\"device\">{{ device.sensor_name }}</div>\r\n\t\t\t\t<div style=\"display: flex\">\r\n\t\t\t\t\t<div style=\"margin-right: 5px\">\r\n\t\t\t\t\t\t<el-select size=\"small\" placeholder=\"请选择日期\" v-model=\"value\" @change=\"getChange\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"(item, index) in dateOptions\" :key=\"index\" :label=\"item.label\"\r\n\t\t\t\t\t\t\t\t:value=\"item.value\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<el-select size=\"small\" v-model=\"val\" @change=\"getType\" placeholder=\"请选择日期\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"(item, index) in datatype\" :key=\"index\" :label=\"item.label\"\r\n\t\t\t\t\t\t\t\t:value=\"item.value\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"scrollbox\">\r\n\t\t\t\t\t<div class=\"data-board\">\r\n\t\t\t\t\t\t<div class=\"location-box\" v-if=\"isshow1\">\r\n\t\t\t\t\t\t\t<div v-for=\"data in location\" :key=\"data.title\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t<div class=\"data-title\">{{ data.title }}:</div>\r\n\t\t\t\t\t\t\t\t<div class=\"data-content\">{{ data.content }}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"deviceparameters-box\" v-if=\"isshow2\"> \r\n\t\t\t\t\t\t\t<div v-for=\"data in parameters\" :key=\"data.title\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t<div class=\"data-title\">{{ data.title }}:</div>\r\n\t\t\t\t\t\t\t    <div class=\"data-content\">{{ data.content }}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"context-box\" v-if=\"isshow3\">\r\n\t\t\t\t\t\t\t<el-scrollbar style=\"height: 100%; width: 100%\">\r\n\t\t\t\t\t\t\t\t<div style=\"display: flex; flex-direction: column;\">\r\n\t\t\t\t\t\t\t\t\t<div v-for=\"(data,index) in contents\" :key=\"index\" style=\"display: flex;height: 30px;line-height: 30px;\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"data-title\">{{ data.title }}:</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"data-content\">{{ data.content }}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-scrollbar>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"chartbox\">\r\n\t\t\t\t\t\t\t<div class=\"chart-container\">\r\n\t\t\t\t\t\t\t\t<div id=\"linechart1\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"width: 49%; height: 400px; border: 1px solid #aaaaaa; border-radius: 5px\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div id=\"linechart2\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"width: 49%; height: 400px; border: 1px solid #aaaaaa; border-radius: 5px\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style=\"border: 1px solid #aaaaaa; color: black; border-radius: 5px; height: 300px; margin-top: 10px\">\r\n\t\t\t\t\t\t\t\t<el-table :data=\"chartData.slice((currentPage - 1) * pagesize, currentPage * pagesize)\"\r\n\t\t\t\t\t\t\t\t\theight=\"250\" style=\"width: 100%\">\r\n\t\t\t\t\t\t\t\t\t<el-table-column label=\"Time\" prop=\"name\"></el-table-column>\r\n\t\t\t\t\t\t\t\t\t<el-table-column label=\"数值\" prop=\"value[1]\"></el-table-column>\r\n\t\t\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle=\"width: 100%; height: 50px; display: flex; justify-content: center; align-items: center\">\r\n\t\t\t\t\t\t\t\t\t<el-pagination background layout=\"prev, pager, next\" :total=\"chartData.length\"\r\n\t\t\t\t\t\t\t\t\t\t:page-size=\"pagesize\" :current-page=\"currentPage\"\r\n\t\t\t\t\t\t\t\t\t\t@current-change=\"handleChange\"></el-pagination>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t</div>\r\n\t\t\t</el-scrollbar>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Cookies from 'js-cookie'\r\n\timport axios from 'axios'\r\n\timport mqtt from 'mqtt'\r\n\r\n\tString.prototype.replaceAll = function(s1, s2) {\r\n\t\treturn this.replace(new RegExp(s1, 'gm'), s2)\r\n\t}\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdevice: '',\r\n\t\t\t\tuser_id: '',\r\n\t\t\t\ttoken: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tcompany_id: '',\r\n\t\t\t\tdevice_id: '',\r\n\t\t\t\tfetchdata: [],\r\n\t\t\t\tdateOptions: [],\r\n\t\t\t\tdatatype: [],\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tval: '',\r\n\t\t\t\tchartData: [],\r\n\t\t\t\tchartData2: [],\r\n\t\t\t\tnewchartData: [],\r\n\t\t\t\tdata: [],\r\n\t\t\t\tmsg: '',\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpagesize: 10,\r\n\t\t\t\tlength: '',\r\n\t\t\t\tlocation: [],\r\n\t\t\t\tparameters: [],\r\n\t\t\t\tcontents: [],\r\n\t\t\t\tisshow1: false,\r\n\t\t\t\tisshow2: false,\r\n\t\t\t\tisshow3: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getDateArray()\r\n\t\t\tthis.getDataType()\r\n\t\t\tthis.getRouteData()\r\n\t\t\tthis.getCookieData()\r\n\t\t\tthis.fetchDeviceData()\r\n\t\t\tthis.getMqtt()\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmsg: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler(newval) {\r\n\t\t\t\t\tconst that = this\r\n\t\t\t\t\tthat.fetchdata.push(newval)\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar newdata = newval\r\n\t\t\t\t\t\r\n\t\t\t\t\t//数据处理\r\n\t\t\t\t\tfor (var j = 0; j < that.fetchdata.length; j++) {\r\n\t\t\t\t\t\tdelete that.fetchdata[j].company_id\r\n\t\t\t\t\t\tdelete that.fetchdata[j].sensor_id\r\n\t\t\t\t\t\tdelete that.fetchdata[j].device_id\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar location = []\r\n\t\t\t\t\tfor(var z = 0; z < newdata.data_format.length ; z++){\r\n\t\t\t\t\t\tif(newdata.data_format[z].type === '刀具坐标'){\r\n\t\t\t\t\t\t\tvar y = {\r\n\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ty.title = newdata.data_format[z].name\r\n\t\t\t\t\t\t\ty.content = newdata.data[z]\r\n\t\t\t\t\t\t\tlocation.push(y)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.location = location\r\n\t\t\t\t\tif(that.location.length>0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthat.isshow1 = true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.isshow1 = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar parameters = []\r\n\t\t\t\t\tfor(var p = 0; p < newdata.data_format.length ; p++){\r\n\t\t\t\t\t\tif(newdata.data_format[p].type === '设备参数'){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar y = {\r\n\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ty.title = newdata.data_format[p].name\r\n\t\t\t\t\t\t\ty.content = newdata.data[p]\r\n\t\t\t\t\t\t\tparameters.push(y)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.parameters = parameters\r\n\t\t\t\t\tif(that.parameters.length>0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthat.isshow2 = true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.isshow2 = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(var q = 0; q < newdata.data_format.length; q++){\r\n\t\t\t\t\t\tif(newdata.data_format[q].type === '运行文本')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar y = {\r\n\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ty.title = newdata.data_format[q].name\r\n\t\t\t\t\t\t\ty.content = newdata.data[q];\r\n\t\t\t\t\t\t\tthat.contents.push(y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.contents.length>0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthat.isshow3 = true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.isshow3 = false\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t\t\tvar date = that.getBeforeDate(0)\r\n\t\t\t\t\tif (that.value === date) {\r\n\t\t\t\t\t\tvar chartData = that.sliceDataArray(date)\r\n\t\t\t\t\t\t// var type\r\n\t\t\t\t\t\t// var count\r\n\t\t\t\t\t\t// for(var x = 0; x < chartData[0].data_format.length; x++){\r\n\t\t\t\t\t\t// \tif(chartData[0].data_format[x].type === '运行数据')\r\n\t\t\t\t\t\t// \t{\r\n\t\t\t\t\t\t// \t\ttype = chartData[0].data_format[x].name\r\n\t\t\t\t\t\t// \t\tcount = x\r\n\t\t\t\t\t\t// \t\tbreak\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar count\r\n\t\t\t\t\t\tfor (var k = 0; k < chartData[0].data_format.length; k++) {\r\n\t\t\t\t\t\t\tif (chartData[0].data_format[k].name === that.val && chartData[0].data_format[k].type === '运行数据') {\r\n\t\t\t\t\t\t\t\tcount = k\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar chartdata1 = []\r\n\t\t\t\t\t\tfor (var h = 0; h < chartData.length; h++) {\r\n\t\t\t\t\t\t\tvar b = {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tvalue: []\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tb.name = chartData[h].time\r\n\t\t\t\t\t\t\tb.value.push(chartData[h].time)\r\n\t\t\t\t\t\t\tb.value.push(parseInt(chartData[h].data[count]))\r\n\t\t\t\t\t\t\tchartdata1.push(b)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar chartData2 = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthat.chartData = chartData2\r\n\t\t\t\t\t\tvar chartdata3 = []\r\n\t\t\t\t\t\tvar a = 0\r\n\t\t\t\t\t\tvar max = that.chartData[0].value[1]\r\n\t\t\t\t\t\tvar min = that.chartData[0].value[1]\r\n\t\t\t\t\t\tfor (var p = 0; p < that.chartData.length; p++) {\r\n\t\t\t\t\t\t\ta = a + that.chartData[p].value[1]\r\n\t\t\t\t\t\t\tif (max < that.chartData[p].value[1]) {\r\n\t\t\t\t\t\t\t\tmax = that.chartData[p].value[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (min > that.chartData[p].value[1]) {\r\n\t\t\t\t\t\t\t\tmin = that.chartData[p].value[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ta = a / that.chartData.length\r\n\t\t\t\t\t\ta = a.toFixed(2)\r\n\t\t\t\t\t\tchartdata3.push(a)\r\n\t\t\t\t\t\tchartdata3.push(max)\r\n\t\t\t\t\t\tchartdata3.push(min)\r\n\t\t\t\t\t\tthat.newchartData = chartdata3\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tchartData: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler() {\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t// setTimeout\r\n\t\t\t\t\t\t\tthis.drawChart('linechart1')\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tnewchartData: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler() {\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t// setTimeout\r\n\t\t\t\t\t\t\tthis.drawChart2('linechart2')\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgoBack() {\r\n\t\t\t\tthis.$router.go(-1)\r\n\t\t\t},\r\n\t\t\thandleChange(val) {\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\tconsole.log(val)\r\n\t\t\t\tthis.currentPage = val\r\n\t\t\t},\r\n\t\t\t//获取用户信息\r\n\t\t\tgetCookieData() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.user_id = Cookies.get('user_id')\r\n\t\t\t\tthat.token = Cookies.get('token')\r\n\t\t\t\tthat.company_id = Cookies.get('company_id')\r\n\t\t\t},\r\n\r\n\t\t\t//获取路由信息\r\n\t\t\tgetRouteData() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar new_device = decodeURIComponent(that.$route.query.device)\r\n\t\t\t\tthat.device = JSON.parse(new_device)\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t//console.log(that.device)\r\n\t\t\t},\r\n\r\n\t\t\t//获取时间选择器\r\n\t\t\tgetBeforeDate(n) {\r\n\t\t\t\tvar d = new Date()\r\n\t\t\t\tvar year = d.getFullYear()\r\n\t\t\t\tvar mon = d.getMonth() + 1\r\n\t\t\t\tvar day = d.getDate()\r\n\t\t\t\tif (day <= n) {\r\n\t\t\t\t\tif (mon > 1) {\r\n\t\t\t\t\t\tmon = mon - 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tyear = year - 1\r\n\t\t\t\t\t\tmon = 12\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\td.setDate(d.getDate() - n)\r\n\t\t\t\tyear = d.getFullYear()\r\n\t\t\t\tmon = d.getMonth() + 1\r\n\t\t\t\tday = d.getDate()\r\n\t\t\t\tvar s = year + '-' + (mon < 10 ? '0' + mon : mon) + '-' + (day < 10 ? '0' + day : day)\r\n\t\t\t\treturn s\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t//console.log(s)\r\n\t\t\t},\r\n\t\t\tgetDateArray() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tfor (var i = 0; i < 5; i++) {\r\n\t\t\t\t\tvar a = {}\r\n\t\t\t\t\ta.value = that.getBeforeDate(i)\r\n\t\t\t\t\ta.label = that.getBeforeDate(i)\r\n\t\t\t\t\tthat.dateOptions.push(a)\r\n\t\t\t\t}\r\n\t\t\t\tthat.value = that.dateOptions[0].value\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t//console.log(that.dateOptions)\r\n\t\t\t},\r\n\r\n\t\t\t//获取数据类型选择器\r\n\t\t\tgetDataType() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar new_device = decodeURIComponent(that.$route.query.device)\r\n\t\t\t\tvar device1 = JSON.parse(new_device)\r\n\t\t\t\tfor (var i = 0; i < device1.data_format.length; i++) {\r\n\t\t\t\t\tif(device1.data_format[i].type === '运行数据')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t  var a = {}\r\n\t\t\t\t\t  a.value = device1.data_format[i].name\r\n\t\t\t\t\t  a.label = device1.data_format[i].name\r\n\t\t\t\t\t  that.datatype[i] = a\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthat.val = that.datatype[0].value\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t//console.log(that.datatype)\r\n\t\t\t},\r\n\r\n\t\t\t//时间转换\r\n\t\t\tgetYMDHMS(timestamp) {\r\n\t\t\t\tlet time = new Date(timestamp)\r\n\t\t\t\tlet year = time.getFullYear()\r\n\t\t\t\tlet month = time.getMonth() + 1\r\n\t\t\t\tlet date = time.getDate()\r\n\t\t\t\tlet hours = time.getHours()\r\n\t\t\t\tlet minute = time.getMinutes()\r\n\t\t\t\tlet second = time.getSeconds()\r\n\r\n\t\t\t\tif (month < 10) {\r\n\t\t\t\t\tmonth = '0' + month\r\n\t\t\t\t}\r\n\t\t\t\tif (date < 10) {\r\n\t\t\t\t\tdate = '0' + date\r\n\t\t\t\t}\r\n\t\t\t\tif (hours < 10) {\r\n\t\t\t\t\thours = '0' + hours\r\n\t\t\t\t}\r\n\t\t\t\tif (minute < 10) {\r\n\t\t\t\t\tminute = '0' + minute\r\n\t\t\t\t}\r\n\t\t\t\tif (second < 10) {\r\n\t\t\t\t\tsecond = '0' + second\r\n\t\t\t\t}\r\n\t\t\t\treturn year + '-' + month + '-' + date + ' ' + hours + ':' + minute + ':' + second\r\n\t\t\t},\r\n\r\n\t\t\t//连接mqtt\r\n\t\t\tgetMqtt() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tconst user_id = Cookies.get('user_id')\r\n\t\t\t\tconst password = Cookies.get('password')\r\n\t\t\t\tconst company_id = Cookies.get('company_id')\r\n\t\t\t\t// var new_device = decodeURIComponent(that.$route.query.device)\r\n\t\t\t\t// const device2 = JSON.parse(new_device)\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\t// 超时时间\r\n\t\t\t\t\tconnectTimeout: 4000,\r\n\t\t\t\t\t// 认证信息\r\n\t\t\t\t\tclientId: user_id,\r\n\t\t\t\t\tusername: user_id,\r\n\t\t\t\t\tpassword: password, //未加密的password\r\n\t\t\t\t\t// 心跳时间\r\n\t\t\t\t\tkeepalive: 60,\r\n\t\t\t\t\tclean: true,\r\n\t\t\t\t}\r\n\t\t\t\t// WebSocket 连接字符串\r\n\t\t\t\t// const constWebSocket_URL='ws://localhost:8083/mqtt'\r\n\t\t\t\t// TCP/TLS 连接字符串，仅限 Node.js 环境\r\n\t\t\t\tconst TCP_URL = 'wss://mqtt.maple.today:8084/mqtt'\r\n\t\t\t\tthis.client = mqtt.connect(TCP_URL, options)\r\n\t\t\t\tvar url = 'update' + '/' + company_id + '/#'\r\n\t\t\t\tthis.client.on('connect', () => {\r\n\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\tconsole.log('连接成功')\r\n\t\t\t\t\tthis.client.subscribe(url, err => {\r\n\t\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\t\tconsole.log(err || '订阅成功')\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tthis.client.on('reconnect', error => {\r\n\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\tconsole.log('正在重连:', error)\r\n\t\t\t\t\tthis.client.end()\r\n\t\t\t\t\tCookies.remove('token')\r\n\t\t\t\t\tlocation.reload()\r\n\t\t\t\t})\r\n\t\t\t\tthis.client.on('error', error => {\r\n\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\tconsole.log('连接失败:', error)\r\n\t\t\t\t})\r\n\t\t\t\tthis.client.on('message', function(topic, payload) {\r\n\t\t\t\t\t//var requestId = topic.slice('update/1/1'.length)\r\n\t\t\t\t\tvar messageData = JSON.parse(payload.toString())\r\n\t\t\t\t\t// eslint-disable-next-line no-console\r\n\r\n\t\t\t\t\tif (that.device.sensor_id==messageData.sensor_id){\r\n\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\t\t\tdata_format: [],\r\n\t\t\t\t\t\t\t\tsensor_id: '',\r\n\t\t\t\t\t\t\t\ttime: '',\r\n\t\t\t\t\t\t\t\tdevice_id: '',\r\n\t\t\t\t\t\t\t\tcompany_id: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata.company_id = messageData.company_id\r\n\t\t\t\t\t\tdata.sensor_id = messageData.sensor_id\r\n\t\t\t\t\t\tdata.device_id = messageData.device_id\r\n\t\t\t\t\t\tdata.data = messageData.data_upload\r\n\t\t\t\t\t\tdata.data_format = that.device.data_format\r\n\t\t\t\t\t\tdata.time = that.getYMDHMS(parseInt(messageData.timestamp))\r\n\t\t\t\t\t\tthat.msg = data\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(that.msg)\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tendMqtt() {\r\n\t\t\t\tthis.client.end()\r\n\t\t\t},\r\n\r\n\t\t\t//获取设备所有数据\r\n\t\t\tfetchDeviceData() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar url = 'https://site.maple.today/IOTplatform/ServerMain?requestCode=027'\r\n\t\t\t\taxios\r\n\t\t\t\t\t.get(url, {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tuser_id: that.user_id,\r\n\t\t\t\t\t\t\tcompany_id: that.company_id,\r\n\t\t\t\t\t\t\ttoken: that.token,\r\n\t\t\t\t\t\t\tdevice_id: that.device.sensor_id,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\t\tconsole.log(response.data.data)\r\n\t\t\t\t\t\tfor (var i = 0; i < response.data.data.length; i++) {\r\n\t\t\t\t\t\t\tvar fetchdata1 = response.data.data[i].data.replace('[', '')\r\n\t\t\t\t\t\t\tvar fetchdata2 = fetchdata1.replace(']', '')\r\n\t\t\t\t\t\t\tvar fetchdata3 = fetchdata2.replaceAll('\"', '')\r\n\t\t\t\t\t\t\tresponse.data.data[i].data = fetchdata3.split(',')\r\n\t\t\t\t\t\t\tresponse.data.data[i].data_format = that.device.data_format\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.fetchdata = response.data.data\r\n\t\t\t\t\t\tconsole.log(that.fetchdata)\r\n\r\n\t\t\t\t\t\t//数据处理\r\n\t\t\t\t\t\tfor (var j = 0; j < that.fetchdata.length; j++) {\r\n\t\t\t\t\t\t\tdelete that.fetchdata[j].company_id\r\n\t\t\t\t\t\t\tdelete that.fetchdata[j].sensor_id\r\n\t\t\t\t\t\t\tdelete that.fetchdata[j].device_id\r\n\t\t\t\t\t\t}\r\n                        //初始截取动态数据\r\n\t\t\t\t\t\tvar date = that.getBeforeDate(0)\r\n\t\t\t\t\t\tconsole.log(date)\r\n\t\t\t\t\t\tvar chartData = that.sliceDataArray(date)\r\n\t\t\t\t\t\tconsole.log(chartData)\r\n\t\t\t\t\t\tvar type\r\n\t\t\t\t\t\tvar count\r\n\t\t\t\t\t\tfor(var x = 0; x < chartData[0].data_format.length; x++){\r\n\t\t\t\t\t\t\tif(chartData[0].data_format[x].type === '运行数据')\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype = chartData[0].data_format[x].name\r\n\t\t\t\t\t\t\t\tcount = x\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(count)\r\n\t\t\t\t\t\t// var type = chartData[0].data_format[0].name\r\n\t\t\t\t\t\t// var count\r\n\t\t\t\t\t\t// for (var k = 0; k < chartData[0].data_format.length; k++) {\r\n\t\t\t\t\t\t// \tif (chartData[0].data_format[k].name === type) {\r\n\t\t\t\t\t\t// \t\tcount = k\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tvar chartdata1 = []\r\n\t\t\t\t\t\tfor (var h = 0; h < chartData.length; h++) {\r\n\t\t\t\t\t\t\tvar b = {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tvalue: []\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tb.name = chartData[h].time\r\n\t\t\t\t\t\t\tb.value.push(chartData[h].time)\r\n\t\t\t\t\t\t\tb.value.push(parseInt(chartData[h].data[count]))\r\n\t\t\t\t\t\t\tchartdata1.push(b)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.chartData = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t\t\t})\r\n                        console.log(that.chartData)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar chartdata3 = []\r\n\t\t\t\t\t\tvar a = 0\r\n\t\t\t\t\t\tvar max = that.chartData[0].value[1]\r\n\t\t\t\t\t\tvar min = that.chartData[0].value[1]\r\n\t\t\t\t\t\tfor (var p = 0; p < that.chartData.length; p++) {\r\n\t\t\t\t\t\t\ta = a + that.chartData[p].value[1]\r\n\t\t\t\t\t\t\tif (max < that.chartData[p].value[1]) {\r\n\t\t\t\t\t\t\t\tmax = that.chartData[p].value[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (min > that.chartData[p].value[1]) {\r\n\t\t\t\t\t\t\t\tmin = that.chartData[p].value[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ta = a / that.chartData.length\r\n\t\t\t\t\t\ta = a.toFixed(2)\r\n\t\t\t\t\t\tchartdata3.push(a)\r\n\t\t\t\t\t\tchartdata3.push(max)\r\n\t\t\t\t\t\tchartdata3.push(min)\r\n\t\t\t\t\t\tthat.newchartData = chartdata3\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//根据日期截取数据\r\n\t\t\tsliceDataArray(chosendate) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar chartData = []\r\n\t\t\t\tfor (var i = 0; i < that.fetchdata.length; i++) {\r\n\t\t\t\t\tvar str = that.fetchdata[i].time.slice(0, 10)\r\n\t\t\t\t\tif (str === chosendate) {\r\n\t\t\t\t\t\tchartData.push(that.fetchdata[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn chartData\r\n\t\t\t},\r\n\r\n\t\t\t//日期选择\r\n\t\t\tgetChange(val) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.value = val\r\n\t\t\t\tvar val1 = val\r\n\t\t\t\t// var date = that.getBeforeDate(0)\r\n\t\t\t\t// if (val1 !== date) {\r\n\t\t\t\tvar chartData = that.sliceDataArray(val1)\r\n\t\t\t\tthat.length = chartData.length\r\n\t\t\t\tif (that.length === 0) {\r\n\t\t\t\t\tthat.chartData = []\r\n\t\t\t\t\tthat.newchartData = []\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar count\r\n\t\t\t\tfor (var k = 0; k < chartData[0].data_format.length; k++) {\r\n\t\t\t\t\tif (chartData[0].data_format[k].name === that.val && chartData[0].data_format[k].type === '运行数据') {\r\n\t\t\t\t\t\tcount = k\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar chartdata1 = []\r\n\t\t\t\tfor (var h = 0; h < chartData.length; h++) {\r\n\t\t\t\t\tvar b = {\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tvalue: []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tb.name = chartData[h].time\r\n\t\t\t\t\tb.value.push(chartData[h].time)\r\n\t\t\t\t\tb.value.push(parseInt(chartData[h].data[count]))\r\n\t\t\t\t\tchartdata1.push(b)\r\n\t\t\t\t}\r\n\t\t\t\tthat.chartData = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t})\r\n\t\t\t\tthat.chartData2 = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t})\r\n\t\t\t\tvar chartdata3 = []\r\n\t\t\t\tvar a = 0\r\n\t\t\t\tvar max = that.chartData[0].value[1]\r\n\t\t\t\tvar min = that.chartData[0].value[1]\r\n\t\t\t\tfor (var p = 0; p < that.chartData.length; p++) {\r\n\t\t\t\t\ta = a + that.chartData[p].value[1]\r\n\t\t\t\t\tif (max < that.chartData[p].value[1]) {\r\n\t\t\t\t\t\tmax = that.chartData[p].value[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (min > that.chartData[p].value[1]) {\r\n\t\t\t\t\t\tmin = that.chartData[p].value[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ta = a / that.chartData.length\r\n\t\t\t\ta = a.toFixed(2)\r\n\t\t\t\tchartdata3.push(a)\r\n\t\t\t\tchartdata3.push(max)\r\n\t\t\t\tchartdata3.push(min)\r\n\t\t\t\tthat.newchartData = chartdata3\r\n\r\n\t\t\t\t// }\r\n\t\t\t\t// if (val1 === date) {\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\r\n\t\t\t//数据类型选择\r\n\t\t\tgetType(val) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.val = val\r\n\t\t\t\tvar chartData = that.sliceDataArray(that.value)\r\n\t\t\t\tvar type = val\r\n\t\t\t\tvar count\r\n\t\t\t\tfor (var k = 0; k < chartData[0].data_format.length; k++) {\r\n\t\t\t\t\tif (chartData[0].data_format[k].name === type && chartData[0].data_format[k].type === '运行数据') {\r\n\t\t\t\t\t\tcount = k\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar chartdata1 = []\r\n\t\t\t\tfor (var h = 0; h < chartData.length; h++) {\r\n\t\t\t\t\tvar b = {\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tvalue: []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tb.name = chartData[h].time\r\n\t\t\t\t\tb.value.push(chartData[h].time)\r\n\t\t\t\t\tb.value.push(parseInt(chartData[h].data[count]))\r\n\t\t\t\t\tchartdata1.push(b)\r\n\t\t\t\t}\r\n\t\t\t\tthat.chartData = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t})\r\n\t\t\t\tthat.chartData2 = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t})\r\n\t\t\t\tvar chartdata3 = []\r\n\t\t\t\tvar a = 0\r\n\t\t\t\tvar max = that.chartData[0].value[1]\r\n\t\t\t\tvar min = that.chartData[0].value[1]\r\n\t\t\t\tfor (var p = 0; p < that.chartData.length; p++) {\r\n\t\t\t\t\ta = a + that.chartData[p].value[1]\r\n\t\t\t\t\tif (max < that.chartData[p].value[1]) {\r\n\t\t\t\t\t\tmax = that.chartData[p].value[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (min > that.chartData[p].value[1]) {\r\n\t\t\t\t\t\tmin = that.chartData[p].value[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ta = a / that.chartData.length\r\n\t\t\t\ta = a.toFixed(2)\r\n\t\t\t\tchartdata3.push(a)\r\n\t\t\t\tchartdata3.push(max)\r\n\t\t\t\tchartdata3.push(min)\r\n\t\t\t\tthat.newchartData = chartdata3\r\n\t\t\t},\r\n\r\n\t\t\t//画图\r\n\t\t\tdrawChart(name) {\r\n\t\t\t\tvar myChart = this.$echarts.init(document.getElementById(name))\r\n\t\t\t\tvar data = this.chartData\r\n\r\n\t\t\t\tconst option = {\r\n\t\t\t\t\ttitle: {},\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\t\tformatter: function(params) {\r\n\t\t\t\t\t\t\tparams = params[0]\r\n\t\t\t\t\t\t\tvar date = new Date(params.name)\r\n\t\t\t\t\t\t\tvar hour = date.getHours()\r\n\t\t\t\t\t\t\tvar minutes = date.getMinutes()\r\n\t\t\t\t\t\t\tvar seconds = date.getSeconds()\r\n\t\t\t\t\t\t\tif (hour < 10) {\r\n\t\t\t\t\t\t\t\thour = '0' + hour\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (minutes < 10) {\r\n\t\t\t\t\t\t\t\tminutes = '0' + minutes\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (seconds < 10) {\r\n\t\t\t\t\t\t\t\tseconds = '0' + seconds\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar dateStr = hour + ':' + minutes + ':' + seconds\r\n\t\t\t\t\t\t\treturn date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate() + '/' +\r\n\t\t\t\t\t\t\t\tdateStr + ' - ' + params.value[1]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\tanimation: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: 'time',\r\n\t\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\tboundaryGap: [0, '100%'],\r\n\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: true, //这里的show用于设置是否显示y轴那一条线 默认为true\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\t//lineStyle里面写y轴那一条线的样式\r\n\t\t\t\t\t\t\t\twidth: 1, //轴线的粗细 我写的是2 最小为0，值为0的时候线隐藏\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tshowSymbol: false,\r\n\t\t\t\t\t\tareaStyle: {},\r\n\t\t\t\t\t\thoverAnimation: false,\r\n\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tdataZoom: [{\r\n\t\t\t\t\t\t\ttype: 'inside',\r\n\t\t\t\t\t\t\tstart: 0,\r\n\t\t\t\t\t\t\tend: 100,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstart: 0,\r\n\t\t\t\t\t\t\tend: 100,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmyChart.setOption(option)\r\n\r\n\t\t\t\twindow.addEventListener('resize', function() {\r\n\t\t\t\t\tif (myChart) {\r\n\t\t\t\t\t\t// 防止拉动窗口时，resize报错\r\n\t\t\t\t\t\tmyChart.resize()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdrawChart2(name) {\r\n\t\t\t\tvar myChart = this.$echarts.init(document.getElementById(name))\r\n\r\n\t\t\t\tconst option = {\r\n\t\t\t\t\ttooltip: {},\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\tdata: ['均值', '极大值', '极小值'],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\tdata: this.newchartData,\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\t// 实现数字展示在柱状图\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\tshow: true, //开启显示\r\n\t\t\t\t\t\t\t\t\tposition: 'top', //在上方显示\r\n\t\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t\t\t//数值样式\r\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t}\r\n\t\t\t\tmyChart.setOption(option)\r\n\r\n\t\t\t\twindow.addEventListener('resize', function() {\r\n\t\t\t\t\tif (myChart) {\r\n\t\t\t\t\t\t// 防止拉动窗口时，resize报错\r\n\t\t\t\t\t\tmyChart.resize()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//this.getMqtt()\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// setTimeout\r\n\t\t\t\t\tthis.drawChart('linechart1')\r\n\t\t\t\t\tthis.drawChart2('linechart2')\r\n\t\t\t\t}, 300)\r\n\t\t\t})\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.endMqtt()\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.workspace {\r\n\t\twidth: 100%;\r\n\t\theight: 96%;\r\n\t\tbackground: rgb(225, 243, 243);\r\n\t\tborder: black;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\t}\r\n\r\n\t.scrollbox {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 80px;\r\n\t}\r\n\r\n\t.data-board {\r\n\t\tmargin-top: 15px;\r\n\t\tpadding-top: 10px;\r\n\t\tmin-height: 1000px;\r\n\t\twidth: 98%;\r\n\t\tmargin-left: 1%;\r\n\t\tmargin-right: 1%;\r\n\t\tbackground: white;\r\n\t}\r\n\r\n\t.mybox {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\r\n\t.title-bar {\r\n\t\theight: 60px;\r\n\t\twidth: 100%;\r\n\t\tline-height: 60px;\r\n\t\tbackground: white;\r\n\t\tpadding-left: 1%;\r\n\t\tpadding-right: 1%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tz-index: 999999;\r\n\t}\r\n\r\n\t.titleBox {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.titleitem {\r\n\t\tflex: 1;\r\n\t\theight: 50px;\r\n\t\tline-height: 50px;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 20px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.card-container {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 20px;\r\n\t\twidth: 96%;\r\n\t\tmargin-left: 2%;\r\n\t}\r\n\r\n\t.card-item {\r\n\t\twidth: 200px;\r\n\t\theight: 60px;\r\n\t\tborder: 1px solid black;\r\n\t\tborder-radius: 5px;\r\n\t\tbackground: rgb(78, 124, 224);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.chartbox {\r\n\t\twidth: 98%;\r\n\t\tmargin-top: 5px;\r\n\t\tmargin-left: 1%;\r\n\t\tmargin-right: 1%;\r\n\t\tbackground: white;\r\n\t\theight: 700px;\r\n\t}\r\n\t\r\n\t.location-box {\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\twidth: 98%;\r\n\t\tmargin-left: 1%;\r\n\t\tmargin-right: 1%;\r\n\t\tborder: 1px solid #aaaaaa;\r\n\t\tborder-radius: 5px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.deviceparameters-box{\r\n\t\tmargin-top: 10px;\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\twidth: 98%;\r\n\t\tmargin-left: 1%;\r\n\t\tmargin-right: 1%;\r\n\t\tborder: 1px solid #aaaaaa;\r\n\t\tborder-radius: 5px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.context-box{\r\n\t\tmargin-top: 10px;\r\n\t\theight: 150px;\r\n\t\tline-height: 30px;\r\n\t\twidth: 98%;\r\n\t\tmargin-left: 1%;\r\n\t\tmargin-right: 1%;\r\n\t\tborder: 1px solid #aaaaaa;\r\n\t\tborder-radius: 5px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.data-title{\r\n\t\tfont-size: 15px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-left: 1%;\r\n\t}\r\n\t\r\n\t.data-content{\r\n\t\tfont-size: 18px;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t\r\n\t.chart-container {\r\n\t\theight: 410px;\r\n\t\tpadding-top: 10px;\r\n\t\tmargin-top: 10px;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\t\r\n\t.el-scrollbar .el-scrollbar__wrap {\r\n\t\toverflow-x: hidden;\r\n\t}\r\n</style>\r\n"]}]}
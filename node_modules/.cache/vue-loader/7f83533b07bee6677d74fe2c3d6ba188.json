{"remainingRequest":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maple/Desktop/file/netplus/开发/IOT/src/views/MainViews/DigitalMirror/AddDevice.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/src/views/MainViews/DigitalMirror/AddDevice.vue","mtime":1634223808000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZScKaW1wb3J0IHsKCUFNYXBNYW5hZ2VyCn0gZnJvbSAndnVlLWFtYXAnOwpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCkgewoJCXJldHVybiB7CgkJCW1hcmtlcjogbnVsbCwKCQkJcG9zaXRpb246IHsKCQkJCWxhdDogbnVsbCwKCQkJCWxuZzogbnVsbAoJCQl9LAoJCQltYXA6IG51bGwsCgkJCXBvbHlnb25zOiBbXSwKCQkJZGlzdHJpY3Q6IG51bGwsCgkJCXVwRm9ybTogewoJCQkJcHJvZHVjdGlvblR5cGU6IDAsCgkJCX0sCgkJCWZvcm06IHsKCQkJCWNvbXBvbnlOYW1lOiAnJywKCQkJCS8vIGlkOiAwLAoJCQkJcHJvZHVjdGlvbnM6IFtdLAoJCQkJcHJvZHVjdF9pZDogbnVsbCwKCQkJCXNlbnNvcl9uYW1lOiAiIiwKCQkJCXBvc2l0aW9uOiB7CgkJCQkJbGF0OiBudWxsLAoJCQkJCWxuZzogbnVsbCwKCQkJCX0KCQkJfSwKCQkJY2FyZHM6IFt7CgkJCQkJbmFtZTogIueJm+atu+mAvOi9puW6iiIsCgkJCQkJZGVzY3JpcHRpb246ICLov5nkuKrovabluorniZvmrbvpgLzkuoYiLAoJCQkJCWltYWdlQ291bnQ6IDAsCgkJCQkJdXJsOiAiaHR0cHM6Ly9pbWcyLmJhaWR1LmNvbS9pdC91PTE5MzgwOTc0MjksMzI5NTc4NjI5NSZmbT0yNiZmbXQ9YXV0byZncD0wLmpwZyIsCgkJCQkJQXJydHJpYnV0ZTogW3sKCQkJCQkJCXR5cGU6ICLnlLXmtYEiLAoJCQkJCQkJbmFtZTE6ICLovabluormgLvnur/nlLXmtYEiLAoJCQkJCQkJbmFtZTI6ICJRV0VSIC0gNSDnlLXmtYHooagiLAoJCQkJCQkJZGVmYXVsdDogIjUwIiwKCQkJCQkJCXVuaXQ6ICJtYSIsCgkJCQkJCX0sCgkJCQkJCXsKCQkJCQkJCXR5cGU6ICLmuKnluqYiLAoJCQkJCQkJbmFtZTE6ICLovabluorovabliIDmuKnluqYiLAoJCQkJCQkJbmFtZTI6ICJRV0VSIC0gNSDmtYvmuKnku6oiLAoJCQkJCQkJZGVmYXVsdDogIjkwIiwKCQkJCQkJCXVuaXQ6ICLCsEMiLAoJCQkJCQl9LAoJCQkJCV0sCgkJCQl9LAoJCQkJewoJCQkJCW5hbWU6ICLniZvmrbvpgLzovabluop2ZXIyLjAiLAoJCQkJCWRlc2NyaXB0aW9uOiAi6L+Z5Liq6L2m5bqK54mb5q276YC85LqGIiwKCQkJCQlpbWFnZUNvdW50OiAwLAoJCQkJCXVybDogImh0dHBzOi8vaW1nMi5iYWlkdS5jb20vaXQvdT0xOTM4MDk3NDI5LDMyOTU3ODYyOTUmZm09MjYmZm10PWF1dG8mZ3A9MC5qcGciLAoJCQkJCUFycnRyaWJ1dGU6IFt7CgkJCQkJCQl0eXBlOiAi55S15rWBIiwKCQkJCQkJCW5hbWUxOiAi6L2m5bqK5oC757q/55S15rWBIiwKCQkJCQkJCW5hbWUyOiAiUVdFUiAtIDUg55S15rWB6KGoIiwKCQkJCQkJCWRlZmF1bHQ6ICI1MCIsCgkJCQkJCQl1bml0OiAibWEiLAoJCQkJCQl9LAoJCQkJCQl7CgkJCQkJCQl0eXBlOiAi5rip5bqmIiwKCQkJCQkJCW5hbWUxOiAi6L2m5bqK6L2m5YiA5rip5bqmIiwKCQkJCQkJCW5hbWUyOiAiUVdFUiAtIDUg5rWL5rip5LuqIiwKCQkJCQkJCWRlZmF1bHQ6ICI5MCIsCgkJCQkJCQl1bml0OiAiwrBDIiwKCQkJCQkJfSwKCQkJCQldLAoJCQkJfQoJCQldCgkJfQoJfSwKCW1ldGhvZHM6IHsKCQlwcm92aW5jZSgpIHsKCQkJLy8g6KGM5pS/5Yy65YiS5p+l6K+iCgkJCWxldCBvcHRzID0gewoJCQkJc3ViZGlzdHJpY3Q6IDEsIC8vIOi/lOWbnuS4i+S4gOe6p+ihjOaUv+WMugoJCQkJc2hvd2JpejogZmFsc2UgLy8g5pyA5ZCO5LiA57qn6L+U5Zue6KGX6YGT5L+h5oGvCgkJCX0KCQkJdGhpcy5kaXN0cmljdCA9IG5ldyBBTWFwLkRpc3RyaWN0U2VhcmNoKG9wdHMpIC8vIOazqOaEj++8mumcgOimgeS9v+eUqOaPkuS7tuWQjOatpeS4i+WPkeWKn+iDveaJjeiDvei/meagt+ebtOaOpeS9v+eUqAoJCQl0aGlzLmRpc3RyaWN0LnNlYXJjaCgn5Lit5Zu9JywgKHN0YXR1cywgcmVzdWx0KSA9PiB7CgkJCQlpZiAoc3RhdHVzID09PSAnY29tcGxldGUnKSB7CgkJCQkJdGhpcy5nZXREYXRhKHJlc3VsdC5kaXN0cmljdExpc3RbMF0pCgkJCQl9CgkJCX0pCgkJfSwKCQlnZXREYXRhKGRhdGEsIGxldmVsKSB7CgkJCWxldCBjaXR5U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpdHknKQoJCQlsZXQgZGlzdHJpY3RTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzdHJpY3QnKQoJCQlsZXQgYm91bmRzID0gZGF0YS5ib3VuZGFyaWVzCgkJCXZhciB0aGF0ID0gdGhpcwoJCQlpZiAoYm91bmRzKSB7CgoJCQkJZm9yIChsZXQgaSA9IDAsIGwgPSBib3VuZHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CgkJCQkJbGV0IHBvbHlnb24gPSBuZXcgQU1hcC5Qb2x5Z29uKHsKCQkJCQkJbWFwOiB0aGlzLm1hcCwKCgkJCQkJCXN0cm9rZVdlaWdodDogMSwKCQkJCQkJc3Ryb2tlQ29sb3I6ICcjZmY1MmExJywKCQkJCQkJZmlsbENvbG9yOiAnI2ZmZWVmNicsCgkJCQkJCWZpbGxPcGFjaXR5OiAwLjIsCgkJCQkJCXBhdGg6IGJvdW5kc1tpXSwKCgkJCQkJfSkKCQkJCQlBTWFwLmV2ZW50LmFkZExpc3RlbmVyKHBvbHlnb24sICdjbGljaycsIGZ1bmN0aW9uKGUpIHsgLy/mt7vliqDngrnlh7vkuovku7Ys5Lyg5YWl5a+56LGh5ZCN77yM5LqL5Lu25ZCN77yM5Zue6LCD5Ye95pWwCgkJCQkJCXRoYXQucG9zaXRpb24gPSBlLmxuZ2xhdAoJCQkJCQkvLyBhbGVydCh0aGlzLnBvc2l0aW9uKQoJCQkJCQlpZiAodGhhdC5tYXJrZXIgIT09IG51bGwpIHsKCQkJCQkJCXRoYXQubWFwLnJlbW92ZSh0aGF0Lm1hcmtlcikKCQkJCQkJfQoJCQkJCQl0aGF0Lm1hcmtlciA9IG5ldyBBTWFwLk1hcmtlcih7CgkJCQkJCQlwb3NpdGlvbjogW2UubG5nbGF0LmxuZywgZS5sbmdsYXQubGF0XSwKCQkJCQkJfSkKCQkJCQkJdGhhdC5tYXJrZXIuc2V0TWFwKHRoYXQubWFwKQoJCQkJCQl0aGF0LmZvcm0ucG9zaXRpb24gPSBlLmxuZ2xhdAoJCQkJCX0pCgkJCQkJdGhpcy5wb2x5Z29ucy5wdXNoKHBvbHlnb24pCgkJCQl9CgkJCQlpZiAodGhpcy5tYXJrZXIgIT09IG51bGwpIHsKCQkJCQl0aGlzLm1hcC5yZW1vdmUodGhhdC5tYXJrZXIpCgkJCQl9CgkJCQl0aGlzLmZvcm0ucG9zaXRpb24ubGF0ID0gbnVsbAoJCQkJdGhpcy5mb3JtLnBvc2l0aW9uLmxuZyA9IG51bGwKCQkJCXRoaXMubWFwLnNldEZpdFZpZXcoKSAvLyDlnLDlm77oh6rpgILlupQKCQkJfQoJCQkvLyDmuIXnqbrkuIvkuIDnuqfliKvnmoTkuIvmi4nliJfooagKCQkJaWYgKGxldmVsID09PSAncHJvdmluY2UnKSB7CgkJCQljaXR5U2VsZWN0LmlubmVySFRNTCA9ICcnCgkJCQlkaXN0cmljdFNlbGVjdC5pbm5lckhUTUwgPSAnJwoJCQl9IGVsc2UgaWYgKGxldmVsID09PSAnY2l0eScpIHsKCQkJCWRpc3RyaWN0U2VsZWN0LmlubmVySFRNTCA9ICcnCgkJCX0KCQkJbGV0IHN1Ykxpc3QgPSBkYXRhLmRpc3RyaWN0TGlzdAoJCQlpZiAoc3ViTGlzdCkgewoJCQkJbGV0IGNvbnRlbnRTdWIgPSAiIjsKCQkJCWxldCBjdXJsZXZlbCA9IHN1Ykxpc3RbMF0ubGV2ZWw7CgkJCQlsZXQgY3VyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiICsgY3VybGV2ZWwpOwoJCQkJaWYgKCFjdXJMaXN0KSByZXR1cm4gZmFsc2U7CgkJCQlpZiAoY3VybGV2ZWwgPT09ICJwcm92aW5jZSIpIHsKCQkJCQljdXJMaXN0LmFkZChuZXcgT3B0aW9uKCLlhajlm70iKSk7CgkJCQl9IGVsc2UgaWYgKGN1cmxldmVsID09PSAiY2l0eSIpIHsKCQkJCQljdXJMaXN0LmFkZChuZXcgT3B0aW9uKCLlhajluIIiKSk7CgkJCQl9IGVsc2UgewoJCQkJCWN1ckxpc3QuYWRkKG5ldyBPcHRpb24oIuWFqOWMuiIpKTsKCQkJCX0KCQkJCWZvciAobGV0IGkgPSAwLCBsID0gc3ViTGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKCQkJCQlsZXQgbmFtZSA9IHN1Ykxpc3RbaV0ubmFtZQoJCQkJCWxldCBsZXZlbFN1YiA9IHN1Ykxpc3RbaV0ubGV2ZWwKCQkJCQljb250ZW50U3ViID0gbmV3IE9wdGlvbihuYW1lKQoJCQkJCWNvbnRlbnRTdWIuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGxldmVsU3ViKQoJCQkJCWNvbnRlbnRTdWIuY2VudGVyID0gc3ViTGlzdFtpXS5jZW50ZXIKCQkJCQljb250ZW50U3ViLmFkY29kZSA9IHN1Ykxpc3RbaV0uYWRjb2RlCgkJCQkJY3VyTGlzdC5hZGQoY29udGVudFN1YikKCQkJCX0KCQkJfQoJCX0sCgkJc2VhcmNoKG9iaikgewoJCQkvLyDmuIXpmaTlnLDlm77kuIrmiYDmnInopobnm5bniakKCQkJbGV0IHRoYXQgPSB0aGlzCgkJCWZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5wb2x5Z29ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKCQkJCXRoaXMucG9seWdvbnNbaV0uc2V0TWFwKG51bGwpCgkJCX0KCQkJbGV0IG9wdGlvbiA9IG9iai5zcmNFbGVtZW50W29iai5zcmNFbGVtZW50Lm9wdGlvbnMuc2VsZWN0ZWRJbmRleF0KCQkJbGV0IGFkY29kZSA9IG9wdGlvbi5hZGNvZGUKCQkJdGhpcy5kaXN0cmljdC5zZXRMZXZlbChvcHRpb24udmFsdWUpIC8vIOihjOaUv+WMuue6p+WIqwoJCQl0aGlzLmRpc3RyaWN0LnNldEV4dGVuc2lvbnMoJ2FsbCcpCgkJCS8vIOihjOaUv+WMuuafpeivogoJCQkvLyDmjInnhadhZGNvZGXov5vooYzmn6Xor6Llj6/ku6Xkv53or4HmlbDmja7ov5Tlm57nmoTllK/kuIDmgKcKCQkJdGhpcy5kaXN0cmljdC5zZWFyY2goYWRjb2RlLCBmdW5jdGlvbihzdGF0dXMsIHJlc3VsdCkgewoJCQkJaWYgKHN0YXR1cyA9PT0gJ2NvbXBsZXRlJykgewoJCQkJCXRoYXQuZ2V0RGF0YShyZXN1bHQuZGlzdHJpY3RMaXN0WzBdLCBvYmouc3JjRWxlbWVudC5pZCkKCQkJCX0KCQkJfSkKCQl9LAoJCWxvYWRtYXAoKSB7CgkJCXZhciB0aGF0ID0gdGhpcwoJCQl0aGlzLm1hcCA9IG5ldyBBTWFwLk1hcCgnY29udGFpbmVyT2ZBRCcsIHsKCQkJCWNlbnRlcjogWzExOC43OTIyMjEsIDMxLjkzODI1NF0sCgkJCQl6b29tOiAxNSwKCQkJfSk7CgkJCS8vIHRoaXMubWFya2VyID0gbmV3IEFNYXAuTWFya2VyKHsKCQkJLy8gCXBvc2l0aW9uOiBbMTE4Ljc5MjIyMSwgMzEuOTM4MjU0XSwKCQkJLy8gCS8vIGljb246IGFsYXJtSWNvbiwgLy8gSWNvbueahOWbvuWDj++8jOWcsOWdgOW8leWFpWNvbnN0CgkJCS8vIAkvLyBvZmZzZXQ6IG5ldyBBTWFwLlBpeGVsKC0yNSwgLTM1KQoJCQkvLyB9KQoJCQkvLyB0aGlzLm1hcmtlci5zZXRNYXAodGhpcy5tYXApCgkJCS8vIOe8qeaUvuWcsOWbvuWIsOWQiOmAgueahOinhumHjue6p+WIqwoJCQkvLyB0aGlzLm1hcC5zZXRGaXRWaWV3KFt0aGlzLm1ha2VyXSkKCQkJQU1hcC5ldmVudC5hZGRMaXN0ZW5lcih0aGlzLm1hcCwgJ2NsaWNrJywgZnVuY3Rpb24oZSkgewoJCQkJLy/mt7vliqDngrnlh7vkuovku7Ys5Lyg5YWl5a+56LGh5ZCN77yM5LqL5Lu25ZCN77yM5Zue6LCD5Ye95pWwCgkJCQlpZiAodGhhdC5tYXJrZXIgIT09IG51bGwpCgkJCQkJdGhhdC5tYXAucmVtb3ZlKHRoYXQubWFya2VyKQoJCQkJdGhhdC5tYXJrZXIgPSBuZXcgQU1hcC5NYXJrZXIoewoJCQkJCXBvc2l0aW9uOiBbZS5sbmdsYXQubG5nLCBlLmxuZ2xhdC5sYXRdLAoJCQkJfSkKCQkJCXRoYXQubWFya2VyLnNldE1hcCh0aGF0Lm1hcCkKCQkJCXRoYXQuZm9ybS5wb3NpdGlvbiA9IGUubG5nbGF0CgkJCX0pCgkJfSwKCQljcmVhdFNlbnNvcigpIHsKCQkJY29uc29sZS5sb2codGhpcy5mb3JtKQoJCQlpZiAodGhpcy5mb3JtLnByb2R1Y3RfaWQgPT09IG51bGwgfHwgdGhpcy5mb3JtLnNlbnNvcl9uYW1lID09PSAnJyB8fCB0aGlzLmZvcm0ucG9zaXRpb24ubGF0ID09PSBudWxsKSB7CgkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQltZXNzYWdlOiAn5pyq5aGr5YaZ5a6M77yM5Yib5bu65aSx6LSlJywKCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCX0pCgkJCX0gZWxzZSB7CgkJCQl2YXIgdGhhdCA9IHRoaXMKCQkJCXRoaXMuJGF4aW9zLmdldCgnaHR0cHM6Ly9zaXRlLm1hcGxlLnRvZGF5L0lPVHBsYXRmb3JtL1NlcnZlck1haW4nLCB7CgkJCQkJCXBhcmFtczogewoJCQkJCQkJcmVxdWVzdENvZGU6ICcwMDYnLAoJCQkJCQkJdXNlcl9pZDogQ29va2llcy5nZXQoInVzZXJfaWQiKSwKCQkJCQkJCXRva2VuOiBDb29raWVzLmdldCgidG9rZW4iKSwKCQkJCQkJCWNvbXBhbnlfaWQ6IHRoYXQuY29tcGFueUlELAoJCQkJCQkJc2Vuc29yX25hbWU6IHRoYXQuZm9ybS5zZW5zb3JfbmFtZSwKCQkJCQkJCXByb2R1Y3RfaWQ6IHRoYXQuZm9ybS5wcm9kdWN0X2lkLAoJCQkJCQkJbGF0aXR1ZGU6IHRoYXQuZm9ybS5wb3NpdGlvbi5sYXQsCgkJCQkJCQlsb25naXR1ZGU6IHRoYXQuZm9ybS5wb3NpdGlvbi5sbmcKCQkJCQkJfSwKCgkJCQkJCS8vIHBhcmFtcyA6IHRoYXQuZm9ybQoJCQkJCX0pCgkJCQkJLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKCQkJCQkJaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0ID09PSAiMSIpIHsKCQkJCQkJCXRoYXQuJG1lc3NhZ2UoewoJCQkJCQkJCW1lc3NhZ2U6ICfliJvlu7rmiJDlip8nLAoJCQkJCQkJCXR5cGU6ICdzdWNjZXNzJwoJCQkJCQkJfSk7CgkJCQkJCQl0aGF0LiRyb3V0ZXIucHVzaCh7CgkJCQkJCQkJbmFtZToiRGV2aWNlTWFuYWdlIgoJCQkJCQkJfSkKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXRoYXQuJG1lc3NhZ2UoewoJCQkJCQkJCW1lc3NhZ2U6ICfliJvlu7rlpLHotKUnLAoJCQkJCQkJCXR5cGU6ICd3YXJuaW5nJwoJCQkJCQkJfSk7CgkJCQkJCX0KCQkJCQl9KQoJCQkJCS5jYXRjaChmdW5jdGlvbihlcnJvcikgewoJCQkJCQljb25zb2xlLmxvZyhlcnJvcikKCQkJCQl9KQoJCQl9CgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJLy8gY29uc29sZS5sb2codGhpcy5jb21wb255TmFtZSArIHRoaXMuY29tcG9ueUlkKSwKCQl0aGlzLmZvcm0uY29tcG9ueU5hbWUgPSB0aGlzLmNvbXBvbnlOYW1lCgkJLy8gdGhpcy5mb3JtLmlkID0gdGhpcy5jb21wYW55SUQsCgkJLy8gCXRoaXMuZm9ybS5wcm9kdWN0aW9ucyA9IHRoaXMuY2FyZHMKCQl2YXIgdGhhdCA9IHRoaXMKCQl0aGlzLiRheGlvcy5nZXQoJ2h0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9JT1RwbGF0Zm9ybS9TZXJ2ZXJNYWluJywgewoJCQkJcGFyYW1zOiB7CgkJCQkJcmVxdWVzdENvZGU6ICcwMDUnLAoJCQkJCXVzZXJfaWQ6IENvb2tpZXMuZ2V0KCd1c2VyX2lkJyksCgkJCQkJY29tcGFueV9pZDogdGhhdC5jb21wYW55SUQsCgkJCQkJdG9rZW46IENvb2tpZXMuZ2V0KCd0b2tlbicpCgkJCQl9CgkJCX0pCgkJCS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQljb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEpCgkJCQl0aGF0LmZvcm0ucHJvZHVjdGlvbnMgPSByZXNwb25zZS5kYXRhLmRhdGEKCgkJCX0pCgkJCS5jYXRjaChmdW5jdGlvbihlcnJvcikgewoJCQkJY29uc29sZS5sb2coZXJyb3IpCgkJCX0pCgoJfSwKCXByb3BzOiBbJ2NvbXBvbnlOYW1lJywgJ2NvbXBhbnlJRCddLAoJbW91bnRlZCgpIHsKCQl0aGlzLmxvYWRtYXAoKQoJCXRoaXMucHJvdmluY2UoKQoJfSwKfQo="},{"version":3,"sources":["AddDevice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddDevice.vue","sourceRoot":"src/views/MainViews/DigitalMirror","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 4%;\">\r\n\t\t\t<el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>数字镜像</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item :to=\"{name:'DeviceManage'}\">设备管理</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>添加设备</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\t\t<div class=\"addDevice\">\r\n\t\t\t<el-divider content-position=\"right\">添加设备</el-divider>\r\n\t\t\t<div style=\"width: 100%;height: 80%;\" ref=\"scroll\">\r\n\t\t\t\t<el-scrollbar style=\"height: 100%; width: 100%;\" v-if=\"this.cards !== undefined \">\r\n\t\t\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n\t\t\t\t\t\t<!-- <el-form-item label=\"所属工厂\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.componyName\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t\t<el-form-item label=\"选择产品\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.product_id\" placeholder=\"请选择产品\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"(item,index) in form.productions\" :key=\"index\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.product_id\" :label=\"item.product_name\">\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"设备名称\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.sensor_name\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"设备位置(点击选址)\">\r\n\t\t\t\t\t\t\t<div style=\"text-align: right;\">\r\n\t\t\t\t\t\t\t\t省：<select id=\"province\" style=\"width: 130px; height: 30px; border: 1px solid #ccc\"\r\n\t\t\t\t\t\t\t\t\t@change=\"search\"></select>\r\n\t\t\t\t\t\t\t\t市：<select id=\"city\" style=\"width: 130px; height: 30px; border: 1px solid #ccc\"\r\n\t\t\t\t\t\t\t\t\t@change=\"search\"></select>\r\n\t\t\t\t\t\t\t\t区：<select id=\"district\" style=\"width: 130px; height: 30px; border: 1px solid #ccc\"\r\n\t\t\t\t\t\t\t\t\t@change=\"search\"></select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"containerOfAD\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"选中位置\" v-if=\"form.position.lat!==null\">\r\n\t\t\t\t\t\t\t<el-tag style=\"margin-right: 20px;\">经度：{{form.position.lng}}</el-tag>\r\n\t\t\t\t\t\t\t<el-tag>纬度：{{form.position.lat}}</el-tag>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-form>\r\n\t\t\t\t</el-scrollbar>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle=\"display: flex;flex-direction: row-reverse;padding-right: 10px;height: 10%;padding-bottom: 10px;\">\r\n\t\t\t\t<el-button type=\"success\" v-on:click=\"creatSensor()\">创建</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport Cookies from 'js-cookie'\r\n\timport {\r\n\t\tAMapManager\r\n\t} from 'vue-amap';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmarker: null,\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tlat: null,\r\n\t\t\t\t\tlng: null\r\n\t\t\t\t},\r\n\t\t\t\tmap: null,\r\n\t\t\t\tpolygons: [],\r\n\t\t\t\tdistrict: null,\r\n\t\t\t\tupForm: {\r\n\t\t\t\t\tproductionType: 0,\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tcomponyName: '',\r\n\t\t\t\t\t// id: 0,\r\n\t\t\t\t\tproductions: [],\r\n\t\t\t\t\tproduct_id: null,\r\n\t\t\t\t\tsensor_name: \"\",\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tlat: null,\r\n\t\t\t\t\t\tlng: null,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcards: [{\r\n\t\t\t\t\t\tname: \"牛死逼车床\",\r\n\t\t\t\t\t\tdescription: \"这个车床牛死逼了\",\r\n\t\t\t\t\t\timageCount: 0,\r\n\t\t\t\t\t\turl: \"https://img2.baidu.com/it/u=1938097429,3295786295&fm=26&fmt=auto&gp=0.jpg\",\r\n\t\t\t\t\t\tArrtribute: [{\r\n\t\t\t\t\t\t\t\ttype: \"电流\",\r\n\t\t\t\t\t\t\t\tname1: \"车床总线电流\",\r\n\t\t\t\t\t\t\t\tname2: \"QWER - 5 电流表\",\r\n\t\t\t\t\t\t\t\tdefault: \"50\",\r\n\t\t\t\t\t\t\t\tunit: \"ma\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"温度\",\r\n\t\t\t\t\t\t\t\tname1: \"车床车刀温度\",\r\n\t\t\t\t\t\t\t\tname2: \"QWER - 5 测温仪\",\r\n\t\t\t\t\t\t\t\tdefault: \"90\",\r\n\t\t\t\t\t\t\t\tunit: \"°C\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"牛死逼车床ver2.0\",\r\n\t\t\t\t\t\tdescription: \"这个车床牛死逼了\",\r\n\t\t\t\t\t\timageCount: 0,\r\n\t\t\t\t\t\turl: \"https://img2.baidu.com/it/u=1938097429,3295786295&fm=26&fmt=auto&gp=0.jpg\",\r\n\t\t\t\t\t\tArrtribute: [{\r\n\t\t\t\t\t\t\t\ttype: \"电流\",\r\n\t\t\t\t\t\t\t\tname1: \"车床总线电流\",\r\n\t\t\t\t\t\t\t\tname2: \"QWER - 5 电流表\",\r\n\t\t\t\t\t\t\t\tdefault: \"50\",\r\n\t\t\t\t\t\t\t\tunit: \"ma\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"温度\",\r\n\t\t\t\t\t\t\t\tname1: \"车床车刀温度\",\r\n\t\t\t\t\t\t\t\tname2: \"QWER - 5 测温仪\",\r\n\t\t\t\t\t\t\t\tdefault: \"90\",\r\n\t\t\t\t\t\t\t\tunit: \"°C\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tprovince() {\r\n\t\t\t\t// 行政区划查询\r\n\t\t\t\tlet opts = {\r\n\t\t\t\t\tsubdistrict: 1, // 返回下一级行政区\r\n\t\t\t\t\tshowbiz: false // 最后一级返回街道信息\r\n\t\t\t\t}\r\n\t\t\t\tthis.district = new AMap.DistrictSearch(opts) // 注意：需要使用插件同步下发功能才能这样直接使用\r\n\t\t\t\tthis.district.search('中国', (status, result) => {\r\n\t\t\t\t\tif (status === 'complete') {\r\n\t\t\t\t\t\tthis.getData(result.districtList[0])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetData(data, level) {\r\n\t\t\t\tlet citySelect = document.getElementById('city')\r\n\t\t\t\tlet districtSelect = document.getElementById('district')\r\n\t\t\t\tlet bounds = data.boundaries\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif (bounds) {\r\n\r\n\t\t\t\t\tfor (let i = 0, l = bounds.length; i < l; i++) {\r\n\t\t\t\t\t\tlet polygon = new AMap.Polygon({\r\n\t\t\t\t\t\t\tmap: this.map,\r\n\r\n\t\t\t\t\t\t\tstrokeWeight: 1,\r\n\t\t\t\t\t\t\tstrokeColor: '#ff52a1',\r\n\t\t\t\t\t\t\tfillColor: '#ffeef6',\r\n\t\t\t\t\t\t\tfillOpacity: 0.2,\r\n\t\t\t\t\t\t\tpath: bounds[i],\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tAMap.event.addListener(polygon, 'click', function(e) { //添加点击事件,传入对象名，事件名，回调函数\r\n\t\t\t\t\t\t\tthat.position = e.lnglat\r\n\t\t\t\t\t\t\t// alert(this.position)\r\n\t\t\t\t\t\t\tif (that.marker !== null) {\r\n\t\t\t\t\t\t\t\tthat.map.remove(that.marker)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.marker = new AMap.Marker({\r\n\t\t\t\t\t\t\t\tposition: [e.lnglat.lng, e.lnglat.lat],\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthat.marker.setMap(that.map)\r\n\t\t\t\t\t\t\tthat.form.position = e.lnglat\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.polygons.push(polygon)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.marker !== null) {\r\n\t\t\t\t\t\tthis.map.remove(that.marker)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.form.position.lat = null\r\n\t\t\t\t\tthis.form.position.lng = null\r\n\t\t\t\t\tthis.map.setFitView() // 地图自适应\r\n\t\t\t\t}\r\n\t\t\t\t// 清空下一级别的下拉列表\r\n\t\t\t\tif (level === 'province') {\r\n\t\t\t\t\tcitySelect.innerHTML = ''\r\n\t\t\t\t\tdistrictSelect.innerHTML = ''\r\n\t\t\t\t} else if (level === 'city') {\r\n\t\t\t\t\tdistrictSelect.innerHTML = ''\r\n\t\t\t\t}\r\n\t\t\t\tlet subList = data.districtList\r\n\t\t\t\tif (subList) {\r\n\t\t\t\t\tlet contentSub = \"\";\r\n\t\t\t\t\tlet curlevel = subList[0].level;\r\n\t\t\t\t\tlet curList = document.querySelector(\"#\" + curlevel);\r\n\t\t\t\t\tif (!curList) return false;\r\n\t\t\t\t\tif (curlevel === \"province\") {\r\n\t\t\t\t\t\tcurList.add(new Option(\"全国\"));\r\n\t\t\t\t\t} else if (curlevel === \"city\") {\r\n\t\t\t\t\t\tcurList.add(new Option(\"全市\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcurList.add(new Option(\"全区\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let i = 0, l = subList.length; i < l; i++) {\r\n\t\t\t\t\t\tlet name = subList[i].name\r\n\t\t\t\t\t\tlet levelSub = subList[i].level\r\n\t\t\t\t\t\tcontentSub = new Option(name)\r\n\t\t\t\t\t\tcontentSub.setAttribute('value', levelSub)\r\n\t\t\t\t\t\tcontentSub.center = subList[i].center\r\n\t\t\t\t\t\tcontentSub.adcode = subList[i].adcode\r\n\t\t\t\t\t\tcurList.add(contentSub)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsearch(obj) {\r\n\t\t\t\t// 清除地图上所有覆盖物\r\n\t\t\t\tlet that = this\r\n\t\t\t\tfor (let i = 0, l = this.polygons.length; i < l; i++) {\r\n\t\t\t\t\tthis.polygons[i].setMap(null)\r\n\t\t\t\t}\r\n\t\t\t\tlet option = obj.srcElement[obj.srcElement.options.selectedIndex]\r\n\t\t\t\tlet adcode = option.adcode\r\n\t\t\t\tthis.district.setLevel(option.value) // 行政区级别\r\n\t\t\t\tthis.district.setExtensions('all')\r\n\t\t\t\t// 行政区查询\r\n\t\t\t\t// 按照adcode进行查询可以保证数据返回的唯一性\r\n\t\t\t\tthis.district.search(adcode, function(status, result) {\r\n\t\t\t\t\tif (status === 'complete') {\r\n\t\t\t\t\t\tthat.getData(result.districtList[0], obj.srcElement.id)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloadmap() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tthis.map = new AMap.Map('containerOfAD', {\r\n\t\t\t\t\tcenter: [118.792221, 31.938254],\r\n\t\t\t\t\tzoom: 15,\r\n\t\t\t\t});\r\n\t\t\t\t// this.marker = new AMap.Marker({\r\n\t\t\t\t// \tposition: [118.792221, 31.938254],\r\n\t\t\t\t// \t// icon: alarmIcon, // Icon的图像，地址引入const\r\n\t\t\t\t// \t// offset: new AMap.Pixel(-25, -35)\r\n\t\t\t\t// })\r\n\t\t\t\t// this.marker.setMap(this.map)\r\n\t\t\t\t// 缩放地图到合适的视野级别\r\n\t\t\t\t// this.map.setFitView([this.maker])\r\n\t\t\t\tAMap.event.addListener(this.map, 'click', function(e) {\r\n\t\t\t\t\t//添加点击事件,传入对象名，事件名，回调函数\r\n\t\t\t\t\tif (that.marker !== null)\r\n\t\t\t\t\t\tthat.map.remove(that.marker)\r\n\t\t\t\t\tthat.marker = new AMap.Marker({\r\n\t\t\t\t\t\tposition: [e.lnglat.lng, e.lnglat.lat],\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthat.marker.setMap(that.map)\r\n\t\t\t\t\tthat.form.position = e.lnglat\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcreatSensor() {\r\n\t\t\t\tconsole.log(this.form)\r\n\t\t\t\tif (this.form.product_id === null || this.form.sensor_name === '' || this.form.position.lat === null) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '未填写完，创建失败',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar that = this\r\n\t\t\t\t\tthis.$axios.get('https://site.maple.today/IOTplatform/ServerMain', {\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\trequestCode: '006',\r\n\t\t\t\t\t\t\t\tuser_id: Cookies.get(\"user_id\"),\r\n\t\t\t\t\t\t\t\ttoken: Cookies.get(\"token\"),\r\n\t\t\t\t\t\t\t\tcompany_id: that.companyID,\r\n\t\t\t\t\t\t\t\tsensor_name: that.form.sensor_name,\r\n\t\t\t\t\t\t\t\tproduct_id: that.form.product_id,\r\n\t\t\t\t\t\t\t\tlatitude: that.form.position.lat,\r\n\t\t\t\t\t\t\t\tlongitude: that.form.position.lng\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t// params : that.form\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\t\t\tif (response.data.result === \"1\") {\r\n\t\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: '创建成功',\r\n\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthat.$router.push({\n\t\t\t\t\t\t\t\t\tname:\"DeviceManage\"\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: '创建失败',\r\n\t\t\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// console.log(this.componyName + this.componyId),\r\n\t\t\tthis.form.componyName = this.componyName\r\n\t\t\t// this.form.id = this.companyID,\r\n\t\t\t// \tthis.form.productions = this.cards\r\n\t\t\tvar that = this\r\n\t\t\tthis.$axios.get('https://site.maple.today/IOTplatform/ServerMain', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\trequestCode: '005',\r\n\t\t\t\t\t\tuser_id: Cookies.get('user_id'),\r\n\t\t\t\t\t\tcompany_id: that.companyID,\r\n\t\t\t\t\t\ttoken: Cookies.get('token')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\tconsole.log(response.data.data)\r\n\t\t\t\t\tthat.form.productions = response.data.data\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t})\r\n\r\n\t\t},\r\n\t\tprops: ['componyName', 'companyID'],\r\n\t\tmounted() {\r\n\t\t\tthis.loadmap()\r\n\t\t\tthis.province()\r\n\t\t},\r\n\t}\r\n</script>\r\n<style>\r\n\t.addDevice {\r\n\t\twidth: 100%;\r\n\t\theight: 96%;\r\n\t}\r\n\r\n\t#containerOfAD {\r\n\t\twidth: 100%;\r\n\t\theight: 300px;\r\n\t}\r\n</style>\n"]}]}
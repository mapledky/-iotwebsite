{"remainingRequest":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maple/Desktop/file/netplus/开发/IOT/src/views/MainViews/TimeData/DataCheck.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/src/views/MainViews/TimeData/DataCheck.vue","mtime":1630219674000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maple/Desktop/file/netplus/开发/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cycKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwppbXBvcnQgUXMgZnJvbSAncXMnCmltcG9ydCBDb29raWUgZnJvbSAnanMtY29va2llJwppbXBvcnQgbXF0dCBmcm9tICdtcXR0JwpleHBvcnQgZGVmYXVsdCB7CgoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlpc1R5cGUzIDogZmFsc2UsCgkJCXRhYk5hbWU6ICdmaXJzdCcsCgkJCURhdGFTb3VyY2U6IFtdLCAvL+aVsOaNrua6kOWIl+ihqAoJCQlTZWxjZXREYXRhU291cmNlOiAi6YCJ5oup5pWw5o2u5rqQIiwgLy/pgInmi6nnmoTmlbDmja7mupAKCQkJcGlja2VyT3B0aW9uczogewoJCQkJc2hvcnRjdXRzOiBbewoJCQkJCXRleHQ6ICfmnIDov5HkuIDlkagnLAoJCQkJCW9uQ2xpY2socGlja2VyKSB7CgkJCQkJCWNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CgkJCQkJCWNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKCQkJCQkJc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogNyk7CgkJCQkJCXBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CgkJCQkJfQoJCQkJfSwgewoJCQkJCXRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLAoJCQkJCW9uQ2xpY2socGlja2VyKSB7CgkJCQkJCWNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CgkJCQkJCWNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKCQkJCQkJc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApOwoJCQkJCQlwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwoJCQkJCX0KCQkJCX0sIHsKCQkJCQl0ZXh0OiAn5pyA6L+R5LiJ5Liq5pyIJywKCQkJCQlvbkNsaWNrKHBpY2tlcikgewoJCQkJCQljb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwoJCQkJCQljb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CgkJCQkJCXN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKTsKCQkJCQkJcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKCQkJCQl9CgkJCQl9XQoJCQl9LAoJCQl2YWx1ZTI6IFtdLAoJCQl0aW1lOiAi6K+36YCJ5oupIiwgLy93aGVyZXRpbWXpgInmi6nnmoTml7bpl7QKCQkJY29sbGFwc2VOYW1lOiBbMCwgImxhc3QiXSwKCQkJaW5mb3I6IFt7CgkJCQl0YXJnZXQ6ICLor7fovpPlhaXmjIfmoIdlZzpcbnRlbXBlcmF0dXJlPj00MDtcbnRlbXBlcmF0dXJlPDIwIiwKCQkJCWZ1bmN0aW9uOiAi6K+36YCJ5oup6IGa5ZCI5Ye95pWwIiwKCQkJCWZpbHRyYXRpb246IFtdLAoJCQkJdW5kZXJjbG9ja2luZzogZmFsc2UKCQkJfV0sIC8v5oqY5Y+g6Z2i5p2/6KGo5Y2V5YiX6KGoCgkJCW9wdGlvbnM6IFt7CgkJCQkJdmFsdWU6ICfmsYLlkownLAoJCQkJCWxhYmVsOiAn5rGC5ZKMJwoJCQkJfSwgLy/ogZrlkIjlh73mlbAKCQkJCXsKCQkJCQl2YWx1ZTogJ+axguaWueW3ricsCgkJCQkJbGFiZWw6ICfmsYLmlrnlt64nCgkJCQl9LAoJCQkJewoJCQkJCXZhbHVlOiAn5rGC5bmz5Z2HJywKCQkJCQlsYWJlbDogJ+axguW5s+WdhycKCQkJCX0sCgkJCQl7CgkJCQkJdmFsdWU6ICfmsYLmnIDlpKcnLAoJCQkJCWxhYmVsOiAn5rGC5pyA5aSnJwoJCQkJfSwKCQkJCXsKCQkJCQl2YWx1ZTogJ+axguacgOWwjycsCgkJCQkJbGFiZWw6ICfmsYLmnIDlsI8nCgkJCQl9LAoJCQldLAoJCQlvcHRpb25zX2ZpbHRyYXRpb246IFt7CgkJCQkJdmFsdWU6ICfpu5jorqQnLAoJCQkJCWxhYmVsOiAn6buY6K6kJwoJCQkJfSwKCQkJCXsKCQkJCQl2YWx1ZTogJ3RlbXBlcmF0dXJlJywKCQkJCQlsYWJlbDogJ3RlbXBlcmF0dXJlJwoJCQkJfSwKCQkJCXsKCQkJCQl2YWx1ZTogJ2h1bWlkaXR5JywKCQkJCQlsYWJlbDogJ2h1bWlkaXR5JwoJCQkJfSwKCQkJCXsKCQkJCQl2YWx1ZTogJ3ZvbHRhZ2UnLAoJCQkJCWxhYmVsOiAndm9sdGFnZScKCQkJCX0sCgkJCQl7CgkJCQkJdmFsdWU6ICdlbGVjdHJpY2l0eScsCgkJCQkJbGFiZWw6ICdlbGVjdHJpY2l0eScKCQkJCX0sCgkJCV0sIC8v6L+H5rukCgoJCQlQcm9kdWN0aW9uc0luZm9yOiBbXSwKCQkJRGV2aWNlSW5mb3I6IFtdLAoJCQlEZXZpY2U6IFtdLAoJCX07Cgl9LAoJbW91bnRlZCgpIHsKCQljb25zdCB1c2VyX2lkID0gQ29va2llLmdldCgndXNlcl9pZCcpCgkJY29uc3QgdG9rZW4gPSBDb29raWUuZ2V0KCd0b2tlbicpCgkJY29uc3QgY29tcGFueV9pZCA9IENvb2tpZS5nZXQoJ2NvbXBhbnlfaWQnKQoKCQkvL+S6p+WTgeWIl+ihqOiOt+WPlgoJCXZhciBQcm9kdWN0aW9uc1VSTCA9ICJodHRwczovL3NpdGUubWFwbGUudG9kYXkvSU9UcGxhdGZvcm0vU2VydmVyTWFpbiIKCQl2YXIgUHJvZHVjdGlvbnNEYXRhID0gewoJCQkicmVxdWVzdENvZGUiOiAiMDA1IiwKCQkJInVzZXJfaWQiOiB1c2VyX2lkLAoJCQkidG9rZW4iOiB0b2tlbiwKCQkJImNvbXBhbnlfaWQiOiAxLAoJCX0KCQkvLyBjb25zb2xlLmxvZyhRcy5zdHJpbmdpZnkoUHJvZHVjdGlvbnNEYXRhKSk7CgkJdmFyIEFYSU9TID0gYXhpb3MuY3JlYXRlKHsKCQkJaGVhZGVyczogewoJCQkJJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCgkJCX0KCQl9KTsKCQl2YXIgX3RoaXMgPSB0aGlzOwoJCUFYSU9TLnBvc3QoUHJvZHVjdGlvbnNVUkwsIFFzLnN0cmluZ2lmeShQcm9kdWN0aW9uc0RhdGEpKQoJCQkudGhlbihyZXMgPT4gewoJCQkJLy8gY29uc29sZS5sb2coIuS6p+WTgeWIl+ihqCIscmVzLmRhdGEuZGF0YSkKCQkJCV90aGlzLlByb2R1Y3Rpb25zSW5mb3IgPSByZXMuZGF0YS5kYXRhCgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLlByb2R1Y3Rpb25zSW5mb3IubGVuZ3RoOyBpKyspIHsKCQkJCQl2YXIgRGV2aWNlVVJMID0gImh0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9JT1RwbGF0Zm9ybS9TZXJ2ZXJNYWluIgoJCQkJCXZhciBEZXZpY2VEYXRhID0gewoJCQkJCQkicmVxdWVzdENvZGUiOiAiMDI1IiwKCQkJCQkJInVzZXJfaWQiOiB1c2VyX2lkLAoJCQkJCQkidG9rZW4iOiB0b2tlbiwKCQkJCQkJImNvbXBhbnlfaWQiOiAxLAoJCQkJCQkicHJvZHVjdF9pZCI6IF90aGlzLlByb2R1Y3Rpb25zSW5mb3JbaV0ucHJvZHVjdF9pZCwKCQkJCQl9CgkJCQkJLy8gY29uc29sZS5sb2coUXMuc3RyaW5naWZ5KERldmljZURhdGEpKTsKCQkJCQlBWElPUy5wb3N0KERldmljZVVSTCwgUXMuc3RyaW5naWZ5KERldmljZURhdGEpKSAvL+iuvuWkh+WIl+ihqOiOt+WPlgoJCQkJCQkudGhlbihyZXMgPT4gewoJCQkJCQkJLy8gY29uc29sZS5sb2coIuiuvuWkh+WIl+ihqCIrUHJvZHVjdGlvbnNJbmZvcltpXS5wcm9kdWN0X2lkLHJlcykKCQkJCQkJCS8vIERldmljZUluZm9yID0gcmVzLmRhdGEKCQkJCQkJCS8vIGNvbnNvbGUubG9nKCJ0aGlzIiwgcmVzKQoJCQkJCQkJX3RoaXMuRGV2aWNlSW5mb3IgPSByZXMuZGF0YS5kYXRhOwoJCQkJCQkJZm9yICh2YXIgaiA9IDA7IGogPCBfdGhpcy5EZXZpY2VJbmZvci5sZW5ndGg7IGorKykgewoJCQkJCQkJCXZhciB1cmwgPSAnaHR0cHM6Ly9zaXRlLm1hcGxlLnRvZGF5L0lPVHBsYXRmb3JtL1NlcnZlck1haW4nOwoJCQkJCQkJCWxldCBwb3N0ZGF0YSA9IHsKCQkJCQkJCQkJInJlcXVlc3RDb2RlIjogIjAyNyIsCgkJCQkJCQkJCSJ1c2VyX2lkIjogdXNlcl9pZCwKCQkJCQkJCQkJInRva2VuIjogdG9rZW4sCgkJCQkJCQkJCSJjb21wYW55X2lkIjogMSwKCQkJCQkJCQkJImRldmljZV9pZCI6IF90aGlzLkRldmljZUluZm9yW2pdLnNlbnNvcl9pZAoJCQkJCQkJCX07CgkJCQkJCQkJLy8gY29uc29sZS5sb2coUXMuc3RyaW5naWZ5KHBvc3RkYXRhKSkKCQkJCQkJCQlBWElPUy5wb3N0KHVybCwgUXMuc3RyaW5naWZ5KHBvc3RkYXRhKSkgLy/orr7lpIflsZ7mgKfojrflj5YKCQkJCQkJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQkJCQkJCS8vIGNvbnNvbGUubG9nKFFzLnBhcnNlKHJlcy5jb25maWcuZGF0YSkuZGV2aWNlX2lkKQoJCQkJCQkJCQkJLy8gY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YSkKCQkJCQkJCQkJCXZhciB0ZW1wID0gcmVzLmRhdGEuZGF0YQoJCQkJCQkJCQkJdmFyIHRlbXBlcmF0dXJlX3Nlcmllc0RhdGEgPSBbXQoJCQkJCQkJCQkJdmFyIGh1bWlkaXR5X3Nlcmllc0RhdGEgPSBbXQoJCQkJCQkJCQkJdmFyIHZvbHRhZ2Vfc2VyaWVzRGF0YSA9IFtdCgkJCQkJCQkJCQl2YXIgZWxlY3RyaWNpdHlfc2VyaWVzRGF0YSA9IFtdCgkJCQkJCQkJCQl2YXIgZGV2aWNlX2lkID0gUXMucGFyc2UocmVzLmNvbmZpZy5kYXRhKS5kZXZpY2VfaWQKCQkJCQkJCQkJCV90aGlzLkRhdGFTb3VyY2UucHVzaCgiZGV2aWNlXyIgKyBkZXZpY2VfaWQpCgkJCQkJCQkJCQlmb3IgKHZhciBrID0gMDsgayA8IHRlbXAubGVuZ3RoOyBrKyspIHsKCQkJCQkJCQkJCQkvLyBjb25zb2xlLmxvZyhldmFsKCcoJyArIHRlbXBba10uZGF0YSArICcpJykpCgkJCQkJCQkJCQkJdmFyIHRpbWUgPSB0ZW1wW2tdLnRpbWUgLy/ml7bpl7QKCQkJCQkJCQkJCQkvL3RpbWUg5Y+Y5o2iCgkJCQkJCQkJCQkJLy8gdGltZSA9IHRpbWUucmVwbGFjZSgvLS9nLCAnLycpCgkJCQkJCQkJCQkJLy8gY29uc29sZS5sb2codGltZSkKCQkJCQkJCQkJCQl2YXIgYXJyID0gZXZhbCgnKCcgKyB0ZW1wW2tdLmRhdGEgKyAnKScpIC8v5pWw5o2uCgkJCQkJCQkJCQkJdmFyIHRlbXBlcmF0dXJlID0ge307IC8ve25hbWU6dGltZeWPmOaNoix2YWx1ZTpbdmFsdWVOYW1lLHZhbHVlXX0KCQkJCQkJCQkJCQl2YXIgaHVtaWRpdHkgPSB7fTsKCQkJCQkJCQkJCQl2YXIgdm9sdGFnZSA9IHt9OwoJCQkJCQkJCQkJCXZhciBlbGVjdHJpY2l0eSA9IHt9OwoJCQkJCQkJCQkJCWZvciAodmFyIGwgPSAwOyBsIDwgYXJyLmxlbmd0aDsgbCsrKSB7CgkJCQkJCQkJCQkJCWlmIChsID09PSAwKSB7CgkJCQkJCQkJCQkJCQl0ZW1wZXJhdHVyZSA9IHsKCQkJCQkJCQkJCQkJCQluYW1lOiB0aW1lLAoJCQkJCQkJCQkJCQkJCXZhbHVlOiBbdGltZSwgYXJyW2xdXQoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJdGVtcGVyYXR1cmVfc2VyaWVzRGF0YS5wdXNoKHRlbXBlcmF0dXJlKQoJCQkJCQkJCQkJCQl9IGVsc2UgaWYgKGwgPT09IDEpIHsKCQkJCQkJCQkJCQkJCWh1bWlkaXR5ID0gewoJCQkJCQkJCQkJCQkJCW5hbWU6IHRpbWUsCgkJCQkJCQkJCQkJCQkJdmFsdWU6IFt0aW1lLCBhcnJbbF1dCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCQlodW1pZGl0eV9zZXJpZXNEYXRhLnB1c2goaHVtaWRpdHkpCgkJCQkJCQkJCQkJCX0gZWxzZSBpZiAobCA9PT0gMikgewoJCQkJCQkJCQkJCQkJdm9sdGFnZSA9IHsKCQkJCQkJCQkJCQkJCQluYW1lOiB0aW1lLAoJCQkJCQkJCQkJCQkJCXZhbHVlOiBbdGltZSwgYXJyW2xdXQoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJdm9sdGFnZV9zZXJpZXNEYXRhLnB1c2godm9sdGFnZSkKCQkJCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCQkJCWVsZWN0cmljaXR5ID0gewoJCQkJCQkJCQkJCQkJCW5hbWU6IHRpbWUsCgkJCQkJCQkJCQkJCQkJdmFsdWU6IFt0aW1lLCBhcnJbbF1dCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCQllbGVjdHJpY2l0eV9zZXJpZXNEYXRhLnB1c2goZWxlY3RyaWNpdHkpCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9IC8vMWRldmljZSBpbmZvcgoJCQkJCQkJCQkJX3RoaXMuRGV2aWNlLnB1c2goewoJCQkJCQkJCQkJCWRldmljZV9pZDogZGV2aWNlX2lkLAoJCQkJCQkJCQkJCXZhbHVlOiB7CgkJCQkJCQkJCQkJCXRlbXBlcmF0dXJlOiB0ZW1wZXJhdHVyZV9zZXJpZXNEYXRhLAoJCQkJCQkJCQkJCQlodW1pZGl0eTogaHVtaWRpdHlfc2VyaWVzRGF0YSwKCQkJCQkJCQkJCQkJdm9sdGFnZTogdm9sdGFnZV9zZXJpZXNEYXRhLAoJCQkJCQkJCQkJCQllbGVjdHJpY2l0eTogZWxlY3RyaWNpdHlfc2VyaWVzRGF0YSwKCQkJCQkJCQkJCQl9LAoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfSkKCQkJCQkJCQkJLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSk7CgoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCQkuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTsKCQkJCX0KCQkJfSkKCQkJLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSk7CgkJY29uc29sZS5sb2coInRoaXMuRGV2aWNlIiwgdGhpcy5EZXZpY2UpCgl9LAoJY3JlYXRlZCgpIHsKCQlpZiAoQ29va2llLmdldCgnbW9kYWwnKSA9PT0gJzMnKSB7CgkJCWNvbnNvbGUubG9nKCLmo4DmtYvliLDkuLrns7vnu5/nrqHnkIblkZgiKQoJCQl0aGlzLmlzVHlwZTMgPSB0cnVlCgkJfSBlbHNlIHsKCQkJY29uc29sZS5sb2coIuajgOa1i+S4uuaZrumAmueUqOaItyIpCgkJfQoJfSwKCW1ldGhvZHM6IHsKCQlDaGFuZ2VTb3VyY2UoZGF0YSkgewoJCQl0aGlzLlNlbGNldERhdGFTb3VyY2UgPSBkYXRhOwoJCQkvLyBjb25zb2xlLmxvZyhkYXRhKQoJCX0sCgkJZGVsZXRlY29sKGluZGV4KSB7CgkJCXRoaXMuaW5mb3Iuc3BsaWNlKGluZGV4LCAxKQoJCX0sCgkJQWRkU2VhcmNoKCkgewoJCQlpZiAodGhpcy5pbmZvci5sZW5ndGggPj0gMjUpIHsKCQkJCWFsZXJ0KCLmn6Xor6Lngrnov4flpJoiKQoJCQl9IGVsc2UgewoJCQkJdGhpcy5pbmZvci5wdXNoKHsKCQkJCQl0YXJnZXQ6ICLor7fovpPlhaXmjIfmoIdlZzpcbnRlbXBlcmF0dXJlPj00MDtcbnRlbXBlcmF0dXJlPDIwIiwKCQkJCQlmdW5jdGlvbjogIuivt+mAieaLqeiBmuWQiOWHveaVsCIsCgkJCQkJZmlsdHJhdGlvbjogW10sCgkJCQkJdW5kZXJjbG9ja2luZzogZmFsc2UKCQkJCX0pCgkJCQl0aGlzLmNvbGxhcHNlTmFtZS5wdXNoKHRoaXMuaW5mb3IubGVuZ3RoIC0gMSkKCQkJfQoJCQkvLyBjb25zb2xlLmxvZyh0aGlzLmNvbGxhcHNlTmFtZSkKCQl9LAoJCVNlbGVjdERhdGEoKSB7CgoJCQl2YXIgX3RoaXMgPSB0aGlzOwoJCQl2YXIgU291cmNlRGF0YSA9ICcnOwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLkRldmljZS5sZW5ndGg7IGkrKykgeyAvL+a6kOaVsOaNruetm+mAiQoJCQkJaWYgKCgiZGV2aWNlXyIgKyBfdGhpcy5EZXZpY2VbaV0uZGV2aWNlX2lkKSA9PT0gX3RoaXMuU2VsY2V0RGF0YVNvdXJjZSkgewoJCQkJCVNvdXJjZURhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzLkRldmljZVtpXS52YWx1ZSkpOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgoJCQlTb3VyY2VEYXRhLnRlbXBlcmF0dXJlLnNvcnQoY29tcGFyZSkKCQkJU291cmNlRGF0YS5odW1pZGl0eS5zb3J0KGNvbXBhcmUpCgkJCVNvdXJjZURhdGEudm9sdGFnZS5zb3J0KGNvbXBhcmUpCgkJCVNvdXJjZURhdGEuZWxlY3RyaWNpdHkuc29ydChjb21wYXJlKQoKCQkJdmFyIHN0YXJ0ID0gX3RoaXMudmFsdWUyWzBdCgkJCXZhciBlbmQgPSBfdGhpcy52YWx1ZTJbMV0KCQkJc3RhcnQgPSBUaW1lQ2hhbmdlU3RyaW5nKHN0YXJ0KQoJCQllbmQgPSBUaW1lQ2hhbmdlU3RyaW5nKGVuZCkKCQkJLy/ml7bpl7TnrZvpgInmlbDmja4KCQkJU291cmNlRGF0YS50ZW1wZXJhdHVyZSA9IENoZWNrRGF0ZShzdGFydCwgZW5kLCBTb3VyY2VEYXRhLnRlbXBlcmF0dXJlKQoJCQlTb3VyY2VEYXRhLmh1bWlkaXR5ID0gQ2hlY2tEYXRlKHN0YXJ0LCBlbmQsIFNvdXJjZURhdGEuaHVtaWRpdHkpCgkJCVNvdXJjZURhdGEudm9sdGFnZSA9IENoZWNrRGF0ZShzdGFydCwgZW5kLCBTb3VyY2VEYXRhLnZvbHRhZ2UpCgkJCVNvdXJjZURhdGEuZWxlY3RyaWNpdHkgPSBDaGVja0RhdGUoc3RhcnQsIGVuZCwgU291cmNlRGF0YS5lbGVjdHJpY2l0eSkKCgkJCS8vIHRhcmdldOWkhOeQhgoJCQl2YXIgTGFzdEluZm9yRGF0YSA9IFtdOwoJCQlmb3IgKGkgPSAwOyBpIDwgX3RoaXMuaW5mb3IubGVuZ3RoOyBpKyspIHsKCQkJCXZhciBsYXN0aW5mb3JkYXRhID0gVGFyZ2V0RGF0YShfdGhpcy5pbmZvcltpXS50YXJnZXQsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoU291cmNlRGF0YSkpKQoJCQkJTGFzdEluZm9yRGF0YS5wdXNoKGxhc3RpbmZvcmRhdGEpCgkJCX0KCgkJCS8v6IGa5ZCI5Ye95pWw5aSE55CGCgkJCXZhciBmdW5MaXN0ID0gW107CgkJCWZvciAoaSA9IDA7IGkgPCBfdGhpcy5pbmZvci5sZW5ndGg7IGkrKykgewoJCQkJdmFyIHRlbXBlcmF0dXJlZnVuID0gRnVuY3Rpb25EYXRhKF90aGlzLmluZm9yW2ldLmZ1bmN0aW9uLCBMYXN0SW5mb3JEYXRhW2ldLnRlbXBlcmF0dXJlKQoJCQkJdmFyIGh1bWlkaXR5ZnVuID0gRnVuY3Rpb25EYXRhKF90aGlzLmluZm9yW2ldLmZ1bmN0aW9uLCBMYXN0SW5mb3JEYXRhW2ldLmh1bWlkaXR5KQoJCQkJdmFyIHZvbHRhZ2VmdW4gPSBGdW5jdGlvbkRhdGEoX3RoaXMuaW5mb3JbaV0uZnVuY3Rpb24sIExhc3RJbmZvckRhdGFbaV0udm9sdGFnZSkKCQkJCXZhciBlbGVjdHJpY2l0eWZ1biA9IEZ1bmN0aW9uRGF0YShfdGhpcy5pbmZvcltpXS5mdW5jdGlvbiwgTGFzdEluZm9yRGF0YVtpXS5lbGVjdHJpY2l0eSkKCgkJCQlmdW5MaXN0LnB1c2goewoJCQkJCXRlbXBlcmF0dXJlOiB0ZW1wZXJhdHVyZWZ1biwKCQkJCQlodW1pZGl0eTogaHVtaWRpdHlmdW4sCgkJCQkJdm9sdGFnZTogdm9sdGFnZWZ1biwKCQkJCQllbGVjdHJpY2l0eTogZWxlY3RyaWNpdHlmdW4sCgkJCQl9KQoJCQl9CgkJCWNvbnNvbGUubG9nKGZ1bkxpc3QpCgkJCS8vIGNvbnNvbGUubG9nKExhc3RJbmZvckRhdGEpCgkJCS8v6L+H5ruk5aSE55CGCgkJCWZvciAoaSA9IDA7IGkgPCBfdGhpcy5pbmZvci5sZW5ndGg7IGkrKykgewoJCQkJZm9yICh2YXIgaiA9IDA7IGogPCBfdGhpcy5pbmZvcltpXS5maWx0cmF0aW9uLmxlbmd0aDsgaisrKSB7CgkJCQkJaWYgKF90aGlzLmluZm9yW2ldLmZpbHRyYXRpb25bal0gPT09ICJ0ZW1wZXJhdHVyZSIpIHsKCQkJCQkJTGFzdEluZm9yRGF0YVtpXS50ZW1wZXJhdHVyZSA9IFtdCgkJCQkJfSBlbHNlIGlmIChfdGhpcy5pbmZvcltpXS5maWx0cmF0aW9uW2pdID09PSAiaHVtaWRpdHkiKSB7CgkJCQkJCUxhc3RJbmZvckRhdGFbaV0uaHVtaWRpdHkgPSBbXQoJCQkJCX0gZWxzZSBpZiAoX3RoaXMuaW5mb3JbaV0uZmlsdHJhdGlvbltqXSA9PT0gInZvbHRhZ2UiKSB7CgkJCQkJCUxhc3RJbmZvckRhdGFbaV0udm9sdGFnZSA9IFtdCgkJCQkJfSBlbHNlIGlmIChfdGhpcy5pbmZvcltpXS5maWx0cmF0aW9uW2pdID09PSAiZWxlY3RyaWNpdHkiKSB7CgkJCQkJCUxhc3RJbmZvckRhdGFbaV0uZWxlY3RyaWNpdHkgPSBbXQoJCQkJCX0KCQkJCX0KCQkJCS8vIGNvbnNvbGUubG9nKF90aGlzLmluZm9yW2ldLmZpbHRyYXRpb24pCgkJCX0KCQkJY29uc29sZS5sb2coTGFzdEluZm9yRGF0YSkKCQkJLy/pmY3popEx57qn5aSE55CGCgkJCWZvciAoaSA9IDA7IGkgPCBfdGhpcy5pbmZvci5sZW5ndGg7IGkrKykgewoJCQkJaWYgKF90aGlzLmluZm9yW2ldLnVuZGVyY2xvY2tpbmcgPT09IHRydWUpIHsKCQkJCQlMYXN0SW5mb3JEYXRhW2ldLnRlbXBlcmF0dXJlID0gU3ViRnJlKExhc3RJbmZvckRhdGFbaV0udGVtcGVyYXR1cmUpCgkJCQkJTGFzdEluZm9yRGF0YVtpXS5odW1pZGl0eSA9IFN1YkZyZShMYXN0SW5mb3JEYXRhW2ldLmh1bWlkaXR5KQoJCQkJCUxhc3RJbmZvckRhdGFbaV0udm9sdGFnZSA9IFN1YkZyZShMYXN0SW5mb3JEYXRhW2ldLnZvbHRhZ2UpCgkJCQkJTGFzdEluZm9yRGF0YVtpXS5lbGVjdHJpY2l0eSA9IFN1YkZyZShMYXN0SW5mb3JEYXRhW2ldLmVsZWN0cmljaXR5KQoJCQkJfQoJCQl9CgkJCS8v6ZmN6aKRMue6p+WkhOeQhgoJCQlmb3IgKGkgPSAwOyBpIDwgX3RoaXMuaW5mb3IubGVuZ3RoOyBpKyspIHsKCQkJCWlmIChfdGhpcy5pbmZvcltpXS51bmRlcmNsb2NraW5nID09PSB0cnVlKSB7CgkJCQkJTGFzdEluZm9yRGF0YVtpXS50ZW1wZXJhdHVyZSA9IEZyZTIoTGFzdEluZm9yRGF0YVtpXS50ZW1wZXJhdHVyZSwgNSkKCQkJCQlMYXN0SW5mb3JEYXRhW2ldLmh1bWlkaXR5ID0gRnJlMihMYXN0SW5mb3JEYXRhW2ldLmh1bWlkaXR5LCA1KQoJCQkJCUxhc3RJbmZvckRhdGFbaV0udm9sdGFnZSA9IEZyZTIoTGFzdEluZm9yRGF0YVtpXS52b2x0YWdlLCA1KQoJCQkJCUxhc3RJbmZvckRhdGFbaV0uZWxlY3RyaWNpdHkgPSBGcmUyKExhc3RJbmZvckRhdGFbaV0uZWxlY3RyaWNpdHksIDUpCgkJCQl9CgkJCX0KCQkJY29uc29sZS5sb2coTGFzdEluZm9yRGF0YSkKCgkJCS8v5Zu+6KGo5Zub6aG5CgkJCWlmIChfdGhpcy50YWJOYW1lID09PSAiZmlyc3QiKSB7CgkJCQlmb3IgKGkgPSAwOyBpIDwgX3RoaXMuaW5mb3IubGVuZ3RoOyBpKyspIHsKCQkJCQl2YXIgbWFpbmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpCgkJCQkJbWFpbmRpdi5pZCA9ICJtb2R1bGVfIiArIFN0cmluZy5mcm9tQ2hhckNvZGUoTnVtYmVyKGkpICsgNjUpCgkJCQkJbWFpbmRpdi5zdHlsZSA9ICJ3aWR0aDogMTIwMHB4O2hlaWdodDogNDAwcHg7IgoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYWluIikuYXBwZW5kQ2hpbGQobWFpbmRpdikgLy/liJvlu7rorr7lpIfnmoTlm77ooajnm5LlrZAKCQkJCQl2YXIgY2RvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCgibW9kdWxlXyIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlcihpKSArIDY1KSkpOwoJCQkJCXZhciBteWNoYXJ0ID0gZWNoYXJ0cy5pbml0KGNkb20pOwoJCQkJCXZhciBvcHRpb250ZW1wID0gewoJCQkJCQl0b29sdGlwOiB7CgkJCQkJCQl0cmlnZ2VyOiAnaXRlbScKCQkJCQkJfSwKCQkJCQkJbGVnZW5kOiB7CgkJCQkJCQl0b3A6ICc1JScsCgkJCQkJCQlsZWZ0OiAnY2VudGVyJwoJCQkJCQl9LAoJCQkJCQlzZXJpZXM6IFt7CgkJCQkJCQluYW1lOiAn5bGe5oCnJywKCQkJCQkJCXR5cGU6ICdwaWUnLAoJCQkJCQkJcmFkaXVzOiBbJzQwJScsICc3MCUnXSwKCQkJCQkJCWF2b2lkTGFiZWxPdmVybGFwOiBmYWxzZSwKCQkJCQkJCWl0ZW1TdHlsZTogewoJCQkJCQkJCWJvcmRlclJhZGl1czogMTAsCgkJCQkJCQkJYm9yZGVyQ29sb3I6ICcjZmZmJywKCQkJCQkJCQlib3JkZXJXaWR0aDogMgoJCQkJCQkJfSwKCQkJCQkJCWxhYmVsOiB7CgkJCQkJCQkJc2hvdzogZmFsc2UsCgkJCQkJCQkJcG9zaXRpb246ICdjZW50ZXInCgkJCQkJCQl9LAoJCQkJCQkJZW1waGFzaXM6IHsKCQkJCQkJCQlsYWJlbDogewoJCQkJCQkJCQlzaG93OiB0cnVlLAoJCQkJCQkJCQlmb250U2l6ZTogJzQwJywKCQkJCQkJCQkJZm9udFdlaWdodDogJ2JvbGQnCgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCWxhYmVsTGluZTogewoJCQkJCQkJCXNob3c6IGZhbHNlCgkJCQkJCQl9LAoJCQkJCQkJZGF0YTogW3sKCQkJCQkJCQkJdmFsdWU6IExhc3RJbmZvckRhdGFbaV0udGVtcGVyYXR1cmUubGVuZ3RoLAoJCQkJCQkJCQluYW1lOiAndGVtcGVyYXR1cmUnCgkJCQkJCQkJfSwKCQkJCQkJCQl7CgkJCQkJCQkJCXZhbHVlOiBMYXN0SW5mb3JEYXRhW2ldLmh1bWlkaXR5Lmxlbmd0aCwKCQkJCQkJCQkJbmFtZTogJ2h1bWlkaXR5JwoJCQkJCQkJCX0sCgkJCQkJCQkJewoJCQkJCQkJCQl2YWx1ZTogTGFzdEluZm9yRGF0YVtpXS52b2x0YWdlLmxlbmd0aCwKCQkJCQkJCQkJbmFtZTogJ3ZvbHRhZ2UnCgkJCQkJCQkJfSwKCQkJCQkJCQl7CgkJCQkJCQkJCXZhbHVlOiBMYXN0SW5mb3JEYXRhW2ldLmVsZWN0cmljaXR5Lmxlbmd0aCwKCQkJCQkJCQkJbmFtZTogJ2VsZWN0cmljaXR5JwoJCQkJCQkJCX0KCQkJCQkJCV0KCQkJCQkJfV0KCQkJCQl9OwoJCQkJCW9wdGlvbnRlbXAgJiYgbXljaGFydC5zZXRPcHRpb24ob3B0aW9udGVtcCk7CgkJCQl9CgkJCX0gZWxzZSBpZiAoX3RoaXMudGFiTmFtZSA9PT0gInNlY29uZCIpIHsKCQkJCWZvciAoaSA9IDA7IGkgPCBfdGhpcy5pbmZvci5sZW5ndGg7IGkrKykgewoJCQkJCW1haW5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKQoJCQkJCW1haW5kaXYuaWQgPSAibW9kdWxlXyIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlcihpKSArIDY1KQoJCQkJCW1haW5kaXYuc3R5bGUgPSAid2lkdGg6IDEyMDBweDtoZWlnaHQ6IDQwMHB4OyIKCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpbiIpLmFwcGVuZENoaWxkKG1haW5kaXYpIC8v5Yib5bu66K6+5aSH55qE5Zu+6KGo55uS5a2QCgkJCQkJY2RvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCgibW9kdWxlXyIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlcihpKSArIDY1KSkpOwoJCQkJCW15Y2hhcnQgPSBlY2hhcnRzLmluaXQoY2RvbSk7CgkJCQkJb3B0aW9udGVtcCA9IHsKCQkJCQkJdGl0bGU6IHsKCQkJCQkJCXRleHQ6ICJtb2R1bGVfIiArIFN0cmluZy5mcm9tQ2hhckNvZGUoTnVtYmVyKGkpICsgNjUpCgkJCQkJCX0sCgkJCQkJCWxlZ2VuZDogewoJCQkJCQkJZGF0YTogWydUZW1wZXJhdHVyZScsICdIdW1pZGl0eScsICdWb2x0YWdlJywKCQkJCQkJCQknRWxlY3RyaWNpdHknCgkJCQkJCQldCgkJCQkJCX0sCgkJCQkJCXRvb2x0aXA6IHsKCQkJCQkJCXRyaWdnZXI6ICdheGlzJywKCQkJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24ocGFyYW1zKSB7CgkJCQkJCQkJcGFyYW1zID0gcGFyYW1zWzBdOwoJCQkJCQkJCXJldHVybiBwYXJhbXMubmFtZSArICcgVmFsdWU6ICcgKyBwYXJhbXMudmFsdWVbCgkJCQkJCQkJCTFdOwoJCQkJCQkJfSwKCQkJCQkJCWF4aXNQb2ludGVyOiB7CgkJCQkJCQkJYW5pbWF0aW9uOiBmYWxzZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQl4QXhpczogewoJCQkJCQkJdHlwZTogJ3RpbWUnLAoJCQkJCQkJYXhpc1RpY2s6IHsKCQkJCQkJCQlzaG93OiBmYWxzZQoJCQkJCQkJfSwKCQkJCQkJCXNwbGl0TGluZTogewoJCQkJCQkJCXNob3c6IGZhbHNlCgkJCQkJCQl9LAoJCQkJCQkJYXhpc0xhYmVsOiB7CgkJCQkJCQkJc2hvdzogZmFsc2UKCQkJCQkJCX0sCgkJCQkJCX0sCgkJCQkJCXlBeGlzOiB7CgkJCQkJCQl0eXBlOiAndmFsdWUnLAoJCQkJCQkJYm91bmRhcnlHYXA6IFswLCAnMTAwJSddLAoJCQkJCQkJc3BsaXRMaW5lOiB7CgkJCQkJCQkJc2hvdzogZmFsc2UKCQkJCQkJCX0sCgkJCQkJCQlheGlzTGluZTogewoJCQkJCQkJCXNob3c6IHRydWUKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJc2VyaWVzOiBbewoJCQkJCQkJbmFtZTogJ1RlbXBlcmF0dXJlJywKCQkJCQkJCXR5cGU6ICdsaW5lJywKCQkJCQkJCXNob3dTeW1ib2w6IGZhbHNlLAoJCQkJCQkJaG92ZXJBbmltYXRpb246IGZhbHNlLAoJCQkJCQkJZGF0YTogTGFzdEluZm9yRGF0YVtpXS50ZW1wZXJhdHVyZQoJCQkJCQl9LCB7CgkJCQkJCQluYW1lOiAnSHVtaWRpdHknLAoJCQkJCQkJdHlwZTogJ2xpbmUnLAoJCQkJCQkJc2hvd1N5bWJvbDogZmFsc2UsCgkJCQkJCQlob3ZlckFuaW1hdGlvbjogZmFsc2UsCgkJCQkJCQlkYXRhOiBMYXN0SW5mb3JEYXRhW2ldLmh1bWlkaXR5CgkJCQkJCX0sIHsKCQkJCQkJCW5hbWU6ICdWb2x0YWdlJywKCQkJCQkJCXR5cGU6ICdsaW5lJywKCQkJCQkJCXNob3dTeW1ib2w6IGZhbHNlLAoJCQkJCQkJaG92ZXJBbmltYXRpb246IGZhbHNlLAoJCQkJCQkJZGF0YTogTGFzdEluZm9yRGF0YVtpXS52b2x0YWdlCgkJCQkJCX0sIHsKCQkJCQkJCW5hbWU6ICdFbGVjdHJpY2l0eScsCgkJCQkJCQl0eXBlOiAnbGluZScsCgkJCQkJCQlzaG93U3ltYm9sOiBmYWxzZSwKCQkJCQkJCWhvdmVyQW5pbWF0aW9uOiBmYWxzZSwKCQkJCQkJCWRhdGE6IExhc3RJbmZvckRhdGFbaV0uZWxlY3RyaWNpdHkKCQkJCQkJfV0KCQkJCQl9OwoJCQkJCW9wdGlvbnRlbXAgJiYgbXljaGFydC5zZXRPcHRpb24ob3B0aW9udGVtcCk7CgkJCQl9CgkJCX0KCQkJLy9wZyBjbGllbnQgZ2V0ZGF0YSB3aGVyZSB0aW1lLGRldmljZSzmjIfmoIfvvIzogZrlkIjlh73mlbDvvIzov4fmu6TvvIzpmY3popEKCQkJLy8gY29uc29sZS5sb2coU291cmNlRGF0YSkKCQl9Cgl9Cn07CgpmdW5jdGlvbiBGcmUyKGFycixmcmVxKSB7Cgl2YXIgbGVmdCA9IC0xLAoJCXN1bSA9IDAsCgkJdGltZSA9ICcnLAoJCWF2ZXIgPSAwLAoJCWkgPSAwOwoJZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewoJCWlmIChpICUgZnJlcSA9PT0gMCkgewoJCQlpZihpLWxlZnQhPT0xKXsKCQkJCWF2ZXIgPSBzdW0gLyAoaSAtIGxlZnQpOwoJCQkJYXJyLnNwbGljZShsZWZ0LCBpIC0gbGVmdCwgewoJCQkJCW5hbWU6IHRpbWUsCgkJCQkJdmFsdWU6IFt0aW1lLCBhdmVyXQoJCQkJfSk7CgkJCQlpZihpPj1hcnIubGVuZ3RoKXsKCQkJCQlicmVhawoJCQkJfQoJCQl9CgoJCQlsZWZ0ID0gaTsKCQkJc3VtID0gcGFyc2VGbG9hdChhcnJbaV0udmFsdWVbMV0pOwoJCQl0aW1lID0gYXJyW2ldLm5hbWU7CgkJfSBlbHNlIHsKCQkJc3VtICs9IHBhcnNlRmxvYXQoYXJyW2ldLnZhbHVlWzFdKQoJCX0KCX0KCWlmIChpIC0gbGVmdCAhPT0gMSAmJiBpPGFyci5sZW5ndGgpIHsKCQlhdmVyID0gc3VtIC8gKGkgLSBsZWZ0KTsKCQlhcnIuc3BsaWNlKGxlZnQsIGkgLSBsZWZ0LCB7CgkJCW5hbWU6IHRpbWUsCgkJCXZhbHVlOiBbdGltZSwgYXZlcl0KCQl9KTsKCX0KCXJldHVybiBhcnI7Cn0KCgpmdW5jdGlvbiBTdWJGcmUoYXJyKSB7Cgl2YXIgbGVmdCA9IC0xLAoJCXN1bSA9IDAsCgkJdGltZSA9ICcnLAoJCWF2ZXIgPSAwLAoJCWkgPSAwOwoJZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewoJCWlmIChhcnJbaV0ubmFtZSAhPT0gdGltZSkgewoJCQlpZiAoaSAtIGxlZnQgIT09IDEpIHsKCQkJCWF2ZXIgPSBzdW0gLyAoaSAtIGxlZnQpOwoJCQkJYXJyLnNwbGljZShsZWZ0LCBpIC0gbGVmdCwgewoJCQkJCW5hbWU6IHRpbWUsCgkJCQkJdmFsdWU6IFt0aW1lLCBhdmVyXQoJCQkJfSk7CgkJCQlpZihpPj1hcnIubGVuZ3RoKXsKCQkJCQlicmVhawoJCQkJfQoJCQl9CgoJCQlsZWZ0ID0gaTsKCQkJc3VtID0gcGFyc2VGbG9hdChhcnJbaV0udmFsdWVbMV0pOwoJCQl0aW1lID0gYXJyW2ldLm5hbWU7CgkJfSBlbHNlIHsKCQkJc3VtICs9IHBhcnNlRmxvYXQoYXJyW2ldLnZhbHVlWzFdKQoJCX0KCX0KCWlmIChpIC0gbGVmdCAhPT0gMSAmJiBpPGFyci5sZW5ndGgpIHsKCQlhdmVyID0gc3VtIC8gKGkgLSBsZWZ0KTsKCQlhcnIuc3BsaWNlKGxlZnQsIGkgLSBsZWZ0LCB7CgkJCW5hbWU6IHRpbWUsCgkJCXZhbHVlOiBbdGltZSwgYXZlcl0KCQl9KTsKCX0KCXJldHVybiBhcnI7Cn0KCgpmdW5jdGlvbiBGdW5jdGlvbkRhdGEoZnVuLCBhcnIpIHsKCXZhciBpID0gMDsKCXZhciBzdW0gPSAwOwoJdmFyIGF2ZXIgPSAwOwoJdmFyIE1heCA9IC1JbmZpbml0eQoJdmFyIE1pbiA9IEluZmluaXR5CglpZiAoZnVuID09PSAi5rGC5ZKMIikgewoJCXN1bSA9IDA7CgkJZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewoJCQlzdW0gPSBzdW0gKyBwYXJzZUZsb2F0KGFycltpXS52YWx1ZVsxXSkKCQl9CgkJcmV0dXJuIHN1bTsKCX0gZWxzZSBpZiAoZnVuID09PSAi5rGC5pa55beuIikgewoJCXN1bSA9IDA7CgkJZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewoJCQlzdW0gPSBzdW0gKyBwYXJzZUZsb2F0KGFycltpXS52YWx1ZVsxXSkKCQl9CgkJYXZlciA9IHN1bSAvIGFyci5sZW5ndGgKCQlmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CgkJCXN1bSA9IHN1bSArIE1hdGgucG93KChhdmVyIC0gcGFyc2VGbG9hdChhcnJbaV0udmFsdWVbMV0pKSwgMikKCQl9CgkJcmV0dXJuIE1hdGguc3FydCgoc3VtIC8gYXJyLmxlbmd0aCksIDIpCgl9IGVsc2UgaWYgKGZ1biA9PT0gIuaxguW5s+WdhyIpIHsKCQlzdW0gPSAwOwoJCWZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKCQkJc3VtID0gc3VtICsgcGFyc2VGbG9hdChhcnJbaV0udmFsdWVbMV0pCgkJfQoJCWF2ZXIgPSBzdW0gLyBhcnIubGVuZ3RoOwoJCXJldHVybiBhdmVyOwoJfSBlbHNlIGlmIChmdW4gPT09ICLmsYLmnIDlpKciKSB7CgkJZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewoJCQlpZiAocGFyc2VGbG9hdChhcnJbaV0udmFsdWVbMV0pID4gTWF4KSB7CgkJCQlNYXggPSBwYXJzZUZsb2F0KGFycltpXS52YWx1ZVsxXSkKCQkJfQoJCX0KCQlyZXR1cm4gTWF4OwoJfSBlbHNlIGlmIChmdW4gPT09ICLmsYLmnIDlsI8iKSB7CgkJZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewoJCQlpZiAocGFyc2VGbG9hdChhcnJbaV0udmFsdWVbMV0pIDwgTWluKSB7CgkJCQlNaW4gPSBwYXJzZUZsb2F0KGFycltpXS52YWx1ZVsxXSkKCQkJfQoJCX0KCQlyZXR1cm4gTWluOwoJfSBlbHNlIHsKCQlyZXR1cm4gTmFOCgl9Cn0KCmZ1bmN0aW9uIENvbXBhcmVEYXRlKGQxLCBkMikgewoJcmV0dXJuICgoKG5ldyBEYXRlKGQxLnJlcGxhY2UoLy0vZywgIi8iKSkpID4gKG5ldyBEYXRlKGQyLnJlcGxhY2UoLy0vZywgIi8iKSkpKSk7Cn0KCmZ1bmN0aW9uIGNvbXBhcmUob2JqMSwgb2JqMikgewoJdmFyIGQxID0gb2JqMS5uYW1lOwoJdmFyIGQyID0gb2JqMi5uYW1lOwoJaWYgKCgoKG5ldyBEYXRlKGQxLnJlcGxhY2UoLy0vZywgIi8iKSkpID4gKG5ldyBEYXRlKGQyLnJlcGxhY2UoLy0vZywgIi8iKSkpKSkpIHsKCQlyZXR1cm4gLTE7Cgl9IGVsc2UgaWYgKCgoKG5ldyBEYXRlKGQyLnJlcGxhY2UoLy0vZywgIi8iKSkpID4gKG5ldyBEYXRlKGQxLnJlcGxhY2UoLy0vZywgIi8iKSkpKSkpIHsKCQlyZXR1cm4gMTsKCX0gZWxzZSB7CgkJcmV0dXJuIDA7Cgl9Cn0KCmZ1bmN0aW9uIENoZWNrRGF0ZShzdGFydCwgZW5kLCBhcnIpIHsKCWZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDspIHsKCQlpZiAoaSA+PSBhcnIubGVuZ3RoKSBicmVhawoJCWlmIChDb21wYXJlRGF0ZShzdGFydCwgYXJyW2ldLm5hbWUpIHx8IENvbXBhcmVEYXRlKGFycltpXS5uYW1lLCBlbmQpKSB7CgkJCWFyci5zcGxpY2UoaSwgMSkKCQl9IGVsc2UgewoJCQlpKys7CgkJfQoJfQoJcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gVGFyZ2V0RGF0YSh0YXJnZXQsIFNvdXJjZURhdGEpIHsKCXZhciBpID0gMCwKCQlqID0gMDsKCXZhciB2YWx1ZSA9ICcnLAoJCURhdGFWYWx1ZSA9ICcnOwoJdGFyZ2V0ID0gdGFyZ2V0LnJlcGxhY2UoIuivt+i+k+WFpeaMh+agh2VnOiIsICIiKQoJLy8gY29uc29sZS5sb2codGFyZ2V0KQoJdGFyZ2V0ID0gdGFyZ2V0LnJlcGxhY2UoL1xuL2csICIiKQoJLy8gY29uc29sZS5sb2codGFyZ2V0KQoJdmFyIFRlbXAgPSB0YXJnZXQuc3BsaXQoJzsnKQoJLy8gY29uc29sZS5sb2coVGVtcCkKCWZvciAoaSA9IDA7IGkgPCBUZW1wLmxlbmd0aDsgaSsrKSB7CgkJLy90ZW1wZXJhdHVyZQoJCWlmIChUZW1wW2ldLnNlYXJjaCgidGVtcGVyYXR1cmU+PSIpICE9PSAtMSkgewoJCQkvLyBjb25zb2xlLmxvZyhpKQoJCQl2YWx1ZSA9IFRlbXBbaV0KCQkJdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCJ0ZW1wZXJhdHVyZT49IiwgIiIpCgkJCS8vIGNvbnNvbGUubG9nKHZhbHVlKQoJCQl2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpCgkJCS8vIGNvbnNvbGUubG9nKHZhbHVlKQoJCQlmb3IgKGogPSAwOyBqIDwgU291cmNlRGF0YS50ZW1wZXJhdHVyZS5sZW5ndGg7KSB7CgkJCQlpZiAoaiA+PSBTb3VyY2VEYXRhLnRlbXBlcmF0dXJlLmxlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJRGF0YVZhbHVlID0gU291cmNlRGF0YS50ZW1wZXJhdHVyZVtqXS52YWx1ZVsxXQoJCQkJRGF0YVZhbHVlID0gcGFyc2VGbG9hdChEYXRhVmFsdWUpCgkJCQlpZiAoRGF0YVZhbHVlIDwgdmFsdWUpIHsKCQkJCQlTb3VyY2VEYXRhLnRlbXBlcmF0dXJlLnNwbGljZShqLCAxKQoJCQkJfSBlbHNlIHsKCQkJCQlqKysKCQkJCX0KCQkJfQoJCX0gZWxzZSBpZiAoVGVtcFtpXS5zZWFyY2goInRlbXBlcmF0dXJlPiIpICE9PSAtMSAmJiAoVGVtcFtpXS5zZWFyY2goIj0iKSA9PT0gLTEpKSB7CgkJCXZhbHVlID0gVGVtcFtpXS5yZXBsYWNlKCJ0ZW1wZXJhdHVyZT4iLCAiIikKCQkJdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKQoJCQlmb3IgKGogPSAwOyBqIDwgU291cmNlRGF0YS50ZW1wZXJhdHVyZS5sZW5ndGg7KSB7CgkJCQlpZiAoaiA+PSBTb3VyY2VEYXRhLnRlbXBlcmF0dXJlLmxlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJRGF0YVZhbHVlID0gU291cmNlRGF0YS50ZW1wZXJhdHVyZVtqXS52YWx1ZVsxXQoJCQkJRGF0YVZhbHVlID0gcGFyc2VGbG9hdChEYXRhVmFsdWUpCgkJCQlpZiAoRGF0YVZhbHVlIDw9IHZhbHVlKSB7CgkJCQkJU291cmNlRGF0YS50ZW1wZXJhdHVyZS5zcGxpY2UoaiwgMSkKCQkJCX0gZWxzZSB7CgkJCQkJaisrCgkJCQl9CgkJCX0KCQl9IGVsc2UgaWYgKFRlbXBbaV0uc2VhcmNoKCJ0ZW1wZXJhdHVyZTw9IikgIT09IC0xKSB7CgkJCXZhbHVlID0gVGVtcFtpXS5yZXBsYWNlKCJ0ZW1wZXJhdHVyZTw9IiwgIiIpCgkJCXZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSkKCQkJZm9yIChqID0gMDsgaiA8IFNvdXJjZURhdGEudGVtcGVyYXR1cmUubGVuZ3RoOykgewoJCQkJaWYgKGogPj0gU291cmNlRGF0YS50ZW1wZXJhdHVyZS5sZW5ndGgpIHsKCQkJCQlicmVhazsKCQkJCX0KCQkJCURhdGFWYWx1ZSA9IFNvdXJjZURhdGEudGVtcGVyYXR1cmVbal0udmFsdWVbMV0KCQkJCURhdGFWYWx1ZSA9IHBhcnNlRmxvYXQoRGF0YVZhbHVlKQoJCQkJaWYgKERhdGFWYWx1ZSA+IHZhbHVlKSB7CgkJCQkJU291cmNlRGF0YS50ZW1wZXJhdHVyZS5zcGxpY2UoaiwgMSkKCQkJCX0gZWxzZSB7CgkJCQkJaisrCgkJCQl9CgkJCX0KCQl9IGVsc2UgaWYgKFRlbXBbaV0uc2VhcmNoKCJ0ZW1wZXJhdHVyZTwiKSAhPT0gLTEgJiYgKFRlbXBbaV0uc2VhcmNoKCI9IikgPT09IC0xKSkgewoJCQl2YWx1ZSA9IFRlbXBbaV0ucmVwbGFjZSgidGVtcGVyYXR1cmU8IiwgIiIpCgkJCXZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSkKCQkJZm9yIChqID0gMDsgaiA8IFNvdXJjZURhdGEudGVtcGVyYXR1cmUubGVuZ3RoOykgewoJCQkJaWYgKGogPj0gU291cmNlRGF0YS50ZW1wZXJhdHVyZS5sZW5ndGgpIHsKCQkJCQlicmVhazsKCQkJCX0KCQkJCURhdGFWYWx1ZSA9IFNvdXJjZURhdGEudGVtcGVyYXR1cmVbal0udmFsdWVbMV0KCQkJCURhdGFWYWx1ZSA9IHBhcnNlRmxvYXQoRGF0YVZhbHVlKQoJCQkJaWYgKERhdGFWYWx1ZSA+PSB2YWx1ZSkgewoJCQkJCVNvdXJjZURhdGEudGVtcGVyYXR1cmUuc3BsaWNlKGosIDEpCgkJCQl9IGVsc2UgewoJCQkJCWorKwoJCQkJfQoJCQl9CgkJfQoJCS8vaHVtaWRpdHkKCQllbHNlIGlmIChUZW1wW2ldLnNlYXJjaCgiaHVtaWRpdHk+PSIpICE9PSAtMSkgewoJCQl2YWx1ZSA9IFRlbXBbaV0ucmVwbGFjZSgiaHVtaWRpdHk+PSIsICIiKQoJCQl2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpCgkJCWZvciAoaiA9IDA7IGogPCBTb3VyY2VEYXRhLmh1bWlkaXR5Lmxlbmd0aDspIHsKCQkJCWlmIChqID49IFNvdXJjZURhdGEuaHVtaWRpdHkubGVuZ3RoKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQlEYXRhVmFsdWUgPSBTb3VyY2VEYXRhLmh1bWlkaXR5W2pdLnZhbHVlWzFdCgkJCQlEYXRhVmFsdWUgPSBwYXJzZUZsb2F0KERhdGFWYWx1ZSkKCQkJCWlmIChEYXRhVmFsdWUgPCB2YWx1ZSkgewoJCQkJCVNvdXJjZURhdGEuaHVtaWRpdHkuc3BsaWNlKGosIDEpCgkJCQl9IGVsc2UgewoJCQkJCWorKwoJCQkJfQoJCQl9CgkJfSBlbHNlIGlmIChUZW1wW2ldLnNlYXJjaCgiaHVtaWRpdHk+IikgIT09IC0xICYmIChUZW1wW2ldLnNlYXJjaCgiPSIpID09PSAtMSkpIHsKCQkJdmFsdWUgPSBUZW1wW2ldLnJlcGxhY2UoImh1bWlkaXR5PiIsICIiKQoJCQl2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpCgkJCWZvciAoaiA9IDA7IGogPCBTb3VyY2VEYXRhLmh1bWlkaXR5Lmxlbmd0aDspIHsKCQkJCWlmIChqID49IFNvdXJjZURhdGEuaHVtaWRpdHkubGVuZ3RoKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQlEYXRhVmFsdWUgPSBTb3VyY2VEYXRhLmh1bWlkaXR5W2pdLnZhbHVlWzFdCgkJCQlEYXRhVmFsdWUgPSBwYXJzZUZsb2F0KERhdGFWYWx1ZSkKCQkJCWlmIChEYXRhVmFsdWUgPD0gdmFsdWUpIHsKCQkJCQlTb3VyY2VEYXRhLmh1bWlkaXR5LnNwbGljZShqLCAxKQoJCQkJfSBlbHNlIHsKCQkJCQlqKysKCQkJCX0KCQkJfQoJCX0gZWxzZSBpZiAoVGVtcFtpXS5zZWFyY2goImh1bWlkaXR5PD0iKSAhPT0gLTEpIHsKCQkJdmFsdWUgPSBUZW1wW2ldLnJlcGxhY2UoImh1bWlkaXR5PD0iLCAiIikKCQkJdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKQoJCQlmb3IgKGogPSAwOyBqIDwgU291cmNlRGF0YS5odW1pZGl0eS5sZW5ndGg7KSB7CgkJCQlpZiAoaiA+PSBTb3VyY2VEYXRhLmh1bWlkaXR5Lmxlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJRGF0YVZhbHVlID0gU291cmNlRGF0YS5odW1pZGl0eVtqXS52YWx1ZVsxXQoJCQkJRGF0YVZhbHVlID0gcGFyc2VGbG9hdChEYXRhVmFsdWUpCgkJCQlpZiAoRGF0YVZhbHVlID4gdmFsdWUpIHsKCQkJCQlTb3VyY2VEYXRhLmh1bWlkaXR5LnNwbGljZShqLCAxKQoJCQkJfSBlbHNlIHsKCQkJCQlqKysKCQkJCX0KCQkJfQoJCX0gZWxzZSBpZiAoVGVtcFtpXS5zZWFyY2goImh1bWlkaXR5PCIpICE9PSAtMSAmJiAoVGVtcFtpXS5zZWFyY2goIj0iKSA9PT0gLTEpKSB7CgkJCXZhbHVlID0gVGVtcFtpXS5yZXBsYWNlKCJodW1pZGl0eTwiLCAiIikKCQkJdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKQoJCQlmb3IgKGogPSAwOyBqIDwgU291cmNlRGF0YS5odW1pZGl0eS5sZW5ndGg7KSB7CgkJCQlpZiAoaiA+PSBTb3VyY2VEYXRhLmh1bWlkaXR5Lmxlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJRGF0YVZhbHVlID0gU291cmNlRGF0YS5odW1pZGl0eVtqXS52YWx1ZVsxXQoJCQkJRGF0YVZhbHVlID0gcGFyc2VGbG9hdChEYXRhVmFsdWUpCgkJCQlpZiAoRGF0YVZhbHVlID49IHZhbHVlKSB7CgkJCQkJU291cmNlRGF0YS5odW1pZGl0eS5zcGxpY2UoaiwgMSkKCQkJCX0gZWxzZSB7CgkJCQkJaisrCgkJCQl9CgkJCX0KCQl9CgkJLy92b2x0YWdlCgkJZWxzZSBpZiAoVGVtcFtpXS5zZWFyY2goInZvbHRhZ2U+PSIpICE9PSAtMSkgewoJCQl2YWx1ZSA9IFRlbXBbaV0ucmVwbGFjZSgidm9sdGFnZT49IiwgIiIpCgkJCXZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSkKCQkJZm9yIChqID0gMDsgaiA8IFNvdXJjZURhdGEudm9sdGFnZS5sZW5ndGg7KSB7CgkJCQlpZiAoaiA+PSBTb3VyY2VEYXRhLnZvbHRhZ2UubGVuZ3RoKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQlEYXRhVmFsdWUgPSBTb3VyY2VEYXRhLnZvbHRhZ2Vbal0udmFsdWVbMV0KCQkJCURhdGFWYWx1ZSA9IHBhcnNlRmxvYXQoRGF0YVZhbHVlKQoJCQkJaWYgKERhdGFWYWx1ZSA8IHZhbHVlKSB7CgkJCQkJU291cmNlRGF0YS52b2x0YWdlLnNwbGljZShqLCAxKQoJCQkJfSBlbHNlIHsKCQkJCQlqKysKCQkJCX0KCQkJfQoJCX0gZWxzZSBpZiAoVGVtcFtpXS5zZWFyY2goInZvbHRhZ2U+IikgIT09IC0xICYmIChUZW1wW2ldLnNlYXJjaCgiPSIpID09PSAtMSkpIHsKCQkJdmFsdWUgPSBUZW1wW2ldLnJlcGxhY2UoInZvbHRhZ2U+IiwgIiIpCgkJCXZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSkKCQkJZm9yIChqID0gMDsgaiA8IFNvdXJjZURhdGEudm9sdGFnZS5sZW5ndGg7KSB7CgkJCQlpZiAoaiA+PSBTb3VyY2VEYXRhLnZvbHRhZ2UubGVuZ3RoKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQlEYXRhVmFsdWUgPSBTb3VyY2VEYXRhLnZvbHRhZ2Vbal0udmFsdWVbMV0KCQkJCURhdGFWYWx1ZSA9IHBhcnNlRmxvYXQoRGF0YVZhbHVlKQoJCQkJaWYgKERhdGFWYWx1ZSA8PSB2YWx1ZSkgewoJCQkJCVNvdXJjZURhdGEudm9sdGFnZS5zcGxpY2UoaiwgMSkKCQkJCX0gZWxzZSB7CgkJCQkJaisrCgkJCQl9CgkJCX0KCQl9IGVsc2UgaWYgKFRlbXBbaV0uc2VhcmNoKCJ2b2x0YWdlPD0iKSAhPT0gLTEpIHsKCQkJdmFsdWUgPSBUZW1wW2ldLnJlcGxhY2UoInZvbHRhZ2U8PSIsICIiKQoJCQl2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpCgkJCWZvciAoaiA9IDA7IGogPCBTb3VyY2VEYXRhLnZvbHRhZ2UubGVuZ3RoOykgewoJCQkJaWYgKGogPj0gU291cmNlRGF0YS52b2x0YWdlLmxlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJRGF0YVZhbHVlID0gU291cmNlRGF0YS52b2x0YWdlW2pdLnZhbHVlWzFdCgkJCQlEYXRhVmFsdWUgPSBwYXJzZUZsb2F0KERhdGFWYWx1ZSkKCQkJCWlmIChEYXRhVmFsdWUgPiB2YWx1ZSkgewoJCQkJCVNvdXJjZURhdGEudm9sdGFnZS5zcGxpY2UoaiwgMSkKCQkJCX0gZWxzZSB7CgkJCQkJaisrCgkJCQl9CgkJCX0KCQl9IGVsc2UgaWYgKFRlbXBbaV0uc2VhcmNoKCJ2b2x0YWdlPCIpICE9PSAtMSAmJiAoVGVtcFtpXS5zZWFyY2goIj0iKSA9PT0gLTEpKSB7CgkJCXZhbHVlID0gVGVtcFtpXS5yZXBsYWNlKCJ2b2x0YWdlPCIsICIiKQoJCQl2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpCgkJCWZvciAoaiA9IDA7IGogPCBTb3VyY2VEYXRhLnZvbHRhZ2UubGVuZ3RoOykgewoJCQkJaWYgKGogPj0gU291cmNlRGF0YS52b2x0YWdlLmxlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJRGF0YVZhbHVlID0gU291cmNlRGF0YS52b2x0YWdlW2pdLnZhbHVlWzFdCgkJCQlEYXRhVmFsdWUgPSBwYXJzZUZsb2F0KERhdGFWYWx1ZSkKCQkJCWlmIChEYXRhVmFsdWUgPj0gdmFsdWUpIHsKCQkJCQlTb3VyY2VEYXRhLnZvbHRhZ2Uuc3BsaWNlKGosIDEpCgkJCQl9IGVsc2UgewoJCQkJCWorKwoJCQkJfQoJCQl9CgkJfQoJCS8vZWxlY3RyaWNpdHkKCQllbHNlIGlmIChUZW1wW2ldLnNlYXJjaCgiZWxlY3RyaWNpdHk+PSIpICE9PSAtMSkgewoJCQl2YWx1ZSA9IFRlbXBbaV0ucmVwbGFjZSgiZWxlY3RyaWNpdHk+PSIsICIiKQoJCQl2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpCgkJCWZvciAoaiA9IDA7IGogPCBTb3VyY2VEYXRhLmVsZWN0cmljaXR5Lmxlbmd0aDspIHsKCQkJCWlmIChqID49IFNvdXJjZURhdGEuZWxlY3RyaWNpdHkubGVuZ3RoKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQlEYXRhVmFsdWUgPSBTb3VyY2VEYXRhLmVsZWN0cmljaXR5W2pdLnZhbHVlWzFdCgkJCQlEYXRhVmFsdWUgPSBwYXJzZUZsb2F0KERhdGFWYWx1ZSkKCQkJCWlmIChEYXRhVmFsdWUgPCB2YWx1ZSkgewoJCQkJCVNvdXJjZURhdGEuZWxlY3RyaWNpdHkuc3BsaWNlKGosIDEpCgkJCQl9IGVsc2UgewoJCQkJCWorKwoJCQkJfQoJCQl9CgkJfSBlbHNlIGlmIChUZW1wW2ldLnNlYXJjaCgiZWxlY3RyaWNpdHk+IikgIT09IC0xICYmIChUZW1wW2ldLnNlYXJjaCgiPSIpID09PSAtMSkpIHsKCQkJdmFsdWUgPSBUZW1wW2ldLnJlcGxhY2UoImVsZWN0cmljaXR5PiIsICIiKQoJCQl2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpCgkJCWZvciAoaiA9IDA7IGogPCBTb3VyY2VEYXRhLmVsZWN0cmljaXR5Lmxlbmd0aDspIHsKCQkJCWlmIChqID49IFNvdXJjZURhdGEuZWxlY3RyaWNpdHkubGVuZ3RoKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQlEYXRhVmFsdWUgPSBTb3VyY2VEYXRhLmVsZWN0cmljaXR5W2pdLnZhbHVlWzFdCgkJCQlEYXRhVmFsdWUgPSBwYXJzZUZsb2F0KERhdGFWYWx1ZSkKCQkJCWlmIChEYXRhVmFsdWUgPD0gdmFsdWUpIHsKCQkJCQlTb3VyY2VEYXRhLmVsZWN0cmljaXR5LnNwbGljZShqLCAxKQoJCQkJfSBlbHNlIHsKCQkJCQlqKysKCQkJCX0KCQkJfQoJCX0gZWxzZSBpZiAoVGVtcFtpXS5zZWFyY2goImVsZWN0cmljaXR5PD0iKSAhPT0gLTEpIHsKCQkJdmFsdWUgPSBUZW1wW2ldLnJlcGxhY2UoImVsZWN0cmljaXR5PD0iLCAiIikKCQkJdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKQoJCQlmb3IgKGogPSAwOyBqIDwgU291cmNlRGF0YS5lbGVjdHJpY2l0eS5sZW5ndGg7KSB7CgkJCQlpZiAoaiA+PSBTb3VyY2VEYXRhLmVsZWN0cmljaXR5Lmxlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJRGF0YVZhbHVlID0gU291cmNlRGF0YS5lbGVjdHJpY2l0eVtqXS52YWx1ZVsxXQoJCQkJRGF0YVZhbHVlID0gcGFyc2VGbG9hdChEYXRhVmFsdWUpCgkJCQlpZiAoRGF0YVZhbHVlID4gdmFsdWUpIHsKCQkJCQlTb3VyY2VEYXRhLmVsZWN0cmljaXR5LnNwbGljZShqLCAxKQoJCQkJfSBlbHNlIHsKCQkJCQlqKysKCQkJCX0KCQkJfQoJCX0gZWxzZSBpZiAoVGVtcFtpXS5zZWFyY2goImVsZWN0cmljaXR5PCIpICE9PSAtMSAmJiAoVGVtcFtpXS5zZWFyY2goIj0iKSA9PT0gLTEpKSB7CgkJCXZhbHVlID0gVGVtcFtpXS5yZXBsYWNlKCJlbGVjdHJpY2l0eTwiLCAiIikKCQkJdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKQoJCQlmb3IgKGogPSAwOyBqIDwgU291cmNlRGF0YS5lbGVjdHJpY2l0eS5sZW5ndGg7KSB7CgkJCQlpZiAoaiA+PSBTb3VyY2VEYXRhLmVsZWN0cmljaXR5Lmxlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJRGF0YVZhbHVlID0gU291cmNlRGF0YS5lbGVjdHJpY2l0eVtqXS52YWx1ZVsxXQoJCQkJRGF0YVZhbHVlID0gcGFyc2VGbG9hdChEYXRhVmFsdWUpCgkJCQlpZiAoRGF0YVZhbHVlID49IHZhbHVlKSB7CgkJCQkJU291cmNlRGF0YS5lbGVjdHJpY2l0eS5zcGxpY2UoaiwgMSkKCQkJCX0gZWxzZSB7CgkJCQkJaisrCgkJCQl9CgkJCX0KCQl9Cgl9IC8vZW5kIGZvcgoJcmV0dXJuIFNvdXJjZURhdGE7Cn0KCmZ1bmN0aW9uIFRpbWVDaGFuZ2VTdHJpbmcobm93KSB7CglyZXR1cm4gbm93LmdldEZ1bGxZZWFyKCkgKyAnLScgKyAobm93LmdldE1vbnRoKCkgKyAxKSArICctJyArIG5vdy5nZXREYXRlKCkgKyAnICcgKwoJCShub3cuZ2V0SG91cnMoKSA+PSAxMCA/IG5vdy5nZXRIb3VycygpIDogJzAnICsgbm93LmdldEhvdXJzKCkpICsgJzonICsKCQkobm93LmdldE1pbnV0ZXMoKSA+PSAxMCA/IG5vdy5nZXRNaW51dGVzKCkgOiAnMCcgKyBub3cuZ2V0TWludXRlcygpKSArICc6JyArCgkJKG5vdy5nZXRTZWNvbmRzKCkgPj0gMTAgPyBub3cuZ2V0U2Vjb25kcygpIDogJzAnICsgbm93LmdldFNlY29uZHMoKSk7Cn0K"},{"version":3,"sources":["DataCheck.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"DataCheck.vue","sourceRoot":"src/views/MainViews/TimeData","sourcesContent":["<template>\r\n\t<div >\r\n\t\t<div class=\"location\">\r\n\t\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 35px;\">\r\n\t\t\t\t<el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>时序数据库</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>数据查询</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div><!-- //end location -->\n\t\t<!-- <el-divider content-position=\"left\">数据查询</el-divider> -->\r\n\t\t<div class=\"DataCheck\">\n\t\t\t<el-divider content-position=\"left\">数据查询</el-divider>\n\t\t\t<el-empty description=\"系统管理员无法使用该功能\" v-if=\"this.isType3 === true\"></el-empty>\n\t\t\t<el-scrollbar style=\"height: 95%; width: 100%;\" v-if=\"this.isType3 === false\">\r\n\t\t\t<div class=\"boxhead\">\r\n\t\t\t\t<el-tabs v-model=\"tabName\" class=\"leftbox\">\r\n\t\t\t\t\t<el-tab-pane label=\"指标\" name=\"first\"></el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"轴线\" name=\"second\"></el-tab-pane>\r\n\t\t\t\t\t<!-- <el-tab-pane label=\"图例\" name=\"third\"></el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"显示\" name=\"fourth\"></el-tab-pane> -->\r\n\t\t\t\t</el-tabs><!-- //end leftbox -->\r\n\t\t\t\t<el-dropdown trigger=\"click\" @command=\"ChangeSource\" class=\"rightbox\">\r\n\t\t\t\t\t<span class=\"el-dropdown-link\" style=\"font-size: 14px;\">\r\n\t\t\t\t\t\t<span style=\"margin-right: 15px;\">数据源</span>\r\n\t\t\t\t\t\t<span class=\"span-size\">{{SelcetDataSource}}<i\r\n\t\t\t\t\t\t\t\tclass=\"el-icon-arrow-down el-icon--right\"></i></span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\t<el-dropdown-item v-for=\"(item,index) in DataSource\" :key=\"index\" :command=\"item\">{{item}}\r\n\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t</el-dropdown><!-- //end rightbox -->\r\n\t\t\t</div><!-- //end boxhead -->\r\n\t\t\t<div class=\"boxbody\">\r\n\t\t\t\t<div class=\"firstbox\">\r\n\t\t\t\t\t<!-- v-if=\"tabName==='first'\" -->\r\n\t\t\t\t\t<div class=\"Timebox\">\r\n\t\t\t\t\t\t<span class=\"el-dropdown-link\">\r\n\t\t\t\t\t\t\t<span> 时间选择: </span>\r\n\t\t\t\t\t\t\t<!-- <span class=\"span-size\">{{time}}<i class=\"el-icon-arrow-down el-icon--right\"></i></span> -->\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<!-- <el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\t    <el-dropdown-item v-for=\"(item,index) in wheretime\" :key=\"index\" :command=\"item\" >{{item}}</el-dropdown-item>\r\n\t\t\t\t\t\t  </el-dropdown-menu> -->\r\n\t\t\t\t\t\t<el-date-picker v-model=\"value2\" type=\"datetimerange\" :picker-options=\"pickerOptions\"\r\n\t\t\t\t\t\t\trange-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" align=\"right\" style=\"margin-left: 10px;\">\r\n\t\t\t\t\t\t</el-date-picker >\r\n\t\t\t\t\t\t<!-- <el-button class=\"rightbtn\" type=\"text\">\r\n\t\t\t\t\t\t\t<i class=\"el-icon-arrow-right\"></i>\r\n\t\t\t\t\t\t\t查询条件预览\r\n\t\t\t\t\t\t</el-button> -->\r\n\t\t\t\t\t</div><!-- end timebox -->\r\n\t\t\t\t\t<div class=\"checkbox\">\r\n\t\t\t\t\t\t<el-collapse v-model=\"collapseName\">\r\n\t\t\t\t\t\t\t<el-collapse-item v-for=\"(item,index) in infor\" :key=\"index\"\r\n\t\t\t\t\t\t\t\t:title=\"String.fromCharCode(Number(index)+65)\" :name=\"index\">\r\n\t\t\t\t\t\t\t\t<div style=\"width: 600px;float: left;\">\r\n\t\t\t\t\t\t\t\t\t<el-form label-width=\"80px\">\r\n\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"指标\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 4}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入内容\" v-model=\"item.target\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"聚合函数\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-select v-model=\"item.function\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-option v-for=\"it in options\" :key=\"it.value\" :label=\"it.label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:value=\"it.value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"过滤\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-select v-model=\"item.filtration\" multiple placeholder=\"请选择过滤\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-option v-for=\"item in options_filtration\" :key=\"item.value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:label=\"item.label\" :value=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-checkbox v-model=\"item.underclocking\">降频</el-checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-delete\" style=\"float: right;font-size: 20px;margin-right: 20px;\"\r\n\t\t\t\t\t\t\t\t\t@click=\"deletecol(index)\"></i>\r\n\t\t\t\t\t\t\t</el-collapse-item>\r\n\t\t\t\t\t\t\t<el-collapse-item :title=\"String.fromCharCode(infor.length+65)\" name=\"last\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"AddSearch\">新增查询</el-button>\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"SelectData\">时序分析</el-button>\r\n\t\t\t\t\t\t\t</el-collapse-item>\r\n\t\t\t\t\t\t</el-collapse>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"main\">\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\n\t\t\t</el-scrollbar>\r\n\t\t</div><!-- end DataCheck -->\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport * as echarts from 'echarts'\r\n\timport axios from 'axios'\r\n\timport Qs from 'qs'\r\n\timport Cookie from 'js-cookie'\r\n\timport mqtt from 'mqtt'\r\n\texport default {\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\n\t\t\t\tisType3 : false,\r\n\t\t\t\ttabName: 'first',\r\n\t\t\t\tDataSource: [], //数据源列表\r\n\t\t\t\tSelcetDataSource: \"选择数据源\", //选择的数据源\r\n\t\t\t\tpickerOptions: {\r\n\t\t\t\t\tshortcuts: [{\r\n\t\t\t\t\t\ttext: '最近一周',\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: '最近一个月',\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: '最近三个月',\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tvalue2: [],\r\n\t\t\t\ttime: \"请选择\", //wheretime选择的时间\r\n\t\t\t\tcollapseName: [0, \"last\"],\r\n\t\t\t\tinfor: [{\r\n\t\t\t\t\ttarget: \"请输入指标eg:\\ntemperature>=40;\\ntemperature<20\",\r\n\t\t\t\t\tfunction: \"请选择聚合函数\",\r\n\t\t\t\t\tfiltration: [],\r\n\t\t\t\t\tunderclocking: false\r\n\t\t\t\t}], //折叠面板表单列表\r\n\t\t\t\toptions: [{\r\n\t\t\t\t\t\tvalue: '求和',\r\n\t\t\t\t\t\tlabel: '求和'\r\n\t\t\t\t\t}, //聚合函数\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '求方差',\r\n\t\t\t\t\t\tlabel: '求方差'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '求平均',\r\n\t\t\t\t\t\tlabel: '求平均'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '求最大',\r\n\t\t\t\t\t\tlabel: '求最大'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '求最小',\r\n\t\t\t\t\t\tlabel: '求最小'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\toptions_filtration: [{\r\n\t\t\t\t\t\tvalue: '默认',\r\n\t\t\t\t\t\tlabel: '默认'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'temperature',\r\n\t\t\t\t\t\tlabel: 'temperature'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'humidity',\r\n\t\t\t\t\t\tlabel: 'humidity'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'voltage',\r\n\t\t\t\t\t\tlabel: 'voltage'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'electricity',\r\n\t\t\t\t\t\tlabel: 'electricity'\r\n\t\t\t\t\t},\r\n\t\t\t\t], //过滤\r\n\r\n\t\t\t\tProductionsInfor: [],\r\n\t\t\t\tDeviceInfor: [],\r\n\t\t\t\tDevice: [],\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconst user_id = Cookie.get('user_id')\r\n\t\t\tconst token = Cookie.get('token')\r\n\t\t\tconst company_id = Cookie.get('company_id')\r\n\r\n\t\t\t//产品列表获取\r\n\t\t\tvar ProductionsURL = \"https://site.maple.today/IOTplatform/ServerMain\"\r\n\t\t\tvar ProductionsData = {\r\n\t\t\t\t\"requestCode\": \"005\",\r\n\t\t\t\t\"user_id\": user_id,\r\n\t\t\t\t\"token\": token,\r\n\t\t\t\t\"company_id\": 1,\r\n\t\t\t}\r\n\t\t\t// console.log(Qs.stringify(ProductionsData));\r\n\t\t\tvar AXIOS = axios.create({\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tvar _this = this;\r\n\t\t\tAXIOS.post(ProductionsURL, Qs.stringify(ProductionsData))\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\t// console.log(\"产品列表\",res.data.data)\r\n\t\t\t\t\t_this.ProductionsInfor = res.data.data\r\n\t\t\t\t\tfor (var i = 0; i < _this.ProductionsInfor.length; i++) {\r\n\t\t\t\t\t\tvar DeviceURL = \"https://site.maple.today/IOTplatform/ServerMain\"\r\n\t\t\t\t\t\tvar DeviceData = {\r\n\t\t\t\t\t\t\t\"requestCode\": \"025\",\r\n\t\t\t\t\t\t\t\"user_id\": user_id,\r\n\t\t\t\t\t\t\t\"token\": token,\r\n\t\t\t\t\t\t\t\"company_id\": 1,\r\n\t\t\t\t\t\t\t\"product_id\": _this.ProductionsInfor[i].product_id,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log(Qs.stringify(DeviceData));\r\n\t\t\t\t\t\tAXIOS.post(DeviceURL, Qs.stringify(DeviceData)) //设备列表获取\r\n\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t// console.log(\"设备列表\"+ProductionsInfor[i].product_id,res)\r\n\t\t\t\t\t\t\t\t// DeviceInfor = res.data\r\n\t\t\t\t\t\t\t\t// console.log(\"this\", res)\r\n\t\t\t\t\t\t\t\t_this.DeviceInfor = res.data.data;\r\n\t\t\t\t\t\t\t\tfor (var j = 0; j < _this.DeviceInfor.length; j++) {\r\n\t\t\t\t\t\t\t\t\tvar url = 'https://site.maple.today/IOTplatform/ServerMain';\r\n\t\t\t\t\t\t\t\t\tlet postdata = {\r\n\t\t\t\t\t\t\t\t\t\t\"requestCode\": \"027\",\r\n\t\t\t\t\t\t\t\t\t\t\"user_id\": user_id,\r\n\t\t\t\t\t\t\t\t\t\t\"token\": token,\r\n\t\t\t\t\t\t\t\t\t\t\"company_id\": 1,\r\n\t\t\t\t\t\t\t\t\t\t\"device_id\": _this.DeviceInfor[j].sensor_id\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t// console.log(Qs.stringify(postdata))\r\n\t\t\t\t\t\t\t\t\tAXIOS.post(url, Qs.stringify(postdata)) //设备属性获取\r\n\t\t\t\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t// console.log(Qs.parse(res.config.data).device_id)\r\n\t\t\t\t\t\t\t\t\t\t\t// console.log(res.data.data)\r\n\t\t\t\t\t\t\t\t\t\t\tvar temp = res.data.data\r\n\t\t\t\t\t\t\t\t\t\t\tvar temperature_seriesData = []\r\n\t\t\t\t\t\t\t\t\t\t\tvar humidity_seriesData = []\r\n\t\t\t\t\t\t\t\t\t\t\tvar voltage_seriesData = []\r\n\t\t\t\t\t\t\t\t\t\t\tvar electricity_seriesData = []\r\n\t\t\t\t\t\t\t\t\t\t\tvar device_id = Qs.parse(res.config.data).device_id\r\n\t\t\t\t\t\t\t\t\t\t\t_this.DataSource.push(\"device_\" + device_id)\r\n\t\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < temp.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// console.log(eval('(' + temp[k].data + ')'))\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar time = temp[k].time //时间\r\n\t\t\t\t\t\t\t\t\t\t\t\t//time 变换\r\n\t\t\t\t\t\t\t\t\t\t\t\t// time = time.replace(/-/g, '/')\r\n\t\t\t\t\t\t\t\t\t\t\t\t// console.log(time)\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar arr = eval('(' + temp[k].data + ')') //数据\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar temperature = {}; //{name:time变换,value:[valueName,value]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar humidity = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar voltage = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar electricity = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var l = 0; l < arr.length; l++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (l === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemperature = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: time,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: [time, arr[l]]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemperature_seriesData.push(temperature)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (l === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thumidity = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: time,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: [time, arr[l]]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thumidity_seriesData.push(humidity)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (l === 2) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvoltage = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: time,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: [time, arr[l]]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvoltage_seriesData.push(voltage)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telectricity = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: time,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: [time, arr[l]]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telectricity_seriesData.push(electricity)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t} //1device infor\r\n\t\t\t\t\t\t\t\t\t\t\t_this.Device.push({\r\n\t\t\t\t\t\t\t\t\t\t\t\tdevice_id: device_id,\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttemperature: temperature_seriesData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thumidity: humidity_seriesData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvoltage: voltage_seriesData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\telectricity: electricity_seriesData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.catch(error => console.log(error));\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(error => console.log(error));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.log(error));\r\n\t\t\tconsole.log(\"this.Device\", this.Device)\r\n\t\t},\n\t\tcreated() {\n\t\t\tif (Cookie.get('modal') === '3') {\n\t\t\t\tconsole.log(\"检测到为系统管理员\")\n\t\t\t\tthis.isType3 = true\n\t\t\t} else {\n\t\t\t\tconsole.log(\"检测为普通用户\")\n\t\t\t}\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tChangeSource(data) {\r\n\t\t\t\tthis.SelcetDataSource = data;\r\n\t\t\t\t// console.log(data)\r\n\t\t\t},\r\n\t\t\tdeletecol(index) {\r\n\t\t\t\tthis.infor.splice(index, 1)\r\n\t\t\t},\r\n\t\t\tAddSearch() {\r\n\t\t\t\tif (this.infor.length >= 25) {\r\n\t\t\t\t\talert(\"查询点过多\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.infor.push({\r\n\t\t\t\t\t\ttarget: \"请输入指标eg:\\ntemperature>=40;\\ntemperature<20\",\r\n\t\t\t\t\t\tfunction: \"请选择聚合函数\",\r\n\t\t\t\t\t\tfiltration: [],\r\n\t\t\t\t\t\tunderclocking: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.collapseName.push(this.infor.length - 1)\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(this.collapseName)\r\n\t\t\t},\r\n\t\t\tSelectData() {\r\n\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tvar SourceData = '';\r\n\t\t\t\tfor (var i = 0; i < _this.Device.length; i++) { //源数据筛选\r\n\t\t\t\t\tif ((\"device_\" + _this.Device[i].device_id) === _this.SelcetDataSource) {\r\n\t\t\t\t\t\tSourceData = JSON.parse(JSON.stringify(_this.Device[i].value));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tSourceData.temperature.sort(compare)\r\n\t\t\t\tSourceData.humidity.sort(compare)\r\n\t\t\t\tSourceData.voltage.sort(compare)\r\n\t\t\t\tSourceData.electricity.sort(compare)\r\n\r\n\t\t\t\tvar start = _this.value2[0]\r\n\t\t\t\tvar end = _this.value2[1]\r\n\t\t\t\tstart = TimeChangeString(start)\r\n\t\t\t\tend = TimeChangeString(end)\r\n\t\t\t\t//时间筛选数据\r\n\t\t\t\tSourceData.temperature = CheckDate(start, end, SourceData.temperature)\r\n\t\t\t\tSourceData.humidity = CheckDate(start, end, SourceData.humidity)\r\n\t\t\t\tSourceData.voltage = CheckDate(start, end, SourceData.voltage)\r\n\t\t\t\tSourceData.electricity = CheckDate(start, end, SourceData.electricity)\r\n\r\n\t\t\t\t// target处理\r\n\t\t\t\tvar LastInforData = [];\r\n\t\t\t\tfor (i = 0; i < _this.infor.length; i++) {\r\n\t\t\t\t\tvar lastinfordata = TargetData(_this.infor[i].target, JSON.parse(JSON.stringify(SourceData)))\r\n\t\t\t\t\tLastInforData.push(lastinfordata)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//聚合函数处理\r\n\t\t\t\tvar funList = [];\r\n\t\t\t\tfor (i = 0; i < _this.infor.length; i++) {\r\n\t\t\t\t\tvar temperaturefun = FunctionData(_this.infor[i].function, LastInforData[i].temperature)\r\n\t\t\t\t\tvar humidityfun = FunctionData(_this.infor[i].function, LastInforData[i].humidity)\r\n\t\t\t\t\tvar voltagefun = FunctionData(_this.infor[i].function, LastInforData[i].voltage)\r\n\t\t\t\t\tvar electricityfun = FunctionData(_this.infor[i].function, LastInforData[i].electricity)\r\n\r\n\t\t\t\t\tfunList.push({\r\n\t\t\t\t\t\ttemperature: temperaturefun,\r\n\t\t\t\t\t\thumidity: humidityfun,\r\n\t\t\t\t\t\tvoltage: voltagefun,\r\n\t\t\t\t\t\telectricity: electricityfun,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(funList)\r\n\t\t\t\t// console.log(LastInforData)\r\n\t\t\t\t//过滤处理\r\n\t\t\t\tfor (i = 0; i < _this.infor.length; i++) {\r\n\t\t\t\t\tfor (var j = 0; j < _this.infor[i].filtration.length; j++) {\r\n\t\t\t\t\t\tif (_this.infor[i].filtration[j] === \"temperature\") {\r\n\t\t\t\t\t\t\tLastInforData[i].temperature = []\r\n\t\t\t\t\t\t} else if (_this.infor[i].filtration[j] === \"humidity\") {\r\n\t\t\t\t\t\t\tLastInforData[i].humidity = []\r\n\t\t\t\t\t\t} else if (_this.infor[i].filtration[j] === \"voltage\") {\r\n\t\t\t\t\t\t\tLastInforData[i].voltage = []\r\n\t\t\t\t\t\t} else if (_this.infor[i].filtration[j] === \"electricity\") {\r\n\t\t\t\t\t\t\tLastInforData[i].electricity = []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(_this.infor[i].filtration)\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(LastInforData)\r\n\t\t\t\t//降频1级处理\r\n\t\t\t\tfor (i = 0; i < _this.infor.length; i++) {\r\n\t\t\t\t\tif (_this.infor[i].underclocking === true) {\r\n\t\t\t\t\t\tLastInforData[i].temperature = SubFre(LastInforData[i].temperature)\r\n\t\t\t\t\t\tLastInforData[i].humidity = SubFre(LastInforData[i].humidity)\r\n\t\t\t\t\t\tLastInforData[i].voltage = SubFre(LastInforData[i].voltage)\r\n\t\t\t\t\t\tLastInforData[i].electricity = SubFre(LastInforData[i].electricity)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//降频2级处理\r\n\t\t\t\tfor (i = 0; i < _this.infor.length; i++) {\r\n\t\t\t\t\tif (_this.infor[i].underclocking === true) {\r\n\t\t\t\t\t\tLastInforData[i].temperature = Fre2(LastInforData[i].temperature, 5)\r\n\t\t\t\t\t\tLastInforData[i].humidity = Fre2(LastInforData[i].humidity, 5)\r\n\t\t\t\t\t\tLastInforData[i].voltage = Fre2(LastInforData[i].voltage, 5)\r\n\t\t\t\t\t\tLastInforData[i].electricity = Fre2(LastInforData[i].electricity, 5)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(LastInforData)\r\n\r\n\t\t\t\t//图表四项\r\n\t\t\t\tif (_this.tabName === \"first\") {\r\n\t\t\t\t\tfor (i = 0; i < _this.infor.length; i++) {\r\n\t\t\t\t\t\tvar maindiv = document.createElement(\"div\")\r\n\t\t\t\t\t\tmaindiv.id = \"module_\" + String.fromCharCode(Number(i) + 65)\r\n\t\t\t\t\t\tmaindiv.style = \"width: 1200px;height: 400px;\"\r\n\t\t\t\t\t\tdocument.getElementById(\"main\").appendChild(maindiv) //创建设备的图表盒子\r\n\t\t\t\t\t\tvar cdom = document.getElementById((\"module_\" + String.fromCharCode(Number(i) + 65)));\r\n\t\t\t\t\t\tvar mychart = echarts.init(cdom);\r\n\t\t\t\t\t\tvar optiontemp = {\r\n\t\t\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\t\t\ttrigger: 'item'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\t\t\ttop: '5%',\r\n\t\t\t\t\t\t\t\tleft: 'center'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\t\t\tname: '属性',\r\n\t\t\t\t\t\t\t\ttype: 'pie',\r\n\t\t\t\t\t\t\t\tradius: ['40%', '70%'],\r\n\t\t\t\t\t\t\t\tavoidLabelOverlap: false,\r\n\t\t\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\t\t\tborderRadius: 10,\r\n\t\t\t\t\t\t\t\t\tborderColor: '#fff',\r\n\t\t\t\t\t\t\t\t\tborderWidth: 2\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t\t\tposition: 'center'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '40',\r\n\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlabelLine: {\r\n\t\t\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tdata: [{\r\n\t\t\t\t\t\t\t\t\t\tvalue: LastInforData[i].temperature.length,\r\n\t\t\t\t\t\t\t\t\t\tname: 'temperature'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: LastInforData[i].humidity.length,\r\n\t\t\t\t\t\t\t\t\t\tname: 'humidity'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: LastInforData[i].voltage.length,\r\n\t\t\t\t\t\t\t\t\t\tname: 'voltage'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: LastInforData[i].electricity.length,\r\n\t\t\t\t\t\t\t\t\t\tname: 'electricity'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\toptiontemp && mychart.setOption(optiontemp);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (_this.tabName === \"second\") {\r\n\t\t\t\t\tfor (i = 0; i < _this.infor.length; i++) {\r\n\t\t\t\t\t\tmaindiv = document.createElement(\"div\")\r\n\t\t\t\t\t\tmaindiv.id = \"module_\" + String.fromCharCode(Number(i) + 65)\r\n\t\t\t\t\t\tmaindiv.style = \"width: 1200px;height: 400px;\"\r\n\t\t\t\t\t\tdocument.getElementById(\"main\").appendChild(maindiv) //创建设备的图表盒子\r\n\t\t\t\t\t\tcdom = document.getElementById((\"module_\" + String.fromCharCode(Number(i) + 65)));\r\n\t\t\t\t\t\tmychart = echarts.init(cdom);\r\n\t\t\t\t\t\toptiontemp = {\r\n\t\t\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\t\t\ttext: \"module_\" + String.fromCharCode(Number(i) + 65)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\t\t\tdata: ['Temperature', 'Humidity', 'Voltage',\r\n\t\t\t\t\t\t\t\t\t'Electricity'\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\t\t\t\tformatter: function(params) {\r\n\t\t\t\t\t\t\t\t\tparams = params[0];\r\n\t\t\t\t\t\t\t\t\treturn params.name + ' Value: ' + params.value[\r\n\t\t\t\t\t\t\t\t\t\t1];\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\t\t\tanimation: false\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\t\t\ttype: 'time',\r\n\t\t\t\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\t\t\tboundaryGap: [0, '100%'],\r\n\t\t\t\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\t\t\tname: 'Temperature',\r\n\t\t\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\t\t\tshowSymbol: false,\r\n\t\t\t\t\t\t\t\thoverAnimation: false,\r\n\t\t\t\t\t\t\t\tdata: LastInforData[i].temperature\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tname: 'Humidity',\r\n\t\t\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\t\t\tshowSymbol: false,\r\n\t\t\t\t\t\t\t\thoverAnimation: false,\r\n\t\t\t\t\t\t\t\tdata: LastInforData[i].humidity\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tname: 'Voltage',\r\n\t\t\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\t\t\tshowSymbol: false,\r\n\t\t\t\t\t\t\t\thoverAnimation: false,\r\n\t\t\t\t\t\t\t\tdata: LastInforData[i].voltage\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tname: 'Electricity',\r\n\t\t\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\t\t\tshowSymbol: false,\r\n\t\t\t\t\t\t\t\thoverAnimation: false,\r\n\t\t\t\t\t\t\t\tdata: LastInforData[i].electricity\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\toptiontemp && mychart.setOption(optiontemp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//pg client getdata where time,device,指标，聚合函数，过滤，降频\r\n\t\t\t\t// console.log(SourceData)\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tfunction Fre2(arr,freq) {\r\n\t\tvar left = -1,\r\n\t\t\tsum = 0,\r\n\t\t\ttime = '',\r\n\t\t\taver = 0,\r\n\t\t\ti = 0;\r\n\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\tif (i % freq === 0) {\r\n\t\t\t\tif(i-left!==1){\r\n\t\t\t\t\taver = sum / (i - left);\r\n\t\t\t\t\tarr.splice(left, i - left, {\r\n\t\t\t\t\t\tname: time,\r\n\t\t\t\t\t\tvalue: [time, aver]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(i>=arr.length){\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tleft = i;\r\n\t\t\t\tsum = parseFloat(arr[i].value[1]);\r\n\t\t\t\ttime = arr[i].name;\r\n\t\t\t} else {\r\n\t\t\t\tsum += parseFloat(arr[i].value[1])\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (i - left !== 1 && i<arr.length) {\r\n\t\t\taver = sum / (i - left);\r\n\t\t\tarr.splice(left, i - left, {\r\n\t\t\t\tname: time,\r\n\t\t\t\tvalue: [time, aver]\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\r\n\tfunction SubFre(arr) {\r\n\t\tvar left = -1,\r\n\t\t\tsum = 0,\r\n\t\t\ttime = '',\r\n\t\t\taver = 0,\r\n\t\t\ti = 0;\r\n\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\tif (arr[i].name !== time) {\r\n\t\t\t\tif (i - left !== 1) {\r\n\t\t\t\t\taver = sum / (i - left);\r\n\t\t\t\t\tarr.splice(left, i - left, {\r\n\t\t\t\t\t\tname: time,\r\n\t\t\t\t\t\tvalue: [time, aver]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(i>=arr.length){\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tleft = i;\r\n\t\t\t\tsum = parseFloat(arr[i].value[1]);\r\n\t\t\t\ttime = arr[i].name;\r\n\t\t\t} else {\r\n\t\t\t\tsum += parseFloat(arr[i].value[1])\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (i - left !== 1 && i<arr.length) {\r\n\t\t\taver = sum / (i - left);\r\n\t\t\tarr.splice(left, i - left, {\r\n\t\t\t\tname: time,\r\n\t\t\t\tvalue: [time, aver]\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\r\n\tfunction FunctionData(fun, arr) {\r\n\t\tvar i = 0;\r\n\t\tvar sum = 0;\r\n\t\tvar aver = 0;\r\n\t\tvar Max = -Infinity\r\n\t\tvar Min = Infinity\r\n\t\tif (fun === \"求和\") {\r\n\t\t\tsum = 0;\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tsum = sum + parseFloat(arr[i].value[1])\r\n\t\t\t}\r\n\t\t\treturn sum;\r\n\t\t} else if (fun === \"求方差\") {\r\n\t\t\tsum = 0;\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tsum = sum + parseFloat(arr[i].value[1])\r\n\t\t\t}\r\n\t\t\taver = sum / arr.length\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tsum = sum + Math.pow((aver - parseFloat(arr[i].value[1])), 2)\r\n\t\t\t}\r\n\t\t\treturn Math.sqrt((sum / arr.length), 2)\r\n\t\t} else if (fun === \"求平均\") {\r\n\t\t\tsum = 0;\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tsum = sum + parseFloat(arr[i].value[1])\r\n\t\t\t}\r\n\t\t\taver = sum / arr.length;\r\n\t\t\treturn aver;\r\n\t\t} else if (fun === \"求最大\") {\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (parseFloat(arr[i].value[1]) > Max) {\r\n\t\t\t\t\tMax = parseFloat(arr[i].value[1])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Max;\r\n\t\t} else if (fun === \"求最小\") {\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (parseFloat(arr[i].value[1]) < Min) {\r\n\t\t\t\t\tMin = parseFloat(arr[i].value[1])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Min;\r\n\t\t} else {\r\n\t\t\treturn NaN\r\n\t\t}\r\n\t}\r\n\r\n\tfunction CompareDate(d1, d2) {\r\n\t\treturn (((new Date(d1.replace(/-/g, \"/\"))) > (new Date(d2.replace(/-/g, \"/\")))));\r\n\t}\r\n\r\n\tfunction compare(obj1, obj2) {\r\n\t\tvar d1 = obj1.name;\r\n\t\tvar d2 = obj2.name;\r\n\t\tif ((((new Date(d1.replace(/-/g, \"/\"))) > (new Date(d2.replace(/-/g, \"/\")))))) {\r\n\t\t\treturn -1;\r\n\t\t} else if ((((new Date(d2.replace(/-/g, \"/\"))) > (new Date(d1.replace(/-/g, \"/\")))))) {\r\n\t\t\treturn 1;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction CheckDate(start, end, arr) {\r\n\t\tfor (var i = 0; i < arr.length;) {\r\n\t\t\tif (i >= arr.length) break\r\n\t\t\tif (CompareDate(start, arr[i].name) || CompareDate(arr[i].name, end)) {\r\n\t\t\t\tarr.splice(i, 1)\r\n\t\t\t} else {\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tfunction TargetData(target, SourceData) {\r\n\t\tvar i = 0,\r\n\t\t\tj = 0;\r\n\t\tvar value = '',\r\n\t\t\tDataValue = '';\r\n\t\ttarget = target.replace(\"请输入指标eg:\", \"\")\r\n\t\t// console.log(target)\r\n\t\ttarget = target.replace(/\\n/g, \"\")\r\n\t\t// console.log(target)\r\n\t\tvar Temp = target.split(';')\r\n\t\t// console.log(Temp)\r\n\t\tfor (i = 0; i < Temp.length; i++) {\r\n\t\t\t//temperature\r\n\t\t\tif (Temp[i].search(\"temperature>=\") !== -1) {\r\n\t\t\t\t// console.log(i)\r\n\t\t\t\tvalue = Temp[i]\r\n\t\t\t\tvalue = value.replace(\"temperature>=\", \"\")\r\n\t\t\t\t// console.log(value)\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\t// console.log(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.temperature.length;) {\r\n\t\t\t\t\tif (j >= SourceData.temperature.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.temperature[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue < value) {\r\n\t\t\t\t\t\tSourceData.temperature.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"temperature>\") !== -1 && (Temp[i].search(\"=\") === -1)) {\r\n\t\t\t\tvalue = Temp[i].replace(\"temperature>\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.temperature.length;) {\r\n\t\t\t\t\tif (j >= SourceData.temperature.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.temperature[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue <= value) {\r\n\t\t\t\t\t\tSourceData.temperature.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"temperature<=\") !== -1) {\r\n\t\t\t\tvalue = Temp[i].replace(\"temperature<=\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.temperature.length;) {\r\n\t\t\t\t\tif (j >= SourceData.temperature.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.temperature[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue > value) {\r\n\t\t\t\t\t\tSourceData.temperature.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"temperature<\") !== -1 && (Temp[i].search(\"=\") === -1)) {\r\n\t\t\t\tvalue = Temp[i].replace(\"temperature<\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.temperature.length;) {\r\n\t\t\t\t\tif (j >= SourceData.temperature.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.temperature[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue >= value) {\r\n\t\t\t\t\t\tSourceData.temperature.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//humidity\r\n\t\t\telse if (Temp[i].search(\"humidity>=\") !== -1) {\r\n\t\t\t\tvalue = Temp[i].replace(\"humidity>=\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.humidity.length;) {\r\n\t\t\t\t\tif (j >= SourceData.humidity.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.humidity[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue < value) {\r\n\t\t\t\t\t\tSourceData.humidity.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"humidity>\") !== -1 && (Temp[i].search(\"=\") === -1)) {\r\n\t\t\t\tvalue = Temp[i].replace(\"humidity>\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.humidity.length;) {\r\n\t\t\t\t\tif (j >= SourceData.humidity.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.humidity[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue <= value) {\r\n\t\t\t\t\t\tSourceData.humidity.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"humidity<=\") !== -1) {\r\n\t\t\t\tvalue = Temp[i].replace(\"humidity<=\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.humidity.length;) {\r\n\t\t\t\t\tif (j >= SourceData.humidity.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.humidity[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue > value) {\r\n\t\t\t\t\t\tSourceData.humidity.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"humidity<\") !== -1 && (Temp[i].search(\"=\") === -1)) {\r\n\t\t\t\tvalue = Temp[i].replace(\"humidity<\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.humidity.length;) {\r\n\t\t\t\t\tif (j >= SourceData.humidity.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.humidity[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue >= value) {\r\n\t\t\t\t\t\tSourceData.humidity.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//voltage\r\n\t\t\telse if (Temp[i].search(\"voltage>=\") !== -1) {\r\n\t\t\t\tvalue = Temp[i].replace(\"voltage>=\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.voltage.length;) {\r\n\t\t\t\t\tif (j >= SourceData.voltage.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.voltage[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue < value) {\r\n\t\t\t\t\t\tSourceData.voltage.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"voltage>\") !== -1 && (Temp[i].search(\"=\") === -1)) {\r\n\t\t\t\tvalue = Temp[i].replace(\"voltage>\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.voltage.length;) {\r\n\t\t\t\t\tif (j >= SourceData.voltage.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.voltage[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue <= value) {\r\n\t\t\t\t\t\tSourceData.voltage.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"voltage<=\") !== -1) {\r\n\t\t\t\tvalue = Temp[i].replace(\"voltage<=\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.voltage.length;) {\r\n\t\t\t\t\tif (j >= SourceData.voltage.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.voltage[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue > value) {\r\n\t\t\t\t\t\tSourceData.voltage.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"voltage<\") !== -1 && (Temp[i].search(\"=\") === -1)) {\r\n\t\t\t\tvalue = Temp[i].replace(\"voltage<\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.voltage.length;) {\r\n\t\t\t\t\tif (j >= SourceData.voltage.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.voltage[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue >= value) {\r\n\t\t\t\t\t\tSourceData.voltage.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//electricity\r\n\t\t\telse if (Temp[i].search(\"electricity>=\") !== -1) {\r\n\t\t\t\tvalue = Temp[i].replace(\"electricity>=\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.electricity.length;) {\r\n\t\t\t\t\tif (j >= SourceData.electricity.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.electricity[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue < value) {\r\n\t\t\t\t\t\tSourceData.electricity.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"electricity>\") !== -1 && (Temp[i].search(\"=\") === -1)) {\r\n\t\t\t\tvalue = Temp[i].replace(\"electricity>\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.electricity.length;) {\r\n\t\t\t\t\tif (j >= SourceData.electricity.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.electricity[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue <= value) {\r\n\t\t\t\t\t\tSourceData.electricity.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"electricity<=\") !== -1) {\r\n\t\t\t\tvalue = Temp[i].replace(\"electricity<=\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.electricity.length;) {\r\n\t\t\t\t\tif (j >= SourceData.electricity.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.electricity[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue > value) {\r\n\t\t\t\t\t\tSourceData.electricity.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Temp[i].search(\"electricity<\") !== -1 && (Temp[i].search(\"=\") === -1)) {\r\n\t\t\t\tvalue = Temp[i].replace(\"electricity<\", \"\")\r\n\t\t\t\tvalue = parseFloat(value)\r\n\t\t\t\tfor (j = 0; j < SourceData.electricity.length;) {\r\n\t\t\t\t\tif (j >= SourceData.electricity.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDataValue = SourceData.electricity[j].value[1]\r\n\t\t\t\t\tDataValue = parseFloat(DataValue)\r\n\t\t\t\t\tif (DataValue >= value) {\r\n\t\t\t\t\t\tSourceData.electricity.splice(j, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} //end for\r\n\t\treturn SourceData;\r\n\t}\r\n\r\n\tfunction TimeChangeString(now) {\r\n\t\treturn now.getFullYear() + '-' + (now.getMonth() + 1) + '-' + now.getDate() + ' ' +\r\n\t\t\t(now.getHours() >= 10 ? now.getHours() : '0' + now.getHours()) + ':' +\r\n\t\t\t(now.getMinutes() >= 10 ? now.getMinutes() : '0' + now.getMinutes()) + ':' +\r\n\t\t\t(now.getSeconds() >= 10 ? now.getSeconds() : '0' + now.getSeconds());\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.DataCheck {\r\n\t\twidth: 96%;\r\n\t\theight: 96%;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder: black;\r\n\t}\r\n\r\n\t.location {\r\n\t\tbackground-color: #ffffff;\r\n\t\tfont-size: 12px;\r\n\t\t/* height: 35px; */\n\t\tmargin-bottom: -20px;\r\n\t}\r\n\r\n\t.leftbox {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 500px;\r\n\t\theight: 40px;\r\n\t}\r\n\r\n\t.rightbox {\r\n\t\tdisplay: inline-block;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tmargin: auto 0;\r\n\t}\r\n\r\n\t.boxhead {\r\n\t\theight: 50px;\r\n\t\twidth: auto;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tborder-top: #E0E0E0 solid 1px;\r\n\t\tborder-bottom: #E0E0E0 solid 1px;\r\n\t}\r\n\r\n\r\n\t.Timebox {\r\n\t\theight: 50px;\r\n\t\tline-height: 50px;\n\t\tpadding-left: 20px;\r\n\t\tborder-bottom: #E0E0E0 solid 1px;\n\t\t/* width: 100px; */\r\n\t\tborder-left: #E0E0E0 solid 1px;\r\n\t}\r\n\r\n\t.rightbtn {\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t.span-size {\r\n\t\tborder: #000000 solid 1px;\r\n\t\tbackground-color: #E0E0E0;\r\n\t\tpadding: 4px 10px;\r\n\t}\r\n\r\n</style>\n"]}]}
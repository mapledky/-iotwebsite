{"remainingRequest":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shuaisujun/Desktop/IOT/src/views/MainViews/DigitalMirror/AddProduction.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/shuaisujun/Desktop/IOT/src/views/MainViews/DigitalMirror/AddProduction.vue","mtime":1634093082085},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnCnR5cGUgdGFibGVEYXRhVHlwZSA9IHsKCW5hbWU6IHN0cmluZywKCXNob3dOYW1lOiBzdHJpbmcsCgl0eXBlOiBzdHJpbmcsCglkZWZhdWx0OiBzdHJpbmcsCgl1bml0OiBzdHJpbmcsCn0KZXhwb3J0IGRlZmF1bHQgewoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlpc1NlbGVjdEZpbGU6IGZhbHNlLAoJCQlpbWdVcmw6IFtdLAoJCQlpbWdEYXRhOiBbXSwKCQkJaGVpZ2h0OiAwLAoJCQlhZGRNb2RlOiBmYWxzZSwKCQkJdXBOdW1iZXIgOiAwLAoJCQlmb3JtOiB7CgkJCQlwcm9kdWN0X25hbWU6ICcnLAoJCQkJcHJvZHVjdF9kZXM6ICcnLAoJCQkJaW1hZ2VzOiBbXSwKCQkJCWRhdGFfZm9ybWF0OiBbXSwKCQkJCWNvbXBhbnlfaWQ6IG51bGwsCgkJCQl1c2VyX2lkOiBDb29raWVzLmdldCgidXNlcl9pZCIpLAoJCQkJdG9rZW46IENvb2tpZXMuZ2V0KCJ0b2tlbiIpCgkJCX0sCgkJCXRhYmxlRGF0YTogWwoKCQkJXSwKCQkJYWRkVGFibGU6IHsKCQkJCW5hbWU6ICcnLAoJCQkJLy8gc2hvd05hbWU6ICcnLAoJCQkJLy8gdHlwZTogJycsCgkJCQlkZWZhdWx0OiAnJywKCQkJCXVuaXQ6ICcnCgkJCX0KCQl9Cgl9LAoJbW91bnRlZCgpIHsKCQkvLyBjb25zb2xlLmxvZyh0aGlzLmhlaWdodCkKCQkvLyB0aGlzLiRyZWZzLnNjcm9sbC5zdHlsZS5oZWlnaHQgPSBgJHtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LTIzMH1gICsgInB4IgoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5mb3JtLmNvbXBhbnlfaWQgPSB0aGlzLmNvbXBhbnlJRAoJCWNvbnNvbGUubG9nKHRoaXMuY29tcGFueUlEKQoJfSwKCW1ldGhvZHM6IHsKCQkvLyB1cEltYWdlKCkgewoKCQkvLyAJZm9yICh2YXIgbnVtYmVyIGluIHRoaXMuaW1nRGF0YSkgewoJCS8vIAkJbGV0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKCQkvLyAJCWNvbnNvbGUubG9nKCLkuIrkvKAiKQoJCS8vIAkJZm9ybS5hcHBlbmQoJ25hbWUnLCAnZmlsZScpOwoJCS8vIAkJZm9ybS5hcHBlbmQoJ2ltYWdlbmFtZScsICdqaWVsdW4nKTsKCQkvLyAJCWZvcm0uYXBwZW5kKCdmaWxlJywgdGhpcy5pbWdEYXRhWzBdKTsKCQkvLyAJCXRoaXMuJGF4aW9zLnBvc3QoJ2h0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9JT1RwbGF0Zm9ybS91cGxvYWQvcGljdHVyZS5odG0nLCBmb3JtLCB7CgkJLy8gCQkJCWhlYWRlcnM6IHsKCQkvLyAJCQkJCSdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKCQkvLyAJCQkJfQoJCS8vIAkJCX0KCgkJLy8gCQkpLnRoZW4ocmVzcG9uc2UgPT4gewoJCS8vIAkJCWNvbnNvbGUubG9nKHJlc3BvbnNlKQoJCS8vIAkJCWFsZXJ0KCfkuIrkvKDlm77niYfmiJDlip8hJyk7CgoJCS8vIAkJfSkuY2F0Y2goZXJyb3IgPT4gewoJCS8vIAkJCWFsZXJ0KCfkuIrkvKDlm77niYflh7rplJkhJyk7CgkJLy8gCQl9KQoJCS8vIAl9CgoJCS8vIAkvLyBjb25zb2xlLmxvZyhmb3JtKQoJCS8vIH0sCgkJb3BlbkltZygpIHsKCQkJdGhpcy4kcmVmcy5pbnB1dC5jbGljaygpOwoJCX0sCgkJdGlyZ2dlckZpbGU6IGZ1bmN0aW9uKGV2ZW50KSB7CgkJCWxldCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwoJCQlpZihmaWxlLnR5cGUgIT09ICJpbWFnZS9qcGVnIiAmJiBmaWxlLnR5cGUgIT09ICJpbWFnZS9wbmciICYmIGZpbGUudHlwZSAhPT0gImltYWdlL2pwZyIpewoJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJbWVzc2FnZTogJ+ivt+mAieaLqeWQiOmAgueahOaWh+S7tuexu+WeiycsCgkJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCQl9KTsKCQkJfWVsc2V7CgkJCQl0aGlzLmltZ0RhdGEucHVzaChmaWxlKQoJCQkJbGV0IHVybCA9ICIiOwoJCQkJdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgkJCQlyZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKCQkJCWxldCB0aGF0ID0gdGhpczsKCQkJCXJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7CgkJCQkJLy8gdXJsID0gdGhpcy5yZXN1bHQuc3Vic3RyaW5nKHRoaXMucmVzdWx0LmluZGV4T2YoIiwiKSArIDEpOwoJCQkJCXZhciBjdXJyZW50aW1nVXJsID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiICsgdXJsOwoJCQkJCXRoYXQuaW1nVXJsLnB1c2goY3VycmVudGltZ1VybCkKCQkJCQljb25zb2xlLmxvZyh0aGF0LmltZ0RhdGEpCgkJCQkJLy8gdGhhdC4kcmVmc1snaW1naW1nJ10uc2V0QXR0cmlidXRlKCdzcmMnLCdkYXRhOmltYWdlL3BuZztiYXNlNjQsJyt1cmwpOwoJCQkJfTsKCQkJfQoJCQkKCQl9LAoJCQoJCWRlbGV0ZUltYWdlKGluZGV4LCByb3dzKSB7CgkJCXJvd3Muc3BsaWNlKGluZGV4LCAxKTsKCQkJdGhpcy5pbWdEYXRhLnNwbGljZShpbmRleCwgMSk7CgkJfSwKCQlkZWxldGVSb3coaW5kZXgsIHJvd3MpIHsKCQkJcm93cy5zcGxpY2UoaW5kZXgsIDEpOwoJCX0sCgkJYWRkSXRlbSgpIHsKCQkJaWYgKCF0aGlzLmFkZE1vZGUpIHsKCQkJCXRoaXMuYWRkTW9kZSA9IHRydWUKCQkJfSBlbHNlIHsKCQkJCS8vIGNvbnNvbGUubG9nKHRoaXMuYWRkVGFibGUpCgkJCQl2YXIgYSA9IHRoaXMuYWRkVGFibGUKCQkJCXZhciB1cGRhdGUgPSB0cnVlCgkJCQlpZiAoYS5uYW1lID09PSAnJyB8fCBhLmRlZmF1bHQgPT09ICcnIHx8IGEudW5pdCA9PT0gJycpCgkJCQkJdXBkYXRlID0gZmFsc2UKCgkJCQlpZiAodXBkYXRlKSB7CgkJCQkJbGV0IHVwZGF0YTogdGFibGVEYXRhVHlwZSA9IHsKCQkJCQkJbmFtZTogJycsCgkJCQkJCXNob3dOYW1lOiAnJywKCQkJCQkJdHlwZTogJycsCgkJCQkJCWRlZmF1bHQ6ICcnLAoJCQkJCQl1bml0OiAnJwoJCQkJCX0KCQkJCQkvLyBsZXQgdXBkYXRhIDp0YWJsZURhdGEgPSB0aGlzLmFkZFRhYmxlCgkJCQkJdXBkYXRhLnNob3dOYW1lID0gdGhpcy5hZGRUYWJsZS5zaG93TmFtZQoJCQkJCXVwZGF0YS5uYW1lID0gdGhpcy5hZGRUYWJsZS5uYW1lCgkJCQkJdXBkYXRhLnR5cGUgPSB0aGlzLmFkZFRhYmxlLnR5cGUKCQkJCQl1cGRhdGEudW5pdCA9IHRoaXMuYWRkVGFibGUudW5pdAoJCQkJCXVwZGF0YS5kZWZhdWx0ID0gdGhpcy5hZGRUYWJsZS5kZWZhdWx0CgkJCQkJdGhpcy50YWJsZURhdGEucHVzaCh1cGRhdGEpCgkJCQkJY29uc29sZS5sb2codXBkYXRhKQoJCQkJCXRoaXMuYWRkVGFibGUubmFtZSA9ICcnCgkJCQkJdGhpcy5hZGRUYWJsZS5zaG93TmFtZSA9ICcnCgkJCQkJdGhpcy5hZGRUYWJsZS50eXBlID0gJycKCQkJCQl0aGlzLmFkZFRhYmxlLmRlZmF1bHQgPSAnJwoJCQkJCXRoaXMuYWRkVGFibGUudW5pdCA9ICcnCgkJCQkJdGhpcy5hZGRNb2RlID0gZmFsc2UKCQkJCX0gZWxzZSB7CgkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCW1lc3NhZ2U6ICflsZ7mgKfmnKrloavlhpnlrozmiJAnLAoJCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCQl9KTsKCQkJCQkvLyBjb25zb2xlLmxvZygi5pyq5aGr5YaZ5a6M5q+VIikKCQkJCX0KCgkJCX0KCgkJfSwKCQl1cGxvYWQoKSB7CgkJCXZhciBhID0gdGhpcy5mb3JtCgkJCWEuZGF0YV9mb3JtYXQgPSB0aGlzLnRhYmxlRGF0YQoJCQlpZiAoYS5kYXRhX2Zvcm1hdC5sZW5ndGggPT09IDAgfHwgYS5wcm9kdWN0X25hbWUgPT09ICcnIHx8IGEucHJvZHVjdF9kZXMgPT09ICcnKSB7CgkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQltZXNzYWdlOiAn5peg5rOV5LiK5LygJywKCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCX0pOwoJCQkKCQkJfSBlbHNlIHsKCQkJCS8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybSkKCQkJCWxldCBjb25maWcgPSB7CgkJCQkJaGVhZGVyczogewoJCQkJCQknQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCgkJCQkJfQoJCQkJfQoJCQkJdmFyIHVwT25lSW1hZ2UgPSBmYWxzZQoJCQkJdmFyIGltYWdlTnVtYmVyID0gMAoJCQkJY29uc29sZS5sb2coIuaciSIgKyB0aGlzLmltZ0RhdGEubGVuZ3RoICsgIuWbvueJhyIpCgkJCQlmb3IgKHZhciBudW1iZXIgaW4gdGhpcy5pbWdEYXRhKSB7CgkJCQkJbGV0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKCQkJCQkvLyBjb25zb2xlLmxvZygi5LiK5LygIikKCQkJCQl2YXIgdGltZVN0cmluZyA9IFN0cmluZyhuZXcgRGF0ZSgpLnZhbHVlT2YoKSkgKyBDb29raWVzLmdldCgidXNlcl9pZCIpICsgU3RyaW5nKG51bWJlcikKCQkJCQl2YXIgdGhhdCA9IHRoaXMKCQkJCQljb25zb2xlLmxvZyh0aW1lU3RyaW5nKQoJCQkJCWZvcm0uYXBwZW5kKCduYW1lJywgJ2ZpbGUnKTsKCQkJCQlmb3JtLmFwcGVuZCgnaW1hZ2VuYW1lJywgdGltZVN0cmluZyk7CgkJCQkJZm9ybS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmltZ0RhdGFbbnVtYmVyXSk7CgkJCQkJdmFyIGZ1bGxTdHJpbmcgPSAgJ2h0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9pb3RwbGF0LycrIHRpbWVTdHJpbmcKCQkJCQl0aGlzLmZvcm0uaW1hZ2VzLnB1c2goZnVsbFN0cmluZykKCQkJCQl0aGlzLiRheGlvcy5wb3N0KCdodHRwczovL3NpdGUubWFwbGUudG9kYXkvSU9UcGxhdGZvcm0vdXBsb2FkL3BpY3R1cmUuaHRtJywgZm9ybSwgewoJCQkJCQkJaGVhZGVyczogewoJCQkJCQkJCSdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKCQkJCQkJCX0KCQkJCQkJfQoKCQkJCQkpLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJCQkvLyBjb25zb2xlLmxvZyhyZXNwb25zZSkKCQkJCQkJLy8gYWxlcnQoJ+S4iuS8oOWbvueJh+aIkOWKnyEnKTsKCQkJCQkJCgkJCQkJCXRoYXQudXBOdW1iZXIgPSB0aGF0LnVwTnVtYmVyICsgMQoJCQkJCQkvLyBjb25zb2xlLmxvZyh0aGF0LmZvcm0uaW1hZ2VzKQoJCQkJCX0pLmNhdGNoKGVycm9yID0+IHsKCQkJCQkJLy8gYWxlcnQoJ+S4iuS8oOWbvueJh+WHuumUmSEnKTsKCQkJCQl9KQoJCQkJfQoJCQkJCgkJCX0KCQl9Cgl9LAoJcHJvcHM6IFsnY29tcGFueUlEJ10sCgl3YXRjaDp7CgkJdXBOdW1iZXIgOiBmdW5jdGlvbih2YWwsb2xkdmFsKXsKCQkJaWYodGhpcy51cE51bWJlciA9PT0gdGhpcy5pbWdEYXRhLmxlbmd0aCl7CgkJCQljb25zb2xlLmxvZygi5Zu+54mH5LiK5Lyg5a6M5q+VIikKCQkJCXZhciB0aGF0ID0gdGhpcwoJCQkJdmFyIGRhdGFKc29uID0gSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtLmRhdGFfZm9ybWF0KQoJCQkJY29uc29sZS5sb2coZGF0YUpzb24pCgkJCQl2YXIgaW1hZ2VKc29uID0gSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtLmltYWdlcykKCQkJCWNvbnNvbGUubG9nKGltYWdlSnNvbikKCQkJCXRoaXMuJGF4aW9zLmdldCgnaHR0cHM6Ly9zaXRlLm1hcGxlLnRvZGF5L0lPVHBsYXRmb3JtL1NlcnZlck1haW4nLCB7CgkJCQkJCXBhcmFtczogewoJCQkJCQkJcmVxdWVzdENvZGU6ICcwMDQnLAoJCQkJCQkJdXNlcl9pZDogdGhhdC5mb3JtLnVzZXJfaWQsCgkJCQkJCQl0b2tlbjogdGhhdC5mb3JtLnRva2VuLAoJCQkJCQkJY29tcGFueV9pZDogdGhhdC5mb3JtLmNvbXBhbnlfaWQsCgkJCQkJCQlwcm9kdWN0X25hbWU6IHRoYXQuZm9ybS5wcm9kdWN0X25hbWUsCgkJCQkJCQlwcm9kdWN0X2RlczogdGhhdC5mb3JtLnByb2R1Y3RfZGVzLAoJCQkJCQkJaW1hZ2VzOiBpbWFnZUpzb24sCgkJCQkJCQlkYXRhX2Zvcm1hdDogZGF0YUpzb24sCgkJCQkJCX0sCgkJCQkKCQkJCQkJLy8gcGFyYW1zIDogdGhhdC5mb3JtCgkJCQkJfSkKCQkJCQkudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZSkKCQkJCQkJaWYgKHJlc3BvbnNlLmRhdGEgIT09IHVuZGVmaW5lZCkgewoJCQkJCQkJdGhhdC4kbWVzc2FnZSh7CgkJCQkJCQkJbWVzc2FnZTogJ+S4iuS8oOaIkOWKnycsCgkJCQkJCQkJdHlwZTogJ3N1Y2Nlc3MnCgkJCQkJCQl9KTsKCQkJCQkJCXRoYXQuJHJvdXRlci5wdXNoKHtuYW1lIDoiUHJvZHVjdGlvbk1hbmFnZSJ9KQoJCQkJCQl9IGVsc2UgewoJCQkJCQkJdGhhdC4kbWVzc2FnZSh7CgkJCQkJCQkJbWVzc2FnZTogJ+S4iuS8oOWksei0pScsCgkJCQkJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCX0pCgkJCQkJLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CgkJCQkJCWNvbnNvbGUubG9nKGVycm9yKQoJCQkJCX0pCgkJCX0KCQl9Cgl9Cgp9Cg=="},{"version":3,"sources":["AddProduction.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"AddProduction.vue","sourceRoot":"src/views/MainViews/DigitalMirror","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 4%;\">\r\n\t\t\t<el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>数字镜像</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item :to=\"{name:'ProductionManage'}\">产品管理</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>添加产品</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\r\n\t\t<div class=\"addProduction\">\r\n\t\t\t<el-divider content-position=\"right\">添加产品</el-divider>\r\n\t\t\t<div style=\"width: 100%;height: 80%;\" ref=\"scroll\">\r\n\t\t\t\t<el-scrollbar style=\"height: 100%; width: 100%;\">\r\n\t\t\t\t\t<div class=\"form\">\r\n\t\t\t\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品名称\">\r\n\t\t\t\t\t\t\t\t<el-input v-model=\"form.product_name\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品图片\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"openImg\">选择</el-button>\r\n\t\t\t\t\t\t\t\t<!-- <el-button type=\"primary\">上传</el-button> -->\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<input v-show=\"false\" type=\"file\" accept=\"image/*\" @change=\"tirggerFile($event)\"\r\n\t\t\t\t\t\t\t\t\t\tref=\"input\" />\r\n\t\t\t\t\t\t\t\t\t<div class=\"images\">\r\n\t\t\t\t\t\t\t\t\t\t<div style=\"width:200px;height:200px;text-align:center;margin-right: 10px;\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in imgUrl\" :key=index>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <span v-if=\"imgUrl==''\"></span> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" circle\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"position: absolute;\" @click=\"deleteImage(index,imgUrl)\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <img style=\"height:100%;width:100%;\" v-if=\"item!=''\" :src=\"item\" /> -->\n\t\t\t\t\t\t\t\t\t\t\t<el-image style=\"height:100%;width:100%; z-index: -1;\" :src=\"item\" fit=\"cover\"> </el-image>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品描述\">\r\n\t\t\t\t\t\t\t\t<el-input v-model=\"form.product_des\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品属性\">\r\n\t\t\t\t\t\t\t\t<div class=\"table\">\r\n\t\t\t\t\t\t\t\t\t<el-table :data=\"this.tableData\" style=\"width: 100%\" max-height=\"250\">\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"name\" label=\"属性名称\" width=\"150\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <el-table-column prop=\"showName\" label=\"显示名称\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column> -->\r\n\t\t\t\t\t\t\t\t\t\t<!-- <el-table-column prop=\"type\" label=\"数据类型\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column> -->\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"default\" label=\"默认值\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"unit\" label=\"单位\" width=\"300\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column label=\"操作\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-button @click.native.prevent=\"deleteRow(scope.$index,tableData)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\" size=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t移除\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"添加属性\" v-if=\"addMode\" style=\"width: 50%; z-index: 999;\">\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"属性名称\" v-model=\"addTable.name\"></el-input>\r\n\t\t\t\t\t\t\t\t<!-- <el-input placeholder=\"仪器型号\" v-model=\"addTable.showName\"></el-input>\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"数据类型\" v-model=\"addTable.type\"></el-input> -->\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"默认值\" v-model=\"addTable.default\"></el-input>\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"单位\" v-model=\"addTable.unit\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t<el-button type=\"primary\" style=\"width: 100px;\" v-on:click=\"addItem()\" v-if=\"!addMode\">添加属性\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" style=\"width: 70px;\" v-on:click=\"addItem()\" v-if=\"addMode\">确定\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</el-scrollbar>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle=\"display: flex;flex-direction: row-reverse;padding-right: 10px;height: 10%;padding-bottom: 10px;\">\r\n\t\t\t\t<el-button type=\"success\" v-on:click=\"upload()\">上传</el-button>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script lang=\"ts\">\r\n\timport Cookies from 'js-cookie'\r\n\ttype tableDataType = {\r\n\t\tname: string,\r\n\t\tshowName: string,\r\n\t\ttype: string,\r\n\t\tdefault: string,\r\n\t\tunit: string,\r\n\t}\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisSelectFile: false,\r\n\t\t\t\timgUrl: [],\r\n\t\t\t\timgData: [],\r\n\t\t\t\theight: 0,\r\n\t\t\t\taddMode: false,\n\t\t\t\tupNumber : 0,\r\n\t\t\t\tform: {\r\n\t\t\t\t\tproduct_name: '',\r\n\t\t\t\t\tproduct_des: '',\r\n\t\t\t\t\timages: [],\r\n\t\t\t\t\tdata_format: [],\r\n\t\t\t\t\tcompany_id: null,\r\n\t\t\t\t\tuser_id: Cookies.get(\"user_id\"),\r\n\t\t\t\t\ttoken: Cookies.get(\"token\")\r\n\t\t\t\t},\r\n\t\t\t\ttableData: [\r\n\r\n\t\t\t\t],\r\n\t\t\t\taddTable: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\t// showName: '',\r\n\t\t\t\t\t// type: '',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t\tunit: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// console.log(this.height)\r\n\t\t\t// this.$refs.scroll.style.height = `${document.documentElement.clientHeight-230}` + \"px\"\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.form.company_id = this.companyID\r\n\t\t\tconsole.log(this.companyID)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// upImage() {\r\n\r\n\t\t\t// \tfor (var number in this.imgData) {\r\n\t\t\t// \t\tlet form = new FormData();\r\n\t\t\t// \t\tconsole.log(\"上传\")\r\n\t\t\t// \t\tform.append('name', 'file');\r\n\t\t\t// \t\tform.append('imagename', 'jielun');\r\n\t\t\t// \t\tform.append('file', this.imgData[0]);\r\n\t\t\t// \t\tthis.$axios.post('https://site.maple.today/IOTplatform/upload/picture.htm', form, {\r\n\t\t\t// \t\t\t\theaders: {\r\n\t\t\t// \t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t// \t\t\t\t}\r\n\t\t\t// \t\t\t}\r\n\r\n\t\t\t// \t\t).then(response => {\r\n\t\t\t// \t\t\tconsole.log(response)\r\n\t\t\t// \t\t\talert('上传图片成功!');\r\n\r\n\t\t\t// \t\t}).catch(error => {\r\n\t\t\t// \t\t\talert('上传图片出错!');\r\n\t\t\t// \t\t})\r\n\t\t\t// \t}\r\n\r\n\t\t\t// \t// console.log(form)\r\n\t\t\t// },\r\n\t\t\topenImg() {\r\n\t\t\t\tthis.$refs.input.click();\r\n\t\t\t},\r\n\t\t\ttirggerFile: function(event) {\r\n\t\t\t\tlet file = event.target.files[0];\n\t\t\t\tif(file.type !== \"image/jpeg\" && file.type !== \"image/png\" && file.type !== \"image/jpg\"){\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '请选择合适的文件类型',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tthis.imgData.push(file)\n\t\t\t\t\tlet url = \"\";\n\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\tlet that = this;\n\t\t\t\t\treader.onload = function(e) {\n\t\t\t\t\t\t// url = this.result.substring(this.result.indexOf(\",\") + 1);\n\t\t\t\t\t\tvar currentimgUrl = \"data:image/png;base64,\" + url;\n\t\t\t\t\t\tthat.imgUrl.push(currentimgUrl)\n\t\t\t\t\t\tconsole.log(that.imgData)\n\t\t\t\t\t\t// that.$refs['imgimg'].setAttribute('src','data:image/png;base64,'+url);\n\t\t\t\t\t};\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tdeleteImage(index, rows) {\r\n\t\t\t\trows.splice(index, 1);\r\n\t\t\t\tthis.imgData.splice(index, 1);\r\n\t\t\t},\n\t\t\tdeleteRow(index, rows) {\n\t\t\t\trows.splice(index, 1);\n\t\t\t},\r\n\t\t\taddItem() {\r\n\t\t\t\tif (!this.addMode) {\r\n\t\t\t\t\tthis.addMode = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log(this.addTable)\r\n\t\t\t\t\tvar a = this.addTable\r\n\t\t\t\t\tvar update = true\r\n\t\t\t\t\tif (a.name === '' || a.default === '' || a.unit === '')\r\n\t\t\t\t\t\tupdate = false\r\n\r\n\t\t\t\t\tif (update) {\r\n\t\t\t\t\t\tlet updata: tableDataType = {\r\n\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\tshowName: '',\r\n\t\t\t\t\t\t\ttype: '',\r\n\t\t\t\t\t\t\tdefault: '',\r\n\t\t\t\t\t\t\tunit: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// let updata :tableData = this.addTable\r\n\t\t\t\t\t\tupdata.showName = this.addTable.showName\r\n\t\t\t\t\t\tupdata.name = this.addTable.name\r\n\t\t\t\t\t\tupdata.type = this.addTable.type\r\n\t\t\t\t\t\tupdata.unit = this.addTable.unit\r\n\t\t\t\t\t\tupdata.default = this.addTable.default\r\n\t\t\t\t\t\tthis.tableData.push(updata)\r\n\t\t\t\t\t\tconsole.log(updata)\r\n\t\t\t\t\t\tthis.addTable.name = ''\r\n\t\t\t\t\t\tthis.addTable.showName = ''\r\n\t\t\t\t\t\tthis.addTable.type = ''\r\n\t\t\t\t\t\tthis.addTable.default = ''\r\n\t\t\t\t\t\tthis.addTable.unit = ''\r\n\t\t\t\t\t\tthis.addMode = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '属性未填写完成',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log(\"未填写完毕\")\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tupload() {\r\n\t\t\t\tvar a = this.form\r\n\t\t\t\ta.data_format = this.tableData\r\n\t\t\t\tif (a.data_format.length === 0 || a.product_name === '' || a.product_des === '') {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '无法上传',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log(this.form)\r\n\t\t\t\t\tlet config = {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\n\t\t\t\t\tvar upOneImage = false\r\n\t\t\t\t\tvar imageNumber = 0\r\n\t\t\t\t\tconsole.log(\"有\" + this.imgData.length + \"图片\")\r\n\t\t\t\t\tfor (var number in this.imgData) {\r\n\t\t\t\t\t\tlet form = new FormData();\r\n\t\t\t\t\t\t// console.log(\"上传\")\r\n\t\t\t\t\t\tvar timeString = String(new Date().valueOf()) + Cookies.get(\"user_id\") + String(number)\r\n\t\t\t\t\t\tvar that = this\r\n\t\t\t\t\t\tconsole.log(timeString)\r\n\t\t\t\t\t\tform.append('name', 'file');\r\n\t\t\t\t\t\tform.append('imagename', timeString);\r\n\t\t\t\t\t\tform.append('file', this.imgData[number]);\n\t\t\t\t\t\tvar fullString =  'https://site.maple.today/iotplat/'+ timeString\n\t\t\t\t\t\tthis.form.images.push(fullString)\r\n\t\t\t\t\t\tthis.$axios.post('https://site.maple.today/IOTplatform/upload/picture.htm', form, {\r\n\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t).then(response => {\r\n\t\t\t\t\t\t\t// console.log(response)\r\n\t\t\t\t\t\t\t// alert('上传图片成功!');\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthat.upNumber = that.upNumber + 1\n\t\t\t\t\t\t\t// console.log(that.form.images)\r\n\t\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\t\t// alert('上传图片出错!');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: ['companyID'],\n\t\twatch:{\n\t\t\tupNumber : function(val,oldval){\n\t\t\t\tif(this.upNumber === this.imgData.length){\n\t\t\t\t\tconsole.log(\"图片上传完毕\")\n\t\t\t\t\tvar that = this\n\t\t\t\t\tvar dataJson = JSON.stringify(this.form.data_format)\n\t\t\t\t\tconsole.log(dataJson)\n\t\t\t\t\tvar imageJson = JSON.stringify(this.form.images)\n\t\t\t\t\tconsole.log(imageJson)\n\t\t\t\t\tthis.$axios.get('https://site.maple.today/IOTplatform/ServerMain', {\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\trequestCode: '004',\n\t\t\t\t\t\t\t\tuser_id: that.form.user_id,\n\t\t\t\t\t\t\t\ttoken: that.form.token,\n\t\t\t\t\t\t\t\tcompany_id: that.form.company_id,\n\t\t\t\t\t\t\t\tproduct_name: that.form.product_name,\n\t\t\t\t\t\t\t\tproduct_des: that.form.product_des,\n\t\t\t\t\t\t\t\timages: imageJson,\n\t\t\t\t\t\t\t\tdata_format: dataJson,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t\t\t// params : that.form\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tconsole.log(response)\n\t\t\t\t\t\t\tif (response.data !== undefined) {\n\t\t\t\t\t\t\t\tthat.$message({\n\t\t\t\t\t\t\t\t\tmessage: '上传成功',\n\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthat.$router.push({name :\"ProductionManage\"})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.$message({\n\t\t\t\t\t\t\t\t\tmessage: '上传失败',\n\t\t\t\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.addProduction {\r\n\t\twidth: 100%;\r\n\t\theight: 96%;\r\n\t\t/* background-color: aliceblue; */\r\n\t}\r\n\r\n\t.form {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t/* align-items: center; */\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\r\n\t.table {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.images {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tel-scrollbar. el-scrollbar_wrap {\r\n\t\toverflow-x: hidden;\r\n\t}\r\n</style>\n"]}]}
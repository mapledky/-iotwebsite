{"remainingRequest":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shuaisujun/Desktop/IOT/src/views/MainViews/DigitalMirror/FixProduction.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/shuaisujun/Desktop/IOT/src/views/MainViews/DigitalMirror/FixProduction.vue","mtime":1634114678611},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZScKdHlwZSB0YWJsZURhdGFUeXBlID0gewoJbmFtZTogc3RyaW5nLAoJc2hvd05hbWU6IHN0cmluZywKCXR5cGU6IHN0cmluZywKCWRlZmF1bHQ6IHN0cmluZywKCXVuaXQ6IHN0cmluZywKfQpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCkgewoJCXJldHVybiB7CgkJCWlzVXAgOiBmYWxzZSwKCQkJdXBOdW1iZXIgOjAsCgkJCWhlaWdodDogMCwKCQkJYWRkTW9kZTogZmFsc2UsCgkJCWltZ0RhdGEgOiBbXSwKCQkJaW1nVXJsIDogW10sCgkJCS8vIGZvcm06IHsKCQkJLy8gCXByb2R1Y3RfbmFtZTogJycsCgkJCS8vIAlwcm9kdWN0X2RlczogJycsCgkJCS8vIAlpbWFnZXM6IFtdLAoJCQkvLyAJZGF0YV9mb3JtYXQ6IFtdLAoJCQkvLyAJY29tcGFueV9pZDogbnVsbCwKCQkJLy8gCXVzZXJfaWQgOiBDb29raWVzLmdldCgidXNlcl9pZCIpLAoJCQkvLyAJdG9rZW4gOiBDb29raWVzLmdldCgidG9rZW4iKQoJCQkvLyB9LAoJCQl0YWJsZURhdGE6IFsKCgkJCV0sCgkJCWFkZFRhYmxlOiB7CgkJCQluYW1lOiAnJywKCQkJCS8vIHNob3dOYW1lOiAnJywKCQkJCS8vIHR5cGU6ICcnLAoJCQkJZGVmYXVsdDogJycsCgkJCQl1bml0OiAnJwoJCQl9CgkJfQoJfSwKCW1vdW50ZWQoKSB7CgkJLy8gY29uc29sZS5sb2codGhpcy5oZWlnaHQpCgkJLy8gdGhpcy4kcmVmcy5zY3JvbGwuc3R5bGUuaGVpZ2h0ID0gYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodC0yMzB9YCArICJweCIKCX0sCgljcmVhdGVkKCkgewoJCS8vIHRoaXMuZm9ybS5jb21wYW55X2lkID0gdGhpcy5jb21wYW55SUQKCQljb25zb2xlLmxvZyh0aGlzLmNvbXBhbnlJRCkKCQljb25zb2xlLmxvZyh0aGlzLmZvcm0pCgkJdGhpcy50YWJsZURhdGEgPSB0aGlzLmZvcm0uZGF0YV9mb3JtYXQKCX0sCgltZXRob2RzOiB7CgkJb3BlbkltZygpIHsKCQkJdGhpcy4kcmVmcy5pbnB1dC5jbGljaygpOwoJCX0sCgkJdGlyZ2dlckZpbGU6IGZ1bmN0aW9uKGV2ZW50KSB7CgkJCWxldCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwoJCQlpZihmaWxlLnR5cGUgIT09ICJpbWFnZS9qcGVnIiAmJiBmaWxlLnR5cGUgIT09ICJpbWFnZS9wbmciICYmIGZpbGUudHlwZSAhPT0gImltYWdlL2pwZyIpewoJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJbWVzc2FnZTogJ+ivt+mAieaLqeWQiOmAgueahOaWh+S7tuexu+WeiycsCgkJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCQl9KTsKCQkJfWVsc2V7CgkJCQl0aGlzLmltZ0RhdGEucHVzaChmaWxlKQoJCQkJbGV0IHVybCA9ICIiOwoJCQkJdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgkJCQlyZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKCQkJCWxldCB0aGF0ID0gdGhpczsKCQkJCXJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7CgkJCQkJLy8gdXJsID0gdGhpcy5yZXN1bHQuc3Vic3RyaW5nKHRoaXMucmVzdWx0LmluZGV4T2YoIiwiKSArIDEpOwoJCQkJCS8vIHZhciBjdXJyZW50aW1nVXJsID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiICsgdXJsOwoJCQkJCXZhciBjdXJyZW50aW1nVXJsID0gZS50YXJnZXQucmVzdWx0CgkJCQkJdGhhdC5pbWdVcmwucHVzaChjdXJyZW50aW1nVXJsKQoJCQkJCWNvbnNvbGUubG9nKHRoYXQuaW1nRGF0YSkKCQkJCQkvLyB0aGF0LiRyZWZzWydpbWdpbWcnXS5zZXRBdHRyaWJ1dGUoJ3NyYycsJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnK3VybCk7CgkJCQl9OwoJCQl9CgkJCQoJCX0sCgkJZGVsZXRlRm9yZUltYWdlKGluZGV4LCByb3dzKSB7CgkJCXJvd3Muc3BsaWNlKGluZGV4LCAxKTsKCQkJLy8gdGhpcy5pbWdEYXRhLnNwbGljZShpbmRleCwgMSk7CgkJfSwKCQlkZWxldGVJbWFnZShpbmRleCwgcm93cykgewoJCQlyb3dzLnNwbGljZShpbmRleCwgMSk7CgkJCXRoaXMuaW1nRGF0YS5zcGxpY2UoaW5kZXgsIDEpOwoJCX0sCgkJZGVsZXRlUm93KGluZGV4LCByb3dzKSB7CgkJCXJvd3Muc3BsaWNlKGluZGV4LCAxKTsKCQl9LAoJCWFkZEl0ZW0oKSB7CgkJCWlmICghdGhpcy5hZGRNb2RlKSB7CgkJCQl0aGlzLmFkZE1vZGUgPSB0cnVlCgkJCX0gZWxzZSB7CgkJCQkvLyBjb25zb2xlLmxvZyh0aGlzLmFkZFRhYmxlKQoJCQkJdmFyIGEgPSB0aGlzLmFkZFRhYmxlCgkJCQl2YXIgdXBkYXRlID0gdHJ1ZQoJCQkJaWYgKGEubmFtZSA9PT0gJycgfHwgYS5kZWZhdWx0ID09PSAnJyB8fCBhLnVuaXQgPT09ICcnKQoJCQkJCXVwZGF0ZSA9IGZhbHNlCgoJCQkJaWYgKHVwZGF0ZSkgewoJCQkJCWxldCB1cGRhdGE6IHRhYmxlRGF0YVR5cGUgPSB7CgkJCQkJCW5hbWU6ICcnLAoJCQkJCQlzaG93TmFtZTogJycsCgkJCQkJCXR5cGU6ICcnLAoJCQkJCQlkZWZhdWx0OiAnJywKCQkJCQkJdW5pdDogJycKCQkJCQl9CgkJCQkJLy8gbGV0IHVwZGF0YSA6dGFibGVEYXRhID0gdGhpcy5hZGRUYWJsZQoJCQkJCXVwZGF0YS5zaG93TmFtZSA9IHRoaXMuYWRkVGFibGUuc2hvd05hbWUKCQkJCQl1cGRhdGEubmFtZSA9IHRoaXMuYWRkVGFibGUubmFtZQoJCQkJCXVwZGF0YS50eXBlID0gdGhpcy5hZGRUYWJsZS50eXBlCgkJCQkJdXBkYXRhLnVuaXQgPSB0aGlzLmFkZFRhYmxlLnVuaXQKCQkJCQl1cGRhdGEuZGVmYXVsdCA9IHRoaXMuYWRkVGFibGUuZGVmYXVsdAoJCQkJCXRoaXMudGFibGVEYXRhLnB1c2godXBkYXRhKQoJCQkJCWNvbnNvbGUubG9nKHVwZGF0YSkKCQkJCQl0aGlzLmFkZFRhYmxlLm5hbWUgPSAnJwoJCQkJCXRoaXMuYWRkVGFibGUuc2hvd05hbWUgPSAnJwoJCQkJCXRoaXMuYWRkVGFibGUudHlwZSA9ICcnCgkJCQkJdGhpcy5hZGRUYWJsZS5kZWZhdWx0ID0gJycKCQkJCQl0aGlzLmFkZFRhYmxlLnVuaXQgPSAnJwoJCQkJCXRoaXMuYWRkTW9kZSA9IGZhbHNlCgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQltZXNzYWdlOiAn5bGe5oCn5pyq5aGr5YaZ5a6M5oiQJywKCQkJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCQkJfSk7CgkJCQkJLy8gY29uc29sZS5sb2coIuacquWhq+WGmeWujOavlSIpCgkJCQl9CgoJCQl9CgoJCX0sCgkJCgkJdXBsb2FkKCkgewoJCQl2YXIgYSA9IHRoaXMuZm9ybQoJCQlhLmRhdGFfZm9ybWF0ID0gdGhpcy50YWJsZURhdGEKCQkJaWYgKGEuZGF0YV9mb3JtYXQubGVuZ3RoID09PSAwIHx8IGEucHJvZHVjdF9uYW1lID09PSAnJyB8fCBhLnByb2R1Y3RfZGVzID09PSAnJykgewoJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJbWVzc2FnZTogJ+aXoOazleS4iuS8oCcsCgkJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCQl9KTsKCQkJfSBlbHNlIHsKCQkJCWNvbnNvbGUubG9nKHRoaXMuZm9ybSkKCQkJCWxldCBjb25maWcgPSB7CgkJCQkJaGVhZGVyczogewoJCQkJCQknQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCgkJCQkJfQoJCQkJfQoJCQkJaWYodGhpcy5pbWdEYXRhLmxlbmd0aCA9PT0gMCl7CgkJCQkJY29uc29sZS5sb2coIuaXoOaWsOeFp+eJhyIpCgkJCQkJdGhpcy5pc1VwID0gdHJ1ZQoJCQkJfWVsc2V7CgkJCQkJY29uc29sZS5sb2coIuacieaWsOeFp+eJhyIpCgkJCQkJZm9yICh2YXIgbnVtYmVyIGluIHRoaXMuaW1nRGF0YSkgewoJCQkJCQlsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwoJCQkJCQkvLyBjb25zb2xlLmxvZygi5LiK5LygIikKCQkJCQkJdmFyIHRpbWVTdHJpbmcgPSBTdHJpbmcobmV3IERhdGUoKS52YWx1ZU9mKCkpICsgQ29va2llcy5nZXQoInVzZXJfaWQiKSAKCQkJCQkJdmFyIHRoYXQgPSB0aGlzCgkJCQkJCWNvbnNvbGUubG9nKHRpbWVTdHJpbmcpCgkJCQkJCWZvcm0uYXBwZW5kKCduYW1lJywgJ2ZpbGUnKTsKCQkJCQkJZm9ybS5hcHBlbmQoJ2ltYWdlbmFtZScsIHRpbWVTdHJpbmcpOwoJCQkJCQlmb3JtLmFwcGVuZCgnZmlsZScsIHRoaXMuaW1nRGF0YVtudW1iZXJdKTsKCQkJCQkJdmFyIGZ1bGxTdHJpbmcgPSAgJ2h0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9pb3RwbGF0LycrIHRpbWVTdHJpbmcKCQkJCQkJdGhpcy5mb3JtLmltYWdlcy5wdXNoKGZ1bGxTdHJpbmcpCgkJCQkJCXRoaXMuJGF4aW9zLnBvc3QoJ2h0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9JT1RwbGF0Zm9ybS91cGxvYWQvcGljdHVyZS5odG0nLCBmb3JtLCB7CgkJCQkJCQkJaGVhZGVyczogewoJCQkJCQkJCQknQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQoJCQkJCQkpLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UpCgkJCQkJCQkvLyBhbGVydCgn5LiK5Lyg5Zu+54mH5oiQ5YqfIScpOwoJCQkJCQkJdGhhdC51cE51bWJlciA9IHRoYXQudXBOdW1iZXIgKyAxCgkJCQkJCQlpZih0aGF0LnVwTnVtYmVyID09PSB0aGF0LmltZ0RhdGEubGVuZ3RoKXsKCQkJCQkJCQljb25zb2xlLmxvZygi5Zu+54mH5LiK5Lyg5a6M5q+VIikKCQkJCQkJCQl0aGlzLmlzVXAgPSB0cnVlCgkJCQkJCQl9CgkJCQkJCQkvLyBjb25zb2xlLmxvZyh0aGF0LmZvcm0uaW1hZ2VzKQoJCQkJCQl9KS5jYXRjaChlcnJvciA9PiB7CgkJCQkJCQkvLyBhbGVydCgn5LiK5Lyg5Zu+54mH5Ye66ZSZIScpOwoJCQkJCQl9KQoJCQkJCX0KCQkJCX0KCQkJCS8vIHRoaXMuJGF4aW9zLmdldCgnaHR0cHM6Ly9zaXRlLm1hcGxlLnRvZGF5L0lPVHBsYXRmb3JtL1NlcnZlck1haW4/cmVxdWVzdENvZGU9MDA0JywgZm9ybURhdGEsY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlcykgewoJCQkJLy8gCWNvbnNvbGUubG9nKHJlcykKCQkJCS8vIH0pCgkJCQkKCQkJfQoJCX0KCX0sCglwcm9wczogWydjb21wYW55SUQnLCAnZm9ybSddLAoJd2F0Y2ggOnsKCQlpc1VwIDogZnVuY3Rpb24oKXsKCQkJY29uc29sZS5sb2coIuW8gOWni+S4iuS8oCIpCgkJCXZhciBkYXRhSnNvbiA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybS5kYXRhX2Zvcm1hdCkKCQkJY29uc29sZS5sb2coZGF0YUpzb24pCgkJCXZhciBpbWFnZUpzb24gPSBKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm0uaW1hZ2VzKQoJCQljb25zb2xlLmxvZyhpbWFnZUpzb24pCgkJCXZhciB0aGF0ID0gdGhpcwoJCQl0aGlzLiRheGlvcy5nZXQoJ2h0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9JT1RwbGF0Zm9ybS9TZXJ2ZXJNYWluJywgewoJCQkJCXBhcmFtczogewoJCQkJCQlyZXF1ZXN0Q29kZTogJzAyMCcsCgkJCQkJCXVzZXJfaWQ6IENvb2tpZXMuZ2V0KCJ1c2VyX2lkIiksCgkJCQkJCXRva2VuOiBDb29raWVzLmdldCgidG9rZW4iKSwKCQkJCQkJY29tcGFueV9pZDogdGhhdC5mb3JtLmNvbXBhbnlfaWQsCgkJCQkJCXByb2R1Y3RfbmFtZTogdGhhdC5mb3JtLnByb2R1Y3RfbmFtZSwKCQkJCQkJcHJvZHVjdF9kZXM6IHRoYXQuZm9ybS5wcm9kdWN0X2RlcywKCQkJCQkJcHJvZHVjdF9pZDogdGhhdC5mb3JtLnByb2R1Y3RfaWQsCgkJCQkJCWltYWdlczogaW1hZ2VKc29uLAoJCQkJCQlkYXRhX2Zvcm1hdDogZGF0YUpzb24sCgkJCQkJfSwKCQkJCgkJCQkJLy8gcGFyYW1zIDogdGhhdC5mb3JtCgkJCQl9KQoJCQkJLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZSkKCQkJCQlpZiAocmVzcG9uc2UuZGF0YSAhPT0gdW5kZWZpbmVkKSB7CgkJCQkJCXRoYXQuJG1lc3NhZ2UoewoJCQkJCQkJbWVzc2FnZTogJ+S/ruaUueaIkOWKnycsCgkJCQkJCQl0eXBlOiAnc3VjY2VzcycKCQkJCQkJfSk7CgkJCQkJCXRoYXQuJHJvdXRlci5wdXNoKHsKCQkJCQkJCW5hbWU6ICJQcm9kdWN0aW9uTWFuYWdlIgoJCQkJCQl9KQoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoYXQuJG1lc3NhZ2UoewoJCQkJCQkJbWVzc2FnZTogJ+S4iuS8oOWksei0pScsCgkJCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCQkJfSk7CgkJCQkJfQoJCQkJfSkKCQkJCS5jYXRjaChmdW5jdGlvbihlcnJvcikgewoJCQkJCWNvbnNvbGUubG9nKGVycm9yKQoJCQkJfSkKCQkJCgkJfQoJfQoKfQo="},{"version":3,"sources":["FixProduction.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"FixProduction.vue","sourceRoot":"src/views/MainViews/DigitalMirror","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 4%;\">\r\n\t\t\t<el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>数字镜像</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item :to=\"{name:'ProductionManage'}\">产品管理</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>修改产品</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\r\n\t\t<div class=\"addProduction\">\r\n\t\t\t<el-divider content-position=\"right\">修改产品</el-divider>\r\n\t\t\t<div style=\"width: 100%;height: 80%;\" ref=\"scroll\">\r\n\t\t\t\t<el-scrollbar style=\"height: 100%; width: 100%;\">\r\n\t\t\t\t\t<div class=\"form\">\r\n\t\t\t\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品名称\">\r\n\t\t\t\t\t\t\t\t<el-input v-model=\"form.product_name\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品图片\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"openImg\">选择</el-button>\r\n\t\t\t\t\t\t\t\t<!-- <el-button type=\"primary\">上传</el-button> -->\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<input v-show=\"false\" type=\"file\" accept=\"image/*\" @change=\"tirggerFile($event)\"\r\n\t\t\t\t\t\t\t\t\t\tref=\"input\" />\r\n\t\t\t\t\t\t\t\t\t<div class=\"imagesFix\">\r\n\t\t\t\t\t\t\t\t\t\t<div style=\"width:200px;height:200px;text-align:center;margin-right: 10px;\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in form.images\" :key=\"index\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" circle\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"position: absolute;\" @click=\"deleteForeImage(index,form.images)\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<el-image style=\"height:100%;width:100%; z-index: -1;\" :src=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfit=\"cover\"> </el-image>\r\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div style=\"width:200px;height:200px;text-align:center;margin-right: 10px;\"\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in imgUrl\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" circle\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"position: absolute;\" @click=\"deleteImage(index,imgUrl)\">\n\t\t\t\t\t\t\t\t\t\t\t</el-button>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<el-image style=\"height:100%;width:100%; z-index: -1;\" :src=\"item\"\n\t\t\t\t\t\t\t\t\t\t\t\tfit=\"cover\"> </el-image>\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品描述\">\r\n\t\t\t\t\t\t\t\t<el-input v-model=\"form.product_des\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t\t\t<el-form-item label=\"产品属性\">\r\n\t\t\t\t\t\t\t\t<div class=\"table\">\r\n\t\t\t\t\t\t\t\t\t<el-table :data=\"this.tableData\" style=\"width: 100%\" max-height=\"250\">\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"name\" label=\"属性名称\" width=\"150\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <el-table-column prop=\"showName\" label=\"显示名称\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"type\" label=\"数据类型\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column> -->\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"default\" label=\"默认值\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"unit\" label=\"单位\" width=\"300\">\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<el-table-column label=\"操作\" width=\"120\">\r\n\t\t\t\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-button @click.native.prevent=\"deleteRow(scope.$index,tableData)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\" size=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t移除\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"添加属性\" v-if=\"addMode\" style=\"width: 50%; z-index: 999;\">\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"属性名称\" v-model=\"addTable.name\"></el-input>\r\n\t\t\t\t\t\t\t\t<!-- <el-input placeholder=\"仪器型号\" v-model=\"addTable.showName\"></el-input> -->\r\n\t\t\t\t\t\t\t\t<!-- <el-input placeholder=\"数据类型\" v-model=\"addTable.type\"></el-input> -->\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"默认值\" v-model=\"addTable.default\"></el-input>\r\n\t\t\t\t\t\t\t\t<el-input placeholder=\"单位\" v-model=\"addTable.unit\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t<el-button type=\"primary\" style=\"width: 100px;\" v-on:click=\"addItem()\" v-if=\"!addMode\">添加属性\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" style=\"width: 70px;\" v-on:click=\"addItem()\" v-if=\"addMode\">确定\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</el-scrollbar>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle=\"display: flex;flex-direction: row-reverse;padding-right: 10px;height: 10%;padding-bottom: 10px;\">\r\n\t\t\t\t<el-button type=\"success\" v-on:click=\"upload()\">上传</el-button>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script lang=\"ts\">\r\n\timport Cookies from 'js-cookie'\r\n\ttype tableDataType = {\r\n\t\tname: string,\r\n\t\tshowName: string,\r\n\t\ttype: string,\r\n\t\tdefault: string,\r\n\t\tunit: string,\r\n\t}\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\n\t\t\t\tisUp : false,\n\t\t\t\tupNumber :0,\r\n\t\t\t\theight: 0,\r\n\t\t\t\taddMode: false,\n\t\t\t\timgData : [],\n\t\t\t\timgUrl : [],\r\n\t\t\t\t// form: {\r\n\t\t\t\t// \tproduct_name: '',\r\n\t\t\t\t// \tproduct_des: '',\r\n\t\t\t\t// \timages: [],\r\n\t\t\t\t// \tdata_format: [],\r\n\t\t\t\t// \tcompany_id: null,\r\n\t\t\t\t// \tuser_id : Cookies.get(\"user_id\"),\r\n\t\t\t\t// \ttoken : Cookies.get(\"token\")\r\n\t\t\t\t// },\r\n\t\t\t\ttableData: [\r\n\r\n\t\t\t\t],\r\n\t\t\t\taddTable: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\t// showName: '',\r\n\t\t\t\t\t// type: '',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t\tunit: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// console.log(this.height)\r\n\t\t\t// this.$refs.scroll.style.height = `${document.documentElement.clientHeight-230}` + \"px\"\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// this.form.company_id = this.companyID\r\n\t\t\tconsole.log(this.companyID)\r\n\t\t\tconsole.log(this.form)\r\n\t\t\tthis.tableData = this.form.data_format\r\n\t\t},\r\n\t\tmethods: {\n\t\t\topenImg() {\n\t\t\t\tthis.$refs.input.click();\n\t\t\t},\n\t\t\ttirggerFile: function(event) {\n\t\t\t\tlet file = event.target.files[0];\n\t\t\t\tif(file.type !== \"image/jpeg\" && file.type !== \"image/png\" && file.type !== \"image/jpg\"){\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '请选择合适的文件类型',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tthis.imgData.push(file)\n\t\t\t\t\tlet url = \"\";\n\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\tlet that = this;\n\t\t\t\t\treader.onload = function(e) {\n\t\t\t\t\t\t// url = this.result.substring(this.result.indexOf(\",\") + 1);\n\t\t\t\t\t\t// var currentimgUrl = \"data:image/png;base64,\" + url;\n\t\t\t\t\t\tvar currentimgUrl = e.target.result\n\t\t\t\t\t\tthat.imgUrl.push(currentimgUrl)\n\t\t\t\t\t\tconsole.log(that.imgData)\n\t\t\t\t\t\t// that.$refs['imgimg'].setAttribute('src','data:image/png;base64,'+url);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tdeleteForeImage(index, rows) {\n\t\t\t\trows.splice(index, 1);\n\t\t\t\t// this.imgData.splice(index, 1);\n\t\t\t},\n\t\t\tdeleteImage(index, rows) {\n\t\t\t\trows.splice(index, 1);\n\t\t\t\tthis.imgData.splice(index, 1);\n\t\t\t},\r\n\t\t\tdeleteRow(index, rows) {\r\n\t\t\t\trows.splice(index, 1);\r\n\t\t\t},\r\n\t\t\taddItem() {\r\n\t\t\t\tif (!this.addMode) {\r\n\t\t\t\t\tthis.addMode = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log(this.addTable)\r\n\t\t\t\t\tvar a = this.addTable\r\n\t\t\t\t\tvar update = true\r\n\t\t\t\t\tif (a.name === '' || a.default === '' || a.unit === '')\r\n\t\t\t\t\t\tupdate = false\r\n\r\n\t\t\t\t\tif (update) {\r\n\t\t\t\t\t\tlet updata: tableDataType = {\r\n\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\tshowName: '',\r\n\t\t\t\t\t\t\ttype: '',\r\n\t\t\t\t\t\t\tdefault: '',\r\n\t\t\t\t\t\t\tunit: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// let updata :tableData = this.addTable\r\n\t\t\t\t\t\tupdata.showName = this.addTable.showName\r\n\t\t\t\t\t\tupdata.name = this.addTable.name\r\n\t\t\t\t\t\tupdata.type = this.addTable.type\r\n\t\t\t\t\t\tupdata.unit = this.addTable.unit\r\n\t\t\t\t\t\tupdata.default = this.addTable.default\r\n\t\t\t\t\t\tthis.tableData.push(updata)\r\n\t\t\t\t\t\tconsole.log(updata)\r\n\t\t\t\t\t\tthis.addTable.name = ''\r\n\t\t\t\t\t\tthis.addTable.showName = ''\r\n\t\t\t\t\t\tthis.addTable.type = ''\r\n\t\t\t\t\t\tthis.addTable.default = ''\r\n\t\t\t\t\t\tthis.addTable.unit = ''\r\n\t\t\t\t\t\tthis.addMode = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '属性未填写完成',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log(\"未填写完毕\")\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\n\t\t\t\r\n\t\t\tupload() {\r\n\t\t\t\tvar a = this.form\r\n\t\t\t\ta.data_format = this.tableData\r\n\t\t\t\tif (a.data_format.length === 0 || a.product_name === '' || a.product_des === '') {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '无法上传',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(this.form)\r\n\t\t\t\t\tlet config = {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.imgData.length === 0){\n\t\t\t\t\t\tconsole.log(\"无新照片\")\n\t\t\t\t\t\tthis.isUp = true\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.log(\"有新照片\")\n\t\t\t\t\t\tfor (var number in this.imgData) {\n\t\t\t\t\t\t\tlet form = new FormData();\n\t\t\t\t\t\t\t// console.log(\"上传\")\n\t\t\t\t\t\t\tvar timeString = String(new Date().valueOf()) + Cookies.get(\"user_id\") \n\t\t\t\t\t\t\tvar that = this\n\t\t\t\t\t\t\tconsole.log(timeString)\n\t\t\t\t\t\t\tform.append('name', 'file');\n\t\t\t\t\t\t\tform.append('imagename', timeString);\n\t\t\t\t\t\t\tform.append('file', this.imgData[number]);\n\t\t\t\t\t\t\tvar fullString =  'https://site.maple.today/iotplat/'+ timeString\n\t\t\t\t\t\t\tthis.form.images.push(fullString)\n\t\t\t\t\t\t\tthis.$axios.post('https://site.maple.today/IOTplatform/upload/picture.htm', form, {\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t).then(response => {\n\t\t\t\t\t\t\t\tconsole.log(response)\n\t\t\t\t\t\t\t\t// alert('上传图片成功!');\n\t\t\t\t\t\t\t\tthat.upNumber = that.upNumber + 1\n\t\t\t\t\t\t\t\tif(that.upNumber === that.imgData.length){\n\t\t\t\t\t\t\t\t\tconsole.log(\"图片上传完毕\")\n\t\t\t\t\t\t\t\t\tthis.isUp = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// console.log(that.form.images)\n\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t// alert('上传图片出错!');\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\r\n\t\t\t\t\t// this.$axios.get('https://site.maple.today/IOTplatform/ServerMain?requestCode=004', formData,config).then(function(res) {\r\n\t\t\t\t\t// \tconsole.log(res)\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: ['companyID', 'form'],\n\t\twatch :{\n\t\t\tisUp : function(){\n\t\t\t\tconsole.log(\"开始上传\")\n\t\t\t\tvar dataJson = JSON.stringify(this.form.data_format)\n\t\t\t\tconsole.log(dataJson)\n\t\t\t\tvar imageJson = JSON.stringify(this.form.images)\n\t\t\t\tconsole.log(imageJson)\n\t\t\t\tvar that = this\n\t\t\t\tthis.$axios.get('https://site.maple.today/IOTplatform/ServerMain', {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\trequestCode: '020',\n\t\t\t\t\t\t\tuser_id: Cookies.get(\"user_id\"),\n\t\t\t\t\t\t\ttoken: Cookies.get(\"token\"),\n\t\t\t\t\t\t\tcompany_id: that.form.company_id,\n\t\t\t\t\t\t\tproduct_name: that.form.product_name,\n\t\t\t\t\t\t\tproduct_des: that.form.product_des,\n\t\t\t\t\t\t\tproduct_id: that.form.product_id,\n\t\t\t\t\t\t\timages: imageJson,\n\t\t\t\t\t\t\tdata_format: dataJson,\n\t\t\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\t\t// params : that.form\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\tconsole.log(response)\n\t\t\t\t\t\tif (response.data !== undefined) {\n\t\t\t\t\t\t\tthat.$message({\n\t\t\t\t\t\t\t\tmessage: '修改成功',\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthat.$router.push({\n\t\t\t\t\t\t\t\tname: \"ProductionManage\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.$message({\n\t\t\t\t\t\t\t\tmessage: '上传失败',\n\t\t\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t})\n\t\t\t\t\n\t\t\t}\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.addProduction {\r\n\t\twidth: 100%;\r\n\t\theight: 96%;\r\n\t\t/* background-color: aliceblue; */\r\n\t}\r\n\r\n\t.form {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t/* align-items: center; */\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\r\n\t.table {\r\n\t\twidth: 100%;\r\n\t}\r\n\t.imagesFix {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\twidth: 100%;\n\t}\r\n\tel-scrollbar. el-scrollbar_wrap {\r\n\t\toverflow-x: hidden;\r\n\t}\r\n</style>\n"]}]}
{"remainingRequest":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shuaisujun/Desktop/IOT/src/views/MainViews/Monitor/DataBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shuaisujun/Desktop/IOT/src/views/MainViews/Monitor/DataBoard.vue","mtime":1630217231864},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZScKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwppbXBvcnQgbXF0dCBmcm9tICdtcXR0JwoKU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlQWxsID0gZnVuY3Rpb24oczEsIHMyKSB7CglyZXR1cm4gdGhpcy5yZXBsYWNlKG5ldyBSZWdFeHAoczEsICdnbScpLCBzMikKfQoKZXhwb3J0IGRlZmF1bHQgewoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlkZXZpY2U6ICcnLAoJCQl1c2VyX2lkOiAnJywKCQkJdG9rZW46ICcnLAoJCQlwYXNzd29yZDogJycsCgkJCWNvbXBhbnlfaWQ6ICcnLAoJCQlkZXZpY2VfaWQ6ICcnLAoJCQlmZXRjaGRhdGE6IFtdLAoJCQlkYXRlT3B0aW9uczogW10sCgkJCWRhdGF0eXBlOiBbXSwKCQkJdmFsdWU6ICcnLAoJCQl2YWw6ICcnLAoJCQljaGFydERhdGE6IFtdLAoJCQljaGFydERhdGEyOiBbXSwKCQkJbmV3Y2hhcnREYXRhOiBbXSwKCQkJZGF0YTogW10sCgkJCW1zZzogJycsCgkJCWN1cnJlbnRQYWdlOiAxLAoJCQlwYWdlc2l6ZTogMTAsCgkJCWxlbmd0aDogJycsCgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5nZXREYXRlQXJyYXkoKQoJCXRoaXMuZ2V0RGF0YVR5cGUoKQoJCXRoaXMuZ2V0Um91dGVEYXRhKCkKCQl0aGlzLmdldENvb2tpZURhdGEoKQoJCXRoaXMuZmV0Y2hEZXZpY2VEYXRhKCkKCQl0aGlzLmdldE1xdHQoKQoJCS8vdGhpcy5sZW5ndGggPSB0aGlzLnNsaWNlRGF0YUFycmF5KCcyMDIxLTA4LTI4JykubGVuZ3RoCgl9LAoJd2F0Y2g6IHsKCQltc2c6IHsKCQkJZGVlcDogdHJ1ZSwKCQkJaGFuZGxlcihuZXd2YWwpIHsKCQkJCWNvbnN0IHRoYXQgPSB0aGlzCgkJCQl0aGF0LmZldGNoZGF0YS5wdXNoKG5ld3ZhbCkKCQkJCS8v5pWw5o2u5aSE55CGCgkJCQlmb3IgKHZhciBqID0gMDsgaiA8IHRoYXQuZmV0Y2hkYXRhLmxlbmd0aDsgaisrKSB7CgkJCQkJZGVsZXRlIHRoYXQuZmV0Y2hkYXRhW2pdLmNvbXBhbnlfaWQKCQkJCQlkZWxldGUgdGhhdC5mZXRjaGRhdGFbal0uc2Vuc29yX2lkCgkJCQkJZGVsZXRlIHRoYXQuZmV0Y2hkYXRhW2pdLmRldmljZV9pZAoJCQkJfQoKCQkJCXZhciBkYXRlID0gdGhhdC5nZXRCZWZvcmVEYXRlKDApCgkJCQlpZiAodGhhdC52YWx1ZSA9PT0gZGF0ZSkgewoJCQkJCXZhciBjaGFydERhdGEgPSB0aGF0LnNsaWNlRGF0YUFycmF5KGRhdGUpCgkJCQkJdmFyIHR5cGUgPSBjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRbMF0ubmFtZQoJCQkJCXZhciBjb3VudAoJCQkJCWZvciAodmFyIGsgPSAwOyBrIDwgY2hhcnREYXRhWzBdLmRhdGFfZm9ybWF0Lmxlbmd0aDsgaysrKSB7CgkJCQkJCWlmIChjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRba10ubmFtZSA9PT0gdHlwZSkgewoJCQkJCQkJY291bnQgPSBrCgkJCQkJCX0KCQkJCQl9CgkJCQkJdmFyIGNoYXJ0ZGF0YTEgPSBbXQoJCQkJCWZvciAodmFyIGggPSAwOyBoIDwgY2hhcnREYXRhLmxlbmd0aDsgaCsrKSB7CgkJCQkJCXZhciBiID0gewoJCQkJCQkJbmFtZTogJycsCgkJCQkJCQl2YWx1ZTogW10KCQkJCQkJfQoJCQkJCQliLm5hbWUgPSBjaGFydERhdGFbaF0udGltZQoJCQkJCQliLnZhbHVlLnB1c2goY2hhcnREYXRhW2hdLnRpbWUpCgkJCQkJCWIudmFsdWUucHVzaChwYXJzZUludChjaGFydERhdGFbaF0uZGF0YVtjb3VudF0pKQoJCQkJCQljaGFydGRhdGExLnB1c2goYikKCQkJCQl9CgkJCQkJdmFyIGNoYXJ0RGF0YTIgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJCQlyZXR1cm4gYS5uYW1lID4gYi5uYW1lID8gMSA6IC0xCgkJCQkJfSkKCQkJCQl0aGF0LmNoYXJ0RGF0YSA9IGNoYXJ0RGF0YTIKCQkJCQl2YXIgY2hhcnRkYXRhMyA9IFtdCgkJCQkJdmFyIGEgPSAwCgkJCQkJdmFyIG1heCA9IHRoYXQuY2hhcnREYXRhWzBdLnZhbHVlWzFdCgkJCQkJdmFyIG1pbiA9IHRoYXQuY2hhcnREYXRhWzBdLnZhbHVlWzFdCgkJCQkJZm9yICh2YXIgcCA9IDA7IHAgPCB0aGF0LmNoYXJ0RGF0YS5sZW5ndGg7IHArKykgewoJCQkJCQlhID0gYSArIHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQkJCWlmIChtYXggPCB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXSkgewoJCQkJCQkJbWF4ID0gdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0KCQkJCQkJfQoJCQkJCQlpZiAobWluID4gdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0pIHsKCQkJCQkJCW1pbiA9IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQkJCX0KCQkJCQl9CgkJCQkJYSA9IGEgLyB0aGF0LmNoYXJ0RGF0YS5sZW5ndGgKCQkJCQlhID0gYS50b0ZpeGVkKDIpCgkJCQkJY2hhcnRkYXRhMy5wdXNoKGEpCgkJCQkJY2hhcnRkYXRhMy5wdXNoKG1heCkKCQkJCQljaGFydGRhdGEzLnB1c2gobWluKQoJCQkJCXRoYXQubmV3Y2hhcnREYXRhID0gY2hhcnRkYXRhMwoJCQkJfQoJCQl9LAoJCX0sCgkJY2hhcnREYXRhOiB7CgkJCWRlZXA6IHRydWUsCgkJCWhhbmRsZXIoKSB7CgkJCQl0aGlzLiRuZXh0VGljaygoKSA9PiB7CgkJCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQkJCS8vIHNldFRpbWVvdXQKCQkJCQkJdGhpcy5kcmF3Q2hhcnQoJ2xpbmVjaGFydDEnKQoJCQkJCX0sIDMwMCkKCQkJCX0pCgkJCX0sCgkJfSwKCQluZXdjaGFydERhdGE6IHsKCQkJZGVlcDogdHJ1ZSwKCQkJaGFuZGxlcigpIHsKCQkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQkJLy8gc2V0VGltZW91dAoJCQkJCQl0aGlzLmRyYXdDaGFydDIoJ2xpbmVjaGFydDInKQoJCQkJCX0sIDMwMCkKCQkJCX0pCgkJCX0sCgkJfSwKCX0sCgltZXRob2RzOiB7CgkJZ29CYWNrKCkgewoJCQl0aGlzLiRyb3V0ZXIuZ28oLTEpCgkJfSwKCQloYW5kbGVDaGFuZ2UodmFsKSB7CgkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgkJCWNvbnNvbGUubG9nKHZhbCkKCQkJdGhpcy5jdXJyZW50UGFnZSA9IHZhbAoJCX0sCgkJLy/ojrflj5bnlKjmiLfkv6Hmga8KCQlnZXRDb29raWVEYXRhKCkgewoJCQljb25zdCB0aGF0ID0gdGhpcwoJCQl0aGF0LnVzZXJfaWQgPSBDb29raWVzLmdldCgndXNlcl9pZCcpCgkJCXRoYXQudG9rZW4gPSBDb29raWVzLmdldCgndG9rZW4nKQoJCQl0aGF0LmNvbXBhbnlfaWQgPSBDb29raWVzLmdldCgnY29tcGFueV9pZCcpCgkJfSwKCgkJLy/ojrflj5bot6/nlLHkv6Hmga8KCQlnZXRSb3V0ZURhdGEoKSB7CgkJCWNvbnN0IHRoYXQgPSB0aGlzCgkJCXZhciBuZXdfZGV2aWNlID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoYXQuJHJvdXRlLnF1ZXJ5LmRldmljZSkKCQkJdGhhdC5kZXZpY2UgPSBKU09OLnBhcnNlKG5ld19kZXZpY2UpCgkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgkJCWNvbnNvbGUubG9nKHRoYXQuZGV2aWNlKQoJCX0sCgoJCS8v6I635Y+W5pe26Ze06YCJ5oup5ZmoCgkJZ2V0QmVmb3JlRGF0ZShuKSB7CgkJCXZhciBkID0gbmV3IERhdGUoKQoJCQl2YXIgeWVhciA9IGQuZ2V0RnVsbFllYXIoKQoJCQl2YXIgbW9uID0gZC5nZXRNb250aCgpICsgMQoJCQl2YXIgZGF5ID0gZC5nZXREYXRlKCkKCQkJaWYgKGRheSA8PSBuKSB7CgkJCQlpZiAobW9uID4gMSkgewoJCQkJCW1vbiA9IG1vbiAtIDEKCQkJCX0gZWxzZSB7CgkJCQkJeWVhciA9IHllYXIgLSAxCgkJCQkJbW9uID0gMTIKCQkJCX0KCQkJfQoJCQlkLnNldERhdGUoZC5nZXREYXRlKCkgLSBuKQoJCQl5ZWFyID0gZC5nZXRGdWxsWWVhcigpCgkJCW1vbiA9IGQuZ2V0TW9udGgoKSArIDEKCQkJZGF5ID0gZC5nZXREYXRlKCkKCQkJdmFyIHMgPSB5ZWFyICsgJy0nICsgKG1vbiA8IDEwID8gJzAnICsgbW9uIDogbW9uKSArICctJyArIChkYXkgPCAxMCA/ICcwJyArIGRheSA6IGRheSkKCQkJcmV0dXJuIHMKCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJLy9jb25zb2xlLmxvZyhzKQoJCX0sCgkJZ2V0RGF0ZUFycmF5KCkgewoJCQljb25zdCB0aGF0ID0gdGhpcwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykgewoJCQkJdmFyIGEgPSB7fQoJCQkJYS52YWx1ZSA9IHRoYXQuZ2V0QmVmb3JlRGF0ZShpKQoJCQkJYS5sYWJlbCA9IHRoYXQuZ2V0QmVmb3JlRGF0ZShpKQoJCQkJdGhhdC5kYXRlT3B0aW9ucy5wdXNoKGEpCgkJCX0KCQkJdGhhdC52YWx1ZSA9IHRoYXQuZGF0ZU9wdGlvbnNbMF0udmFsdWUKCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJY29uc29sZS5sb2codGhhdC5kYXRlT3B0aW9ucykKCQl9LAoKCQkvL+iOt+WPluaVsOaNruexu+Wei+mAieaLqeWZqAoJCWdldERhdGFUeXBlKCkgewoJCQljb25zdCB0aGF0ID0gdGhpcwoJCQl2YXIgbmV3X2RldmljZSA9IGRlY29kZVVSSUNvbXBvbmVudCh0aGF0LiRyb3V0ZS5xdWVyeS5kZXZpY2UpCgkJCXZhciBkZXZpY2UxID0gSlNPTi5wYXJzZShuZXdfZGV2aWNlKQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGRldmljZTEuZGF0YV9mb3JtYXQubGVuZ3RoOyBpKyspIHsKCQkJCXZhciBhID0ge30KCQkJCWEudmFsdWUgPSBkZXZpY2UxLmRhdGFfZm9ybWF0W2ldLm5hbWUKCQkJCWEubGFiZWwgPSBkZXZpY2UxLmRhdGFfZm9ybWF0W2ldLm5hbWUKCQkJCXRoYXQuZGF0YXR5cGVbaV0gPSBhCgkJCX0KCQkJdGhhdC52YWwgPSB0aGF0LmRhdGF0eXBlWzBdLnZhbHVlCgkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgkJCWNvbnNvbGUubG9nKHRoYXQuZGF0YXR5cGUpCgkJfSwKCgkJLy/ml7bpl7TovazmjaIKCQlnZXRZTURITVModGltZXN0YW1wKSB7CgkJCWxldCB0aW1lID0gbmV3IERhdGUodGltZXN0YW1wKQoJCQlsZXQgeWVhciA9IHRpbWUuZ2V0RnVsbFllYXIoKQoJCQlsZXQgbW9udGggPSB0aW1lLmdldE1vbnRoKCkgKyAxCgkJCWxldCBkYXRlID0gdGltZS5nZXREYXRlKCkKCQkJbGV0IGhvdXJzID0gdGltZS5nZXRIb3VycygpCgkJCWxldCBtaW51dGUgPSB0aW1lLmdldE1pbnV0ZXMoKQoJCQlsZXQgc2Vjb25kID0gdGltZS5nZXRTZWNvbmRzKCkKCgkJCWlmIChtb250aCA8IDEwKSB7CgkJCQltb250aCA9ICcwJyArIG1vbnRoCgkJCX0KCQkJaWYgKGRhdGUgPCAxMCkgewoJCQkJZGF0ZSA9ICcwJyArIGRhdGUKCQkJfQoJCQlpZiAoaG91cnMgPCAxMCkgewoJCQkJaG91cnMgPSAnMCcgKyBob3VycwoJCQl9CgkJCWlmIChtaW51dGUgPCAxMCkgewoJCQkJbWludXRlID0gJzAnICsgbWludXRlCgkJCX0KCQkJaWYgKHNlY29uZCA8IDEwKSB7CgkJCQlzZWNvbmQgPSAnMCcgKyBzZWNvbmQKCQkJfQoJCQlyZXR1cm4geWVhciArICctJyArIG1vbnRoICsgJy0nICsgZGF0ZSArICcgJyArIGhvdXJzICsgJzonICsgbWludXRlICsgJzonICsgc2Vjb25kCgkJfSwKCgkJLy/ov57mjqVtcXR0CgkJZ2V0TXF0dCgpIHsKCQkJY29uc3QgdGhhdCA9IHRoaXMKCQkJY29uc3QgdXNlcl9pZCA9IENvb2tpZXMuZ2V0KCd1c2VyX2lkJykKCQkJY29uc3QgcGFzc3dvcmQgPSBDb29raWVzLmdldCgncGFzc3dvcmQnKQoJCQljb25zdCBjb21wYW55X2lkID0gQ29va2llcy5nZXQoJ2NvbXBhbnlfaWQnKQoJCQkvLyB2YXIgbmV3X2RldmljZSA9IGRlY29kZVVSSUNvbXBvbmVudCh0aGF0LiRyb3V0ZS5xdWVyeS5kZXZpY2UpCgkJCS8vIGNvbnN0IGRldmljZTIgPSBKU09OLnBhcnNlKG5ld19kZXZpY2UpCgkJCWNvbnN0IG9wdGlvbnMgPSB7CgkJCQkvLyDotoXml7bml7bpl7QKCQkJCWNvbm5lY3RUaW1lb3V0OiA0MDAwLAoJCQkJLy8g6K6k6K+B5L+h5oGvCgkJCQljbGllbnRJZDogdXNlcl9pZCwKCQkJCXVzZXJuYW1lOiB1c2VyX2lkLAoJCQkJcGFzc3dvcmQ6IHBhc3N3b3JkLCAvL+acquWKoOWvhueahHBhc3N3b3JkCgkJCQkvLyDlv4Pot7Pml7bpl7QKCQkJCWtlZXBhbGl2ZTogNjAsCgkJCQljbGVhbjogdHJ1ZSwKCQkJfQoJCQkvLyBXZWJTb2NrZXQg6L+e5o6l5a2X56ym5LiyCgkJCS8vIGNvbnN0IGNvbnN0V2ViU29ja2V0X1VSTD0nd3M6Ly9sb2NhbGhvc3Q6ODA4My9tcXR0JwoJCQkvLyBUQ1AvVExTIOi/nuaOpeWtl+espuS4su+8jOS7hemZkCBOb2RlLmpzIOeOr+WigwoJCQljb25zdCBUQ1BfVVJMID0gJ3dzOi8vMTE2LjYzLjQwLjEyNjo4MDgzL21xdHQnCgkJCWNvbnN0IGNsaWVudCA9IG1xdHQuY29ubmVjdChUQ1BfVVJMLCBvcHRpb25zKQoJCQl2YXIgdXJsID0gJ3VwZGF0ZScgKyAnLycgKyBjb21wYW55X2lkICsgJy9kZXZpY2VfJyArIHRoYXQuZGV2aWNlLnNlbnNvcl9pZAoJCQljbGllbnQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7CgkJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQoJCQkJY29uc29sZS5sb2coJ+i/nuaOpeaIkOWKnycpCgkJCQljbGllbnQuc3Vic2NyaWJlKHVybCwgZXJyID0+IHsKCQkJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQoJCQkJCWNvbnNvbGUubG9nKGVyciB8fCAn6K6i6ZiF5oiQ5YqfJykKCQkJCX0pCgkJCX0pCgkJCWNsaWVudC5vbigncmVjb25uZWN0JywgZXJyb3IgPT4gewoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCWNvbnNvbGUubG9nKCfmraPlnKjph43ov546JywgZXJyb3IpCgkJCQljbGllbnQuZW5kKCkKCQkJCUNvb2tpZXMucmVtb3ZlKCd0b2tlbicpCgkJCQlsb2NhdGlvbi5yZWxvYWQoKQoJCQl9KQoJCQljbGllbnQub24oJ2Vycm9yJywgZXJyb3IgPT4gewoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCWNvbnNvbGUubG9nKCfov57mjqXlpLHotKU6JywgZXJyb3IpCgkJCX0pCgkJCWNsaWVudC5vbignbWVzc2FnZScsIGZ1bmN0aW9uKHRvcGljLCBwYXlsb2FkKSB7CgkJCQkvL3ZhciByZXF1ZXN0SWQgPSB0b3BpYy5zbGljZSgndXBkYXRlLzEvMScubGVuZ3RoKQoJCQkJdmFyIG1lc3NhZ2VEYXRhID0gSlNPTi5wYXJzZShwYXlsb2FkLnRvU3RyaW5nKCkpCgkJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQoJCQkJY29uc29sZS5sb2coJ21lc3NhZ2VEYXRhOicsIG1lc3NhZ2VEYXRhKQoJCQkJdmFyIGRhdGEgPSB7CgkJCQkJZGF0YTogW10sCgkJCQkJZGF0YV9mb3JtYXQ6IFtdLAoJCQkJCXNlbnNvcl9pZDogJycsCgkJCQkJdGltZTogJycsCgkJCQkJZGV2aWNlX2lkOiAnJywKCQkJCQljb21wYW55X2lkOiAnJwoJCQkJfQoJCQkJZGF0YS5jb21wYW55X2lkID0gbWVzc2FnZURhdGEuY29tcGFueV9pZAoJCQkJZGF0YS5zZW5zb3JfaWQgPSBtZXNzYWdlRGF0YS5zZW5zb3JfaWQKCQkJCWRhdGEuZGV2aWNlX2lkID0gbWVzc2FnZURhdGEuZGV2aWNlX2lkCgkJCQlkYXRhLmRhdGEgPSBtZXNzYWdlRGF0YS5kYXRhX3VwbG9hZAoJCQkJZGF0YS5kYXRhX2Zvcm1hdCA9IHRoYXQuZGV2aWNlLmRhdGFfZm9ybWF0CgkJCQlkYXRhLnRpbWUgPSB0aGF0LmdldFlNREhNUyhwYXJzZUludChtZXNzYWdlRGF0YS50aW1lc3RhbXApKQoJCQkJdGhhdC5tc2cgPSBkYXRhCgkJCX0pCgkJfSwKCgkJZW5kTXF0dCgpIHsKCQkJY29uc3QgdXNlcl9pZCA9IENvb2tpZXMuZ2V0KCd1c2VyX2lkJykKCQkJY29uc3QgcGFzc3dvcmQgPSBDb29raWVzLmdldCgncGFzc3dvcmQnKQoJCQljb25zdCBvcHRpb25zID0gewoJCQkJLy8g6LaF5pe25pe26Ze0CgkJCQljb25uZWN0VGltZW91dDogNDAwMCwKCQkJCS8vIOiupOivgeS/oeaBrwoJCQkJY2xpZW50SWQ6IHVzZXJfaWQsCgkJCQl1c2VybmFtZTogdXNlcl9pZCwKCQkJCXBhc3N3b3JkOiBwYXNzd29yZCwgLy/mnKrliqDlr4bnmoRwYXNzd29yZAoJCQkJLy8g5b+D6Lez5pe26Ze0CgkJCQlrZWVwYWxpdmU6IDYwLAoJCQkJY2xlYW46IHRydWUsCgkJCX0KCQkJLy8gV2ViU29ja2V0IOi/nuaOpeWtl+espuS4sgoJCQkvLyBjb25zdCBjb25zdFdlYlNvY2tldF9VUkw9J3dzOi8vbG9jYWxob3N0OjgwODMvbXF0dCcKCQkJLy8gVENQL1RMUyDov57mjqXlrZfnrKbkuLLvvIzku4XpmZAgTm9kZS5qcyDnjq/looMKCQkJY29uc3QgVENQX1VSTCA9ICd3czovLzExNi42My40MC4xMjY6ODA4My9tcXR0JwoJCQljb25zdCBjbGllbnQgPSBtcXR0LmNvbm5lY3QoVENQX1VSTCwgb3B0aW9ucykKCQkJY2xpZW50LmVuZCgpCgkJfSwKCgkJLy/ojrflj5borr7lpIfmiYDmnInmlbDmja4KCQlmZXRjaERldmljZURhdGEoKSB7CgkJCWNvbnN0IHRoYXQgPSB0aGlzCgkJCXZhciB1cmwgPSAnaHR0cHM6Ly9zaXRlLm1hcGxlLnRvZGF5L0lPVHBsYXRmb3JtL1NlcnZlck1haW4/cmVxdWVzdENvZGU9MDI3JwoJCQlheGlvcwoJCQkJLmdldCh1cmwsIHsKCQkJCQlwYXJhbXM6IHsKCQkJCQkJdXNlcl9pZDogdGhhdC51c2VyX2lkLAoJCQkJCQljb21wYW55X2lkOiB0aGF0LmNvbXBhbnlfaWQsCgkJCQkJCXRva2VuOiB0aGF0LnRva2VuLAoJCQkJCQlkZXZpY2VfaWQ6IHRoYXQuZGV2aWNlLnNlbnNvcl9pZCwKCQkJCQl9LAoJCQkJfSkKCQkJCS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQoJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5kYXRhLmxlbmd0aDsgaSsrKSB7CgkJCQkJCXZhciBmZXRjaGRhdGExID0gcmVzcG9uc2UuZGF0YS5kYXRhW2ldLmRhdGEucmVwbGFjZSgnWycsICcnKQoJCQkJCQl2YXIgZmV0Y2hkYXRhMiA9IGZldGNoZGF0YTEucmVwbGFjZSgnXScsICcnKQoJCQkJCQl2YXIgZmV0Y2hkYXRhMyA9IGZldGNoZGF0YTIucmVwbGFjZUFsbCgnIicsICcnKQoJCQkJCQlyZXNwb25zZS5kYXRhLmRhdGFbaV0uZGF0YSA9IGZldGNoZGF0YTMuc3BsaXQoJywnKQoJCQkJCQlyZXNwb25zZS5kYXRhLmRhdGFbaV0uZGF0YV9mb3JtYXQgPSB0aGF0LmRldmljZS5kYXRhX2Zvcm1hdAoJCQkJCX0KCQkJCQl0aGF0LmZldGNoZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YQoKCQkJCQkvL+aVsOaNruWkhOeQhgoJCQkJCWZvciAodmFyIGogPSAwOyBqIDwgdGhhdC5mZXRjaGRhdGEubGVuZ3RoOyBqKyspIHsKCQkJCQkJZGVsZXRlIHRoYXQuZmV0Y2hkYXRhW2pdLmNvbXBhbnlfaWQKCQkJCQkJZGVsZXRlIHRoYXQuZmV0Y2hkYXRhW2pdLnNlbnNvcl9pZAoJCQkJCQlkZWxldGUgdGhhdC5mZXRjaGRhdGFbal0uZGV2aWNlX2lkCgkJCQkJfQoKCQkJCQl2YXIgZGF0ZSA9IHRoYXQuZ2V0QmVmb3JlRGF0ZSgwKQoJCQkJCXZhciBjaGFydERhdGEgPSB0aGF0LnNsaWNlRGF0YUFycmF5KGRhdGUpCgkJCQkJdmFyIHR5cGUgPSBjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRbMF0ubmFtZQoJCQkJCXZhciBjb3VudAoJCQkJCWZvciAodmFyIGsgPSAwOyBrIDwgY2hhcnREYXRhWzBdLmRhdGFfZm9ybWF0Lmxlbmd0aDsgaysrKSB7CgkJCQkJCWlmIChjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRba10ubmFtZSA9PT0gdHlwZSkgewoJCQkJCQkJY291bnQgPSBrCgkJCQkJCX0KCQkJCQl9CgkJCQkJdmFyIGNoYXJ0ZGF0YTEgPSBbXQoJCQkJCWZvciAodmFyIGggPSAwOyBoIDwgY2hhcnREYXRhLmxlbmd0aDsgaCsrKSB7CgkJCQkJCXZhciBiID0gewoJCQkJCQkJbmFtZTogJycsCgkJCQkJCQl2YWx1ZTogW10KCQkJCQkJfQoJCQkJCQliLm5hbWUgPSBjaGFydERhdGFbaF0udGltZQoJCQkJCQliLnZhbHVlLnB1c2goY2hhcnREYXRhW2hdLnRpbWUpCgkJCQkJCWIudmFsdWUucHVzaChwYXJzZUludChjaGFydERhdGFbaF0uZGF0YVtjb3VudF0pKQoJCQkJCQljaGFydGRhdGExLnB1c2goYikKCQkJCQl9CgkJCQkJdGhhdC5jaGFydERhdGEgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJCQlyZXR1cm4gYS5uYW1lID4gYi5uYW1lID8gMSA6IC0xCgkJCQkJfSkKCgkJCQkJdmFyIGNoYXJ0ZGF0YTMgPSBbXQoJCQkJCXZhciBhID0gMAoJCQkJCXZhciBtYXggPSB0aGF0LmNoYXJ0RGF0YVswXS52YWx1ZVsxXQoJCQkJCXZhciBtaW4gPSB0aGF0LmNoYXJ0RGF0YVswXS52YWx1ZVsxXQoJCQkJCWZvciAodmFyIHAgPSAwOyBwIDwgdGhhdC5jaGFydERhdGEubGVuZ3RoOyBwKyspIHsKCQkJCQkJYSA9IGEgKyB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJCQlpZiAobWF4IDwgdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0pIHsKCQkJCQkJCW1heCA9IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQkJCX0KCQkJCQkJaWYgKG1pbiA+IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdKSB7CgkJCQkJCQltaW4gPSB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJCQl9CgkJCQkJfQoJCQkJCWEgPSBhIC8gdGhhdC5jaGFydERhdGEubGVuZ3RoCgkJCQkJYSA9IGEudG9GaXhlZCgyKQoJCQkJCWNoYXJ0ZGF0YTMucHVzaChhKQoJCQkJCWNoYXJ0ZGF0YTMucHVzaChtYXgpCgkJCQkJY2hhcnRkYXRhMy5wdXNoKG1pbikKCQkJCQl0aGF0Lm5ld2NoYXJ0RGF0YSA9IGNoYXJ0ZGF0YTMKCQkJCX0pCgkJCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQkJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQoJCQkJCWNvbnNvbGUubG9nKGVycm9yKQoJCQkJfSkKCQl9LAoKCQkvL+agueaNruaXpeacn+aIquWPluaVsOaNrgoJCXNsaWNlRGF0YUFycmF5KGNob3NlbmRhdGUpIHsKCQkJY29uc3QgdGhhdCA9IHRoaXMKCQkJdmFyIGNoYXJ0RGF0YSA9IFtdCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgdGhhdC5mZXRjaGRhdGEubGVuZ3RoOyBpKyspIHsKCQkJCXZhciBzdHIgPSB0aGF0LmZldGNoZGF0YVtpXS50aW1lLnNsaWNlKDAsIDEwKQoJCQkJaWYgKHN0ciA9PT0gY2hvc2VuZGF0ZSkgewoJCQkJCWNoYXJ0RGF0YS5wdXNoKHRoYXQuZmV0Y2hkYXRhW2ldKQoJCQkJfQoJCQl9CgkJCXJldHVybiBjaGFydERhdGEKCQl9LAoKCQkvL+aXpeacn+mAieaLqQoJCWdldENoYW5nZSh2YWwpIHsKCQkJY29uc3QgdGhhdCA9IHRoaXMKCQkJdGhhdC52YWx1ZSA9IHZhbAoJCQl2YXIgdmFsMSA9IHZhbAoJCQkvLyB2YXIgZGF0ZSA9IHRoYXQuZ2V0QmVmb3JlRGF0ZSgwKQoJCQkvLyBpZiAodmFsMSAhPT0gZGF0ZSkgewoJCQl2YXIgY2hhcnREYXRhID0gdGhhdC5zbGljZURhdGFBcnJheSh2YWwxKQoJCQl0aGF0Lmxlbmd0aCA9IGNoYXJ0RGF0YS5sZW5ndGgKCQkJaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7CgkJCQl0aGF0LmNoYXJ0RGF0YSA9IFtdCgkJCQl0aGF0Lm5ld2NoYXJ0RGF0YSA9IFtdCgkJCX0KCgkJCXZhciBjb3VudAoJCQlmb3IgKHZhciBrID0gMDsgayA8IGNoYXJ0RGF0YVswXS5kYXRhX2Zvcm1hdC5sZW5ndGg7IGsrKykgewoJCQkJaWYgKGNoYXJ0RGF0YVswXS5kYXRhX2Zvcm1hdFtrXS5uYW1lID09PSB0aGF0LnZhbCkgewoJCQkJCWNvdW50ID0gawoJCQkJfQoJCQl9CgkJCXZhciBjaGFydGRhdGExID0gW10KCQkJZm9yICh2YXIgaCA9IDA7IGggPCBjaGFydERhdGEubGVuZ3RoOyBoKyspIHsKCQkJCXZhciBiID0gewoJCQkJCW5hbWU6ICcnLAoJCQkJCXZhbHVlOiBbXQoJCQkJfQoJCQkJYi5uYW1lID0gY2hhcnREYXRhW2hdLnRpbWUKCQkJCWIudmFsdWUucHVzaChjaGFydERhdGFbaF0udGltZSkKCQkJCWIudmFsdWUucHVzaChwYXJzZUludChjaGFydERhdGFbaF0uZGF0YVtjb3VudF0pKQoJCQkJY2hhcnRkYXRhMS5wdXNoKGIpCgkJCX0KCQkJdGhhdC5jaGFydERhdGEgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJcmV0dXJuIGEubmFtZSA+IGIubmFtZSA/IDEgOiAtMQoJCQl9KQoJCQl0aGF0LmNoYXJ0RGF0YTIgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJcmV0dXJuIGEubmFtZSA+IGIubmFtZSA/IDEgOiAtMQoJCQl9KQoJCQl2YXIgY2hhcnRkYXRhMyA9IFtdCgkJCXZhciBhID0gMAoJCQl2YXIgbWF4ID0gdGhhdC5jaGFydERhdGFbMF0udmFsdWVbMV0KCQkJdmFyIG1pbiA9IHRoYXQuY2hhcnREYXRhWzBdLnZhbHVlWzFdCgkJCWZvciAodmFyIHAgPSAwOyBwIDwgdGhhdC5jaGFydERhdGEubGVuZ3RoOyBwKyspIHsKCQkJCWEgPSBhICsgdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0KCQkJCWlmIChtYXggPCB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXSkgewoJCQkJCW1heCA9IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQl9CgkJCQlpZiAobWluID4gdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0pIHsKCQkJCQltaW4gPSB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJfQoJCQl9CgkJCWEgPSBhIC8gdGhhdC5jaGFydERhdGEubGVuZ3RoCgkJCWEgPSBhLnRvRml4ZWQoMikKCQkJY2hhcnRkYXRhMy5wdXNoKGEpCgkJCWNoYXJ0ZGF0YTMucHVzaChtYXgpCgkJCWNoYXJ0ZGF0YTMucHVzaChtaW4pCgkJCXRoYXQubmV3Y2hhcnREYXRhID0gY2hhcnRkYXRhMwoKCQkJLy8gfQoJCQkvLyBpZiAodmFsMSA9PT0gZGF0ZSkgewoJCQkvLyB9CgkJfSwKCgkJLy/mlbDmja7nsbvlnovpgInmi6kKCQlnZXRUeXBlKHZhbCkgewoJCQljb25zdCB0aGF0ID0gdGhpcwoJCQl0aGF0LnZhbCA9IHZhbAoJCQl2YXIgY2hhcnREYXRhID0gdGhhdC5zbGljZURhdGFBcnJheSh0aGF0LnZhbHVlKQoJCQl2YXIgdHlwZSA9IHZhbAoJCQl2YXIgY291bnQKCQkJZm9yICh2YXIgayA9IDA7IGsgPCBjaGFydERhdGFbMF0uZGF0YV9mb3JtYXQubGVuZ3RoOyBrKyspIHsKCQkJCWlmIChjaGFydERhdGFbMF0uZGF0YV9mb3JtYXRba10ubmFtZSA9PT0gdHlwZSkgewoJCQkJCWNvdW50ID0gawoJCQkJfQoJCQl9CgkJCXZhciBjaGFydGRhdGExID0gW10KCQkJZm9yICh2YXIgaCA9IDA7IGggPCBjaGFydERhdGEubGVuZ3RoOyBoKyspIHsKCQkJCXZhciBiID0gewoJCQkJCW5hbWU6ICcnLAoJCQkJCXZhbHVlOiBbXQoJCQkJfQoJCQkJYi5uYW1lID0gY2hhcnREYXRhW2hdLnRpbWUKCQkJCWIudmFsdWUucHVzaChjaGFydERhdGFbaF0udGltZSkKCQkJCWIudmFsdWUucHVzaChwYXJzZUludChjaGFydERhdGFbaF0uZGF0YVtjb3VudF0pKQoJCQkJY2hhcnRkYXRhMS5wdXNoKGIpCgkJCX0KCQkJdGhhdC5jaGFydERhdGEgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJcmV0dXJuIGEubmFtZSA+IGIubmFtZSA/IDEgOiAtMQoJCQl9KQoJCQl0aGF0LmNoYXJ0RGF0YTIgPSBjaGFydGRhdGExLnNvcnQoZnVuY3Rpb24oYSwgYikgewoJCQkJcmV0dXJuIGEubmFtZSA+IGIubmFtZSA/IDEgOiAtMQoJCQl9KQoJCQl2YXIgY2hhcnRkYXRhMyA9IFtdCgkJCXZhciBhID0gMAoJCQl2YXIgbWF4ID0gdGhhdC5jaGFydERhdGFbMF0udmFsdWVbMV0KCQkJdmFyIG1pbiA9IHRoYXQuY2hhcnREYXRhWzBdLnZhbHVlWzFdCgkJCWZvciAodmFyIHAgPSAwOyBwIDwgdGhhdC5jaGFydERhdGEubGVuZ3RoOyBwKyspIHsKCQkJCWEgPSBhICsgdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0KCQkJCWlmIChtYXggPCB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXSkgewoJCQkJCW1heCA9IHRoYXQuY2hhcnREYXRhW3BdLnZhbHVlWzFdCgkJCQl9CgkJCQlpZiAobWluID4gdGhhdC5jaGFydERhdGFbcF0udmFsdWVbMV0pIHsKCQkJCQltaW4gPSB0aGF0LmNoYXJ0RGF0YVtwXS52YWx1ZVsxXQoJCQkJfQoJCQl9CgkJCWEgPSBhIC8gdGhhdC5jaGFydERhdGEubGVuZ3RoCgkJCWEgPSBhLnRvRml4ZWQoMikKCQkJY2hhcnRkYXRhMy5wdXNoKGEpCgkJCWNoYXJ0ZGF0YTMucHVzaChtYXgpCgkJCWNoYXJ0ZGF0YTMucHVzaChtaW4pCgkJCXRoYXQubmV3Y2hhcnREYXRhID0gY2hhcnRkYXRhMwoJCX0sCgoJCS8v55S75Zu+CgkJZHJhd0NoYXJ0KG5hbWUpIHsKCQkJdmFyIG15Q2hhcnQgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobmFtZSkpCgkJCXZhciBkYXRhID0gdGhpcy5jaGFydERhdGEKCgkJCWNvbnN0IG9wdGlvbiA9IHsKCQkJCXRpdGxlOiB7fSwKCQkJCXRvb2x0aXA6IHsKCQkJCQl0cmlnZ2VyOiAnYXhpcycsCgkJCQkJZm9ybWF0dGVyOiBmdW5jdGlvbihwYXJhbXMpIHsKCQkJCQkJcGFyYW1zID0gcGFyYW1zWzBdCgkJCQkJCXZhciBkYXRlID0gbmV3IERhdGUocGFyYW1zLm5hbWUpCgkJCQkJCXZhciBob3VyID0gZGF0ZS5nZXRIb3VycygpCgkJCQkJCXZhciBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCkKCQkJCQkJdmFyIHNlY29uZHMgPSBkYXRlLmdldFNlY29uZHMoKQoJCQkJCQlpZiAoaG91ciA8IDEwKSB7CgkJCQkJCQlob3VyID0gJzAnICsgaG91cgoJCQkJCQl9CgkJCQkJCWlmIChtaW51dGVzIDwgMTApIHsKCQkJCQkJCW1pbnV0ZXMgPSAnMCcgKyBtaW51dGVzCgkJCQkJCX0KCQkJCQkJaWYgKHNlY29uZHMgPCAxMCkgewoJCQkJCQkJc2Vjb25kcyA9ICcwJyArIHNlY29uZHMKCQkJCQkJfQoJCQkJCQl2YXIgZGF0ZVN0ciA9IGhvdXIgKyAnOicgKyBtaW51dGVzICsgJzonICsgc2Vjb25kcwoJCQkJCQlyZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpICsgJy8nICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgJy8nICsgZGF0ZS5nZXREYXRlKCkgKyAnLycgKwoJCQkJCQkJZGF0ZVN0ciArICcgLSAnICsgcGFyYW1zLnZhbHVlWzFdCgkJCQkJfSwKCQkJCQlheGlzUG9pbnRlcjogewoJCQkJCQlhbmltYXRpb246IGZhbHNlLAoJCQkJCX0sCgkJCQl9LAoJCQkJeEF4aXM6IHsKCQkJCQl0eXBlOiAndGltZScsCgkJCQkJc3BsaXRMaW5lOiB7CgkJCQkJCXNob3c6IGZhbHNlLAoJCQkJCX0sCgkJCQl9LAoJCQkJeUF4aXM6IHsKCQkJCQl0eXBlOiAndmFsdWUnLAoJCQkJCWJvdW5kYXJ5R2FwOiBbMCwgJzEwMCUnXSwKCgkJCQkJYXhpc0xpbmU6IHsKCQkJCQkJc2hvdzogdHJ1ZSwgLy/ov5nph4znmoRzaG9355So5LqO6K6+572u5piv5ZCm5pi+56S6eei9tOmCo+S4gOadoee6vyDpu5jorqTkuLp0cnVlCgkJCQkJCWxpbmVTdHlsZTogewoJCQkJCQkJLy9saW5lU3R5bGXph4zpnaLlhpl56L206YKj5LiA5p2h57q/55qE5qC35byPCgkJCQkJCQl3aWR0aDogMSwgLy/ovbTnur/nmoTnspfnu4Yg5oiR5YaZ55qE5pivMiDmnIDlsI/kuLow77yM5YC85Li6MOeahOaXtuWAmee6v+makOiXjwoJCQkJCQl9LAoJCQkJCX0sCgkJCQl9LAoJCQkJc2VyaWVzOiBbewoJCQkJCXR5cGU6ICdsaW5lJywKCQkJCQlzaG93U3ltYm9sOiBmYWxzZSwKCQkJCQlhcmVhU3R5bGU6IHt9LAoJCQkJCWhvdmVyQW5pbWF0aW9uOiBmYWxzZSwKCQkJCQlkYXRhOiBkYXRhLAoJCQkJfSwgXSwKCQkJCWRhdGFab29tOiBbewoJCQkJCQl0eXBlOiAnaW5zaWRlJywKCQkJCQkJc3RhcnQ6IDAsCgkJCQkJCWVuZDogMjAsCgkJCQkJfSwKCQkJCQl7CgkJCQkJCXN0YXJ0OiAwLAoJCQkJCQllbmQ6IDIwLAoJCQkJCX0sCgkJCQldLAoJCQl9CgoJCQlteUNoYXJ0LnNldE9wdGlvbihvcHRpb24pCgoJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oKSB7CgkJCQlpZiAobXlDaGFydCkgewoJCQkJCS8vIOmYsuatouaLieWKqOeql+WPo+aXtu+8jHJlc2l6ZeaKpemUmQoJCQkJCW15Q2hhcnQucmVzaXplKCkKCQkJCX0KCQkJfSkKCQl9LAoJCWRyYXdDaGFydDIobmFtZSkgewoJCQl2YXIgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lKSkKCgkJCWNvbnN0IG9wdGlvbiA9IHsKCQkJCXRvb2x0aXA6IHt9LAoJCQkJeEF4aXM6IHsKCQkJCQl0eXBlOiAnY2F0ZWdvcnknLAoJCQkJCWRhdGE6IFsn5Z2H5YC8JywgJ+aegeWkp+WAvCcsICfmnoHlsI/lgLwnXSwKCQkJCX0sCgkJCQl5QXhpczogewoJCQkJCXR5cGU6ICd2YWx1ZScsCgkJCQl9LAoKCQkJCXNlcmllczogW3sKCQkJCQlkYXRhOiB0aGlzLm5ld2NoYXJ0RGF0YSwKCQkJCQl0eXBlOiAnYmFyJywKCQkJCQkvLyDlrp7njrDmlbDlrZflsZXnpLrlnKjmn7Hnirblm74KCQkJCQlpdGVtU3R5bGU6IHsKCQkJCQkJbm9ybWFsOiB7CgkJCQkJCQlsYWJlbDogewoJCQkJCQkJCXNob3c6IHRydWUsIC8v5byA5ZCv5pi+56S6CgkJCQkJCQkJcG9zaXRpb246ICd0b3AnLCAvL+WcqOS4iuaWueaYvuekugoJCQkJCQkJCXRleHRTdHlsZTogewoJCQkJCQkJCQkvL+aVsOWAvOagt+W8jwoJCQkJCQkJCQljb2xvcjogJ2JsYWNrJywKCQkJCQkJCQkJZm9udFNpemU6IDE2LAoJCQkJCQkJCX0sCgkJCQkJCQl9LAoJCQkJCQl9LAoJCQkJCX0sCgkJCQl9LCBdLAoJCQl9CgkJCW15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbikKCgkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHsKCQkJCWlmIChteUNoYXJ0KSB7CgkJCQkJLy8g6Ziy5q2i5ouJ5Yqo56qX5Y+j5pe277yMcmVzaXpl5oql6ZSZCgkJCQkJbXlDaGFydC5yZXNpemUoKQoJCQkJfQoJCQl9KQoJCX0sCgl9LAoJbW91bnRlZCgpIHsKCQkvL3RoaXMuZ2V0TXF0dCgpCgkJdGhpcy4kbmV4dFRpY2soKCkgPT4gewoJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCS8vIHNldFRpbWVvdXQKCQkJCXRoaXMuZHJhd0NoYXJ0KCdsaW5lY2hhcnQxJykKCQkJCXRoaXMuZHJhd0NoYXJ0MignbGluZWNoYXJ0MicpCgkJCX0sIDMwMCkKCQl9KQoJfSwKCWJlZm9yZURlc3Ryb3koKSB7CgkJdGhpcy5lbmRNcXR0KCkKCX0sCn0K"},{"version":3,"sources":["DataBoard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataBoard.vue","sourceRoot":"src/views/MainViews/Monitor","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 4%\">\r\n\t\t\t<el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>监控运维</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>仪表盘</el-breadcrumb-item>\r\n\t\t\t<span style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t<div style=\"font-weight: 700; color: #000000; display: flex; flex-direction: row;\" @click=\"goBack\"> 设备列表\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 设备列表 -->\r\n\t\t\t\t<i class=\"el-icon-arrow-right\" style=\"color: #9fa0a3;\"></i>\r\n\t\t\t</span>\r\n\t\t\t<el-breadcrumb-item>数据查看</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\t\t<div class=\"workspace\">\r\n\t\t\t<div class=\"title-bar\">\r\n\t\t\t\t<div v-if=\"device\">{{ device.sensor_name }}</div>\r\n\t\t\t\t<div style=\"display: flex\">\r\n\t\t\t\t\t<div style=\"margin-right: 5px\">\r\n\t\t\t\t\t\t<el-select size=\"small\" placeholder=\"请选择日期\" v-model=\"value\" @change=\"getChange\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"(item, index) in dateOptions\" :key=\"index\" :label=\"item.label\"\r\n\t\t\t\t\t\t\t\t:value=\"item.value\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<el-select size=\"small\" v-model=\"val\" @change=\"getType\" placeholder=\"请选择日期\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"(item, index) in datatype\" :key=\"index\" :label=\"item.label\"\r\n\t\t\t\t\t\t\t\t:value=\"item.value\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"scrollbox\">\r\n\t\t\t\t<el-scrollbar style=\"height: 100%; width: 100%\">\r\n\t\t\t\t\t<div class=\"data-board\">\r\n\t\t\t\t\t\t<div class=\"chartbox\">\r\n\t\t\t\t\t\t\t<div class=\"chart-container\">\r\n\t\t\t\t\t\t\t\t<div id=\"linechart1\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"width: 49%; height: 400px; border: 1px solid #aaaaaa; border-radius: 5px\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div id=\"linechart2\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"width: 49%; height: 400px; border: 1px solid #aaaaaa; border-radius: 5px\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style=\"border: 1px solid #aaaaaa; color: black; border-radius: 5px; height: 300px\">\r\n\t\t\t\t\t\t\t\t<el-table :data=\"chartData.slice((currentPage - 1) * pagesize, currentPage * pagesize)\"\r\n\t\t\t\t\t\t\t\t\theight=\"250\" style=\"width: 100%\">\r\n\t\t\t\t\t\t\t\t\t<el-table-column label=\"Time\" prop=\"name\"></el-table-column>\r\n\t\t\t\t\t\t\t\t\t<el-table-column label=\"数值\" prop=\"value[1]\"></el-table-column>\r\n\t\t\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle=\"width: 100%; height: 50px; display: flex; justify-content: center; align-items: center\">\r\n\t\t\t\t\t\t\t\t\t<el-pagination background layout=\"prev, pager, next\" :total=\"chartData.length\"\r\n\t\t\t\t\t\t\t\t\t\t:page-size=\"pagesize\" :current-page=\"currentPage\"\r\n\t\t\t\t\t\t\t\t\t\t@current-change=\"handleChange\"></el-pagination>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-scrollbar>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Cookies from 'js-cookie'\r\n\timport axios from 'axios'\r\n\timport mqtt from 'mqtt'\r\n\r\n\tString.prototype.replaceAll = function(s1, s2) {\r\n\t\treturn this.replace(new RegExp(s1, 'gm'), s2)\r\n\t}\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdevice: '',\r\n\t\t\t\tuser_id: '',\r\n\t\t\t\ttoken: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tcompany_id: '',\r\n\t\t\t\tdevice_id: '',\r\n\t\t\t\tfetchdata: [],\r\n\t\t\t\tdateOptions: [],\r\n\t\t\t\tdatatype: [],\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tval: '',\r\n\t\t\t\tchartData: [],\r\n\t\t\t\tchartData2: [],\r\n\t\t\t\tnewchartData: [],\r\n\t\t\t\tdata: [],\r\n\t\t\t\tmsg: '',\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpagesize: 10,\r\n\t\t\t\tlength: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getDateArray()\r\n\t\t\tthis.getDataType()\r\n\t\t\tthis.getRouteData()\r\n\t\t\tthis.getCookieData()\r\n\t\t\tthis.fetchDeviceData()\r\n\t\t\tthis.getMqtt()\r\n\t\t\t//this.length = this.sliceDataArray('2021-08-28').length\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmsg: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler(newval) {\r\n\t\t\t\t\tconst that = this\r\n\t\t\t\t\tthat.fetchdata.push(newval)\r\n\t\t\t\t\t//数据处理\r\n\t\t\t\t\tfor (var j = 0; j < that.fetchdata.length; j++) {\r\n\t\t\t\t\t\tdelete that.fetchdata[j].company_id\r\n\t\t\t\t\t\tdelete that.fetchdata[j].sensor_id\r\n\t\t\t\t\t\tdelete that.fetchdata[j].device_id\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar date = that.getBeforeDate(0)\r\n\t\t\t\t\tif (that.value === date) {\r\n\t\t\t\t\t\tvar chartData = that.sliceDataArray(date)\r\n\t\t\t\t\t\tvar type = chartData[0].data_format[0].name\r\n\t\t\t\t\t\tvar count\r\n\t\t\t\t\t\tfor (var k = 0; k < chartData[0].data_format.length; k++) {\r\n\t\t\t\t\t\t\tif (chartData[0].data_format[k].name === type) {\r\n\t\t\t\t\t\t\t\tcount = k\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar chartdata1 = []\r\n\t\t\t\t\t\tfor (var h = 0; h < chartData.length; h++) {\r\n\t\t\t\t\t\t\tvar b = {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tvalue: []\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tb.name = chartData[h].time\r\n\t\t\t\t\t\t\tb.value.push(chartData[h].time)\r\n\t\t\t\t\t\t\tb.value.push(parseInt(chartData[h].data[count]))\r\n\t\t\t\t\t\t\tchartdata1.push(b)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar chartData2 = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthat.chartData = chartData2\r\n\t\t\t\t\t\tvar chartdata3 = []\r\n\t\t\t\t\t\tvar a = 0\r\n\t\t\t\t\t\tvar max = that.chartData[0].value[1]\r\n\t\t\t\t\t\tvar min = that.chartData[0].value[1]\r\n\t\t\t\t\t\tfor (var p = 0; p < that.chartData.length; p++) {\r\n\t\t\t\t\t\t\ta = a + that.chartData[p].value[1]\r\n\t\t\t\t\t\t\tif (max < that.chartData[p].value[1]) {\r\n\t\t\t\t\t\t\t\tmax = that.chartData[p].value[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (min > that.chartData[p].value[1]) {\r\n\t\t\t\t\t\t\t\tmin = that.chartData[p].value[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ta = a / that.chartData.length\r\n\t\t\t\t\t\ta = a.toFixed(2)\r\n\t\t\t\t\t\tchartdata3.push(a)\r\n\t\t\t\t\t\tchartdata3.push(max)\r\n\t\t\t\t\t\tchartdata3.push(min)\r\n\t\t\t\t\t\tthat.newchartData = chartdata3\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tchartData: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler() {\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t// setTimeout\r\n\t\t\t\t\t\t\tthis.drawChart('linechart1')\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tnewchartData: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler() {\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t// setTimeout\r\n\t\t\t\t\t\t\tthis.drawChart2('linechart2')\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgoBack() {\r\n\t\t\t\tthis.$router.go(-1)\r\n\t\t\t},\r\n\t\t\thandleChange(val) {\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\tconsole.log(val)\r\n\t\t\t\tthis.currentPage = val\r\n\t\t\t},\r\n\t\t\t//获取用户信息\r\n\t\t\tgetCookieData() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.user_id = Cookies.get('user_id')\r\n\t\t\t\tthat.token = Cookies.get('token')\r\n\t\t\t\tthat.company_id = Cookies.get('company_id')\r\n\t\t\t},\r\n\r\n\t\t\t//获取路由信息\r\n\t\t\tgetRouteData() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar new_device = decodeURIComponent(that.$route.query.device)\r\n\t\t\t\tthat.device = JSON.parse(new_device)\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\tconsole.log(that.device)\r\n\t\t\t},\r\n\r\n\t\t\t//获取时间选择器\r\n\t\t\tgetBeforeDate(n) {\r\n\t\t\t\tvar d = new Date()\r\n\t\t\t\tvar year = d.getFullYear()\r\n\t\t\t\tvar mon = d.getMonth() + 1\r\n\t\t\t\tvar day = d.getDate()\r\n\t\t\t\tif (day <= n) {\r\n\t\t\t\t\tif (mon > 1) {\r\n\t\t\t\t\t\tmon = mon - 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tyear = year - 1\r\n\t\t\t\t\t\tmon = 12\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\td.setDate(d.getDate() - n)\r\n\t\t\t\tyear = d.getFullYear()\r\n\t\t\t\tmon = d.getMonth() + 1\r\n\t\t\t\tday = d.getDate()\r\n\t\t\t\tvar s = year + '-' + (mon < 10 ? '0' + mon : mon) + '-' + (day < 10 ? '0' + day : day)\r\n\t\t\t\treturn s\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t//console.log(s)\r\n\t\t\t},\r\n\t\t\tgetDateArray() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tfor (var i = 0; i < 5; i++) {\r\n\t\t\t\t\tvar a = {}\r\n\t\t\t\t\ta.value = that.getBeforeDate(i)\r\n\t\t\t\t\ta.label = that.getBeforeDate(i)\r\n\t\t\t\t\tthat.dateOptions.push(a)\r\n\t\t\t\t}\r\n\t\t\t\tthat.value = that.dateOptions[0].value\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\tconsole.log(that.dateOptions)\r\n\t\t\t},\r\n\r\n\t\t\t//获取数据类型选择器\r\n\t\t\tgetDataType() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar new_device = decodeURIComponent(that.$route.query.device)\r\n\t\t\t\tvar device1 = JSON.parse(new_device)\r\n\t\t\t\tfor (var i = 0; i < device1.data_format.length; i++) {\r\n\t\t\t\t\tvar a = {}\r\n\t\t\t\t\ta.value = device1.data_format[i].name\r\n\t\t\t\t\ta.label = device1.data_format[i].name\r\n\t\t\t\t\tthat.datatype[i] = a\r\n\t\t\t\t}\r\n\t\t\t\tthat.val = that.datatype[0].value\r\n\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\tconsole.log(that.datatype)\r\n\t\t\t},\r\n\r\n\t\t\t//时间转换\r\n\t\t\tgetYMDHMS(timestamp) {\r\n\t\t\t\tlet time = new Date(timestamp)\r\n\t\t\t\tlet year = time.getFullYear()\r\n\t\t\t\tlet month = time.getMonth() + 1\r\n\t\t\t\tlet date = time.getDate()\r\n\t\t\t\tlet hours = time.getHours()\r\n\t\t\t\tlet minute = time.getMinutes()\r\n\t\t\t\tlet second = time.getSeconds()\r\n\r\n\t\t\t\tif (month < 10) {\r\n\t\t\t\t\tmonth = '0' + month\r\n\t\t\t\t}\r\n\t\t\t\tif (date < 10) {\r\n\t\t\t\t\tdate = '0' + date\r\n\t\t\t\t}\r\n\t\t\t\tif (hours < 10) {\r\n\t\t\t\t\thours = '0' + hours\r\n\t\t\t\t}\r\n\t\t\t\tif (minute < 10) {\r\n\t\t\t\t\tminute = '0' + minute\r\n\t\t\t\t}\r\n\t\t\t\tif (second < 10) {\r\n\t\t\t\t\tsecond = '0' + second\r\n\t\t\t\t}\r\n\t\t\t\treturn year + '-' + month + '-' + date + ' ' + hours + ':' + minute + ':' + second\r\n\t\t\t},\r\n\r\n\t\t\t//连接mqtt\r\n\t\t\tgetMqtt() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tconst user_id = Cookies.get('user_id')\r\n\t\t\t\tconst password = Cookies.get('password')\r\n\t\t\t\tconst company_id = Cookies.get('company_id')\r\n\t\t\t\t// var new_device = decodeURIComponent(that.$route.query.device)\r\n\t\t\t\t// const device2 = JSON.parse(new_device)\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\t// 超时时间\r\n\t\t\t\t\tconnectTimeout: 4000,\r\n\t\t\t\t\t// 认证信息\r\n\t\t\t\t\tclientId: user_id,\r\n\t\t\t\t\tusername: user_id,\r\n\t\t\t\t\tpassword: password, //未加密的password\r\n\t\t\t\t\t// 心跳时间\r\n\t\t\t\t\tkeepalive: 60,\r\n\t\t\t\t\tclean: true,\r\n\t\t\t\t}\r\n\t\t\t\t// WebSocket 连接字符串\r\n\t\t\t\t// const constWebSocket_URL='ws://localhost:8083/mqtt'\r\n\t\t\t\t// TCP/TLS 连接字符串，仅限 Node.js 环境\r\n\t\t\t\tconst TCP_URL = 'ws://116.63.40.126:8083/mqtt'\r\n\t\t\t\tconst client = mqtt.connect(TCP_URL, options)\r\n\t\t\t\tvar url = 'update' + '/' + company_id + '/device_' + that.device.sensor_id\r\n\t\t\t\tclient.on('connect', () => {\r\n\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\tconsole.log('连接成功')\r\n\t\t\t\t\tclient.subscribe(url, err => {\r\n\t\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\t\tconsole.log(err || '订阅成功')\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tclient.on('reconnect', error => {\r\n\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\tconsole.log('正在重连:', error)\r\n\t\t\t\t\tclient.end()\r\n\t\t\t\t\tCookies.remove('token')\r\n\t\t\t\t\tlocation.reload()\r\n\t\t\t\t})\r\n\t\t\t\tclient.on('error', error => {\r\n\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\tconsole.log('连接失败:', error)\r\n\t\t\t\t})\r\n\t\t\t\tclient.on('message', function(topic, payload) {\r\n\t\t\t\t\t//var requestId = topic.slice('update/1/1'.length)\r\n\t\t\t\t\tvar messageData = JSON.parse(payload.toString())\r\n\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\tconsole.log('messageData:', messageData)\r\n\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\tdata_format: [],\r\n\t\t\t\t\t\tsensor_id: '',\r\n\t\t\t\t\t\ttime: '',\r\n\t\t\t\t\t\tdevice_id: '',\r\n\t\t\t\t\t\tcompany_id: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.company_id = messageData.company_id\r\n\t\t\t\t\tdata.sensor_id = messageData.sensor_id\r\n\t\t\t\t\tdata.device_id = messageData.device_id\r\n\t\t\t\t\tdata.data = messageData.data_upload\r\n\t\t\t\t\tdata.data_format = that.device.data_format\r\n\t\t\t\t\tdata.time = that.getYMDHMS(parseInt(messageData.timestamp))\r\n\t\t\t\t\tthat.msg = data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tendMqtt() {\r\n\t\t\t\tconst user_id = Cookies.get('user_id')\r\n\t\t\t\tconst password = Cookies.get('password')\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\t// 超时时间\r\n\t\t\t\t\tconnectTimeout: 4000,\r\n\t\t\t\t\t// 认证信息\r\n\t\t\t\t\tclientId: user_id,\r\n\t\t\t\t\tusername: user_id,\r\n\t\t\t\t\tpassword: password, //未加密的password\r\n\t\t\t\t\t// 心跳时间\r\n\t\t\t\t\tkeepalive: 60,\r\n\t\t\t\t\tclean: true,\r\n\t\t\t\t}\r\n\t\t\t\t// WebSocket 连接字符串\r\n\t\t\t\t// const constWebSocket_URL='ws://localhost:8083/mqtt'\r\n\t\t\t\t// TCP/TLS 连接字符串，仅限 Node.js 环境\r\n\t\t\t\tconst TCP_URL = 'ws://116.63.40.126:8083/mqtt'\r\n\t\t\t\tconst client = mqtt.connect(TCP_URL, options)\r\n\t\t\t\tclient.end()\r\n\t\t\t},\r\n\r\n\t\t\t//获取设备所有数据\r\n\t\t\tfetchDeviceData() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar url = 'https://site.maple.today/IOTplatform/ServerMain?requestCode=027'\r\n\t\t\t\taxios\r\n\t\t\t\t\t.get(url, {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tuser_id: that.user_id,\r\n\t\t\t\t\t\t\tcompany_id: that.company_id,\r\n\t\t\t\t\t\t\ttoken: that.token,\r\n\t\t\t\t\t\t\tdevice_id: that.device.sensor_id,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\t\tfor (var i = 0; i < response.data.data.length; i++) {\r\n\t\t\t\t\t\t\tvar fetchdata1 = response.data.data[i].data.replace('[', '')\r\n\t\t\t\t\t\t\tvar fetchdata2 = fetchdata1.replace(']', '')\r\n\t\t\t\t\t\t\tvar fetchdata3 = fetchdata2.replaceAll('\"', '')\r\n\t\t\t\t\t\t\tresponse.data.data[i].data = fetchdata3.split(',')\r\n\t\t\t\t\t\t\tresponse.data.data[i].data_format = that.device.data_format\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.fetchdata = response.data.data\r\n\r\n\t\t\t\t\t\t//数据处理\r\n\t\t\t\t\t\tfor (var j = 0; j < that.fetchdata.length; j++) {\r\n\t\t\t\t\t\t\tdelete that.fetchdata[j].company_id\r\n\t\t\t\t\t\t\tdelete that.fetchdata[j].sensor_id\r\n\t\t\t\t\t\t\tdelete that.fetchdata[j].device_id\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar date = that.getBeforeDate(0)\r\n\t\t\t\t\t\tvar chartData = that.sliceDataArray(date)\r\n\t\t\t\t\t\tvar type = chartData[0].data_format[0].name\r\n\t\t\t\t\t\tvar count\r\n\t\t\t\t\t\tfor (var k = 0; k < chartData[0].data_format.length; k++) {\r\n\t\t\t\t\t\t\tif (chartData[0].data_format[k].name === type) {\r\n\t\t\t\t\t\t\t\tcount = k\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar chartdata1 = []\r\n\t\t\t\t\t\tfor (var h = 0; h < chartData.length; h++) {\r\n\t\t\t\t\t\t\tvar b = {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tvalue: []\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tb.name = chartData[h].time\r\n\t\t\t\t\t\t\tb.value.push(chartData[h].time)\r\n\t\t\t\t\t\t\tb.value.push(parseInt(chartData[h].data[count]))\r\n\t\t\t\t\t\t\tchartdata1.push(b)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.chartData = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tvar chartdata3 = []\r\n\t\t\t\t\t\tvar a = 0\r\n\t\t\t\t\t\tvar max = that.chartData[0].value[1]\r\n\t\t\t\t\t\tvar min = that.chartData[0].value[1]\r\n\t\t\t\t\t\tfor (var p = 0; p < that.chartData.length; p++) {\r\n\t\t\t\t\t\t\ta = a + that.chartData[p].value[1]\r\n\t\t\t\t\t\t\tif (max < that.chartData[p].value[1]) {\r\n\t\t\t\t\t\t\t\tmax = that.chartData[p].value[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (min > that.chartData[p].value[1]) {\r\n\t\t\t\t\t\t\t\tmin = that.chartData[p].value[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ta = a / that.chartData.length\r\n\t\t\t\t\t\ta = a.toFixed(2)\r\n\t\t\t\t\t\tchartdata3.push(a)\r\n\t\t\t\t\t\tchartdata3.push(max)\r\n\t\t\t\t\t\tchartdata3.push(min)\r\n\t\t\t\t\t\tthat.newchartData = chartdata3\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t// eslint-disable-next-line no-console\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//根据日期截取数据\r\n\t\t\tsliceDataArray(chosendate) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar chartData = []\r\n\t\t\t\tfor (var i = 0; i < that.fetchdata.length; i++) {\r\n\t\t\t\t\tvar str = that.fetchdata[i].time.slice(0, 10)\r\n\t\t\t\t\tif (str === chosendate) {\r\n\t\t\t\t\t\tchartData.push(that.fetchdata[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn chartData\r\n\t\t\t},\r\n\r\n\t\t\t//日期选择\r\n\t\t\tgetChange(val) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.value = val\r\n\t\t\t\tvar val1 = val\r\n\t\t\t\t// var date = that.getBeforeDate(0)\r\n\t\t\t\t// if (val1 !== date) {\r\n\t\t\t\tvar chartData = that.sliceDataArray(val1)\r\n\t\t\t\tthat.length = chartData.length\r\n\t\t\t\tif (that.length === 0) {\r\n\t\t\t\t\tthat.chartData = []\r\n\t\t\t\t\tthat.newchartData = []\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar count\r\n\t\t\t\tfor (var k = 0; k < chartData[0].data_format.length; k++) {\r\n\t\t\t\t\tif (chartData[0].data_format[k].name === that.val) {\r\n\t\t\t\t\t\tcount = k\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar chartdata1 = []\r\n\t\t\t\tfor (var h = 0; h < chartData.length; h++) {\r\n\t\t\t\t\tvar b = {\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tvalue: []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tb.name = chartData[h].time\r\n\t\t\t\t\tb.value.push(chartData[h].time)\r\n\t\t\t\t\tb.value.push(parseInt(chartData[h].data[count]))\r\n\t\t\t\t\tchartdata1.push(b)\r\n\t\t\t\t}\r\n\t\t\t\tthat.chartData = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t})\r\n\t\t\t\tthat.chartData2 = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t})\r\n\t\t\t\tvar chartdata3 = []\r\n\t\t\t\tvar a = 0\r\n\t\t\t\tvar max = that.chartData[0].value[1]\r\n\t\t\t\tvar min = that.chartData[0].value[1]\r\n\t\t\t\tfor (var p = 0; p < that.chartData.length; p++) {\r\n\t\t\t\t\ta = a + that.chartData[p].value[1]\r\n\t\t\t\t\tif (max < that.chartData[p].value[1]) {\r\n\t\t\t\t\t\tmax = that.chartData[p].value[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (min > that.chartData[p].value[1]) {\r\n\t\t\t\t\t\tmin = that.chartData[p].value[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ta = a / that.chartData.length\r\n\t\t\t\ta = a.toFixed(2)\r\n\t\t\t\tchartdata3.push(a)\r\n\t\t\t\tchartdata3.push(max)\r\n\t\t\t\tchartdata3.push(min)\r\n\t\t\t\tthat.newchartData = chartdata3\r\n\r\n\t\t\t\t// }\r\n\t\t\t\t// if (val1 === date) {\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\r\n\t\t\t//数据类型选择\r\n\t\t\tgetType(val) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.val = val\r\n\t\t\t\tvar chartData = that.sliceDataArray(that.value)\r\n\t\t\t\tvar type = val\r\n\t\t\t\tvar count\r\n\t\t\t\tfor (var k = 0; k < chartData[0].data_format.length; k++) {\r\n\t\t\t\t\tif (chartData[0].data_format[k].name === type) {\r\n\t\t\t\t\t\tcount = k\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar chartdata1 = []\r\n\t\t\t\tfor (var h = 0; h < chartData.length; h++) {\r\n\t\t\t\t\tvar b = {\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tvalue: []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tb.name = chartData[h].time\r\n\t\t\t\t\tb.value.push(chartData[h].time)\r\n\t\t\t\t\tb.value.push(parseInt(chartData[h].data[count]))\r\n\t\t\t\t\tchartdata1.push(b)\r\n\t\t\t\t}\r\n\t\t\t\tthat.chartData = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t})\r\n\t\t\t\tthat.chartData2 = chartdata1.sort(function(a, b) {\r\n\t\t\t\t\treturn a.name > b.name ? 1 : -1\r\n\t\t\t\t})\r\n\t\t\t\tvar chartdata3 = []\r\n\t\t\t\tvar a = 0\r\n\t\t\t\tvar max = that.chartData[0].value[1]\r\n\t\t\t\tvar min = that.chartData[0].value[1]\r\n\t\t\t\tfor (var p = 0; p < that.chartData.length; p++) {\r\n\t\t\t\t\ta = a + that.chartData[p].value[1]\r\n\t\t\t\t\tif (max < that.chartData[p].value[1]) {\r\n\t\t\t\t\t\tmax = that.chartData[p].value[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (min > that.chartData[p].value[1]) {\r\n\t\t\t\t\t\tmin = that.chartData[p].value[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ta = a / that.chartData.length\r\n\t\t\t\ta = a.toFixed(2)\r\n\t\t\t\tchartdata3.push(a)\r\n\t\t\t\tchartdata3.push(max)\r\n\t\t\t\tchartdata3.push(min)\r\n\t\t\t\tthat.newchartData = chartdata3\r\n\t\t\t},\r\n\r\n\t\t\t//画图\r\n\t\t\tdrawChart(name) {\r\n\t\t\t\tvar myChart = this.$echarts.init(document.getElementById(name))\r\n\t\t\t\tvar data = this.chartData\r\n\r\n\t\t\t\tconst option = {\r\n\t\t\t\t\ttitle: {},\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\t\tformatter: function(params) {\r\n\t\t\t\t\t\t\tparams = params[0]\r\n\t\t\t\t\t\t\tvar date = new Date(params.name)\r\n\t\t\t\t\t\t\tvar hour = date.getHours()\r\n\t\t\t\t\t\t\tvar minutes = date.getMinutes()\r\n\t\t\t\t\t\t\tvar seconds = date.getSeconds()\r\n\t\t\t\t\t\t\tif (hour < 10) {\r\n\t\t\t\t\t\t\t\thour = '0' + hour\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (minutes < 10) {\r\n\t\t\t\t\t\t\t\tminutes = '0' + minutes\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (seconds < 10) {\r\n\t\t\t\t\t\t\t\tseconds = '0' + seconds\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar dateStr = hour + ':' + minutes + ':' + seconds\r\n\t\t\t\t\t\t\treturn date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate() + '/' +\r\n\t\t\t\t\t\t\t\tdateStr + ' - ' + params.value[1]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\tanimation: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: 'time',\r\n\t\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\tboundaryGap: [0, '100%'],\r\n\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: true, //这里的show用于设置是否显示y轴那一条线 默认为true\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\t//lineStyle里面写y轴那一条线的样式\r\n\t\t\t\t\t\t\t\twidth: 1, //轴线的粗细 我写的是2 最小为0，值为0的时候线隐藏\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tshowSymbol: false,\r\n\t\t\t\t\t\tareaStyle: {},\r\n\t\t\t\t\t\thoverAnimation: false,\r\n\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tdataZoom: [{\r\n\t\t\t\t\t\t\ttype: 'inside',\r\n\t\t\t\t\t\t\tstart: 0,\r\n\t\t\t\t\t\t\tend: 20,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstart: 0,\r\n\t\t\t\t\t\t\tend: 20,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmyChart.setOption(option)\r\n\r\n\t\t\t\twindow.addEventListener('resize', function() {\r\n\t\t\t\t\tif (myChart) {\r\n\t\t\t\t\t\t// 防止拉动窗口时，resize报错\r\n\t\t\t\t\t\tmyChart.resize()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdrawChart2(name) {\r\n\t\t\t\tvar myChart = this.$echarts.init(document.getElementById(name))\r\n\r\n\t\t\t\tconst option = {\r\n\t\t\t\t\ttooltip: {},\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\tdata: ['均值', '极大值', '极小值'],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\tdata: this.newchartData,\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\t// 实现数字展示在柱状图\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\tshow: true, //开启显示\r\n\t\t\t\t\t\t\t\t\tposition: 'top', //在上方显示\r\n\t\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t\t\t//数值样式\r\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t}\r\n\t\t\t\tmyChart.setOption(option)\r\n\r\n\t\t\t\twindow.addEventListener('resize', function() {\r\n\t\t\t\t\tif (myChart) {\r\n\t\t\t\t\t\t// 防止拉动窗口时，resize报错\r\n\t\t\t\t\t\tmyChart.resize()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//this.getMqtt()\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// setTimeout\r\n\t\t\t\t\tthis.drawChart('linechart1')\r\n\t\t\t\t\tthis.drawChart2('linechart2')\r\n\t\t\t\t}, 300)\r\n\t\t\t})\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.endMqtt()\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.workspace {\r\n\t\twidth: 100%;\r\n\t\theight: 96%;\r\n\t\tbackground: rgb(225, 243, 243);\r\n\t\tborder: black;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\t}\r\n\r\n\t.scrollbox {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.data-board {\r\n\t\tmargin-top: 15px;\r\n\t\theight: 800px;\r\n\t\twidth: 98%;\r\n\t\tmargin-left: 1%;\r\n\t\tmargin-right: 1%;\r\n\t\tbackground: white;\r\n\t}\r\n\r\n\t.mybox {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\r\n\t.title-bar {\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t\tbackground: white;\r\n\t\tpadding-left: 1%;\r\n\t\tpadding-right: 1%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.titleBox {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.titleitem {\r\n\t\tflex: 1;\r\n\t\theight: 50px;\r\n\t\tline-height: 50px;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 20px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.card-container {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 20px;\r\n\t\twidth: 96%;\r\n\t\tmargin-left: 2%;\r\n\t}\r\n\r\n\t.card-item {\r\n\t\twidth: 200px;\r\n\t\theight: 60px;\r\n\t\tborder: 1px solid black;\r\n\t\tborder-radius: 5px;\r\n\t\tbackground: rgb(78, 124, 224);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.chartbox {\r\n\t\twidth: 98%;\r\n\t\tmargin-top: 10px;\r\n\t\tmargin-left: 1%;\r\n\t\tmargin-right: 1%;\r\n\t\tbackground: white;\r\n\t\theight: 700px;\r\n\t}\r\n\r\n\t.chart-container {\r\n\t\theight: 410px;\r\n\t\tpadding-top: 10px;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\r\n\t.el-scrollbar .el-scrollbar__wrap {\r\n\t\toverflow-x: hidden;\r\n\t}\r\n</style>\n"]}]}
{"remainingRequest":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shuaisujun/Desktop/IOT/src/views/MainViews/DeviceMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shuaisujun/Desktop/IOT/src/views/MainViews/DeviceMap.vue","mtime":1629991330763},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEFNYXBNYW5hZ2VyIH0gZnJvbSAndnVlLWFtYXAnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnOwoKCWV4cG9ydCBkZWZhdWx0ewoJCW5hbWU6ICdEZXZpY2VNYXAnLAoJCWRhdGEoKSB7CgkJCXJldHVybnsKCQkJCWRldmljZUxpc3Q6IFtdLA0KCQkJCWFsbGRldmljZTogW10sCgkJCQljb21wYW55TGlzdDogW10sDQoJCQkJbXljb21wYW55OiB7fSwKCQkJCW1hcDogJycsDQoJCQkJaW5mb1dpbmRvdzogJycsCgkJCQlkZXZpY2VudW06ICcnLAoJCQkJZmFjdG9yeW51bTogJycsDQoJCQkJbWFya2VyOiAnJywNCgkJCQl0b2tlbjogJycsDQoJCQkJdXNlcklEOiAnJywNCgkJCQljb21wYW55SUQ6ICcnLA0KCQkJCW1vZGFsOiAnJwoJCQl9CgkJfSwKCQljcmVhdGVkKCl7CgkJCXRoaXMudG9rZW4gPSBDb29raWVzLmdldCgidG9rZW4iKTsKCQkJdGhpcy51c2VySUQgPSBDb29raWVzLmdldCgidXNlcl9pZCIpOwoJCQl0aGlzLmNvbXBhbnlJRCA9IENvb2tpZXMuZ2V0KCJjb21wYW55X2lkIik7CgkJCXRoaXMubW9kYWwgPSBDb29raWVzLmdldCgibW9kYWwiKTsNCgkJCWlmKHRoaXMubW9kYWw9PT0nMycpew0KCQkJCXRoaXMuZmV0Y2hEYXRhKCk7DQoJCQl9ZWxzZXsNCgkJCQl0aGlzLmZldGNoYURhdGEoKTsNCgkJCX0KCQl9LA0KCQltb3VudGVkKCl7DQoJCQl0aGlzLmxvYWRtYXAoKTsNCgkJfSwKCQltZXRob2RzOnsKCQkJY2hhbmdlVGltZSgpewoJCQkgICAgdmFyIHRoYXQgPSB0aGlzOwoJCQkgICAgZm9yKHZhciBpID0gMDtpIDwgdGhhdC5jb21wYW55TGlzdC5sZW5ndGg7aSsrKXsKCQkJICAgICB0aGF0LmNvbXBhbnlMaXN0W2ldLmNyZWF0ZV90aW1lID0gdGhhdC50aW1lc3RhbXBUb1RpbWUodGhhdC5jb21wYW55TGlzdFtpXS5jcmVhdGVfdGltZSk7CgkJCSAgICB9CgkJCSAgIH0sCgkJCSAgIHRpbWVzdGFtcFRvVGltZSh0aW1lc3RhbXApIHsKCQkJICAgICAgICB2YXIgZGF0ZT1uZXcgRGF0ZShwYXJzZUludCh0aW1lc3RhbXApKTsKCQkJICAgICAgICAgICAgICAgdmFyIHllYXI9ZGF0ZS5nZXRGdWxsWWVhcigpOwoJCQkgICAgICAgICAgICAgICB2YXIgbW9uID0gZGF0ZS5nZXRNb250aCgpKzE7CgkJCSAgICAgICAgICAgICAgIHZhciBkYXkgPSBkYXRlLmdldERhdGUoKTsKCQkJICAgICAgICAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpOwoJCQkgICAgICAgICAgICAgICB2YXIgbWludSA9IGRhdGUuZ2V0TWludXRlcygpOwoJCQkgICAgICAgICAgICAgICB2YXIgc2VjID0gZGF0ZS5nZXRTZWNvbmRzKCk7CgkJCSAgICAgICAKCQkJICAgICAgICAgICAgICAgcmV0dXJuIHllYXIrJy8nK21vbisnLycrZGF5KycgJytob3VycysnOicrbWludSsnOicrc2VjOwoJCQkgICB9LAoJCQlsb2FkbWFwKCl7CgkJCQl2YXIgdGhhdCA9IHRoaXMKCQkJCXRoaXMubWFwID0gbmV3IEFNYXAuTWFwKCdjb250YWluZXIxJywgewoJCQkJCWNlbnRlcjogWzExOC43OTIyMjEsIDMxLjkzODI1NF0sCgkJCQkJem9vbTogOAoJCQkJfSk7CgkJCX0sCgkJCWZldGNoRGF0YSgpewoJCQkJdmFyIHRoYXQgPSB0aGlzCgkJCQlheGlvcy5nZXQoCgkJCQkJImh0dHBzOi8vc2l0ZS5tYXBsZS50b2RheS9JT1RwbGF0Zm9ybS9TZXJ2ZXJNYWluIiwKCQkJCQl7CgkJCQkJCXBhcmFtczp7CgkJCQkJCQlyZXF1ZXN0Q29kZTogJzAxMScsCgkJCQkJCQl1c2VyX2lkOiB0aGF0LnVzZXJJRCwKCQkJCQkJCXRva2VuOiB0aGF0LnRva2VuCgkJCQkJCX0KCQkJCQl9KQoJCQkJCS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKCQkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgkJCQkJCXRoYXQuY29tcGFueUxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CgkJCQkJCXRoYXQuY2hhbmdlVGltZSgpOw0KCQkJCQkJdGhhdC5wdXRDRGF0YSgpOw0KCQkJCQkJdGhhdC5mZXRjaEREYXRhKCk7CgkJCQkJfSkKCQkJCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewoJCQkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCQkJfSkKCQkJfSwNCgkJCWZldGNoRERhdGEoKXsNCgkJCQl2YXIgdGhhdCA9IHRoaXMNCgkJCQlheGlvcy5nZXQoDQoJCQkJCSJodHRwczovL3NpdGUubWFwbGUudG9kYXkvSU9UcGxhdGZvcm0vU2VydmVyTWFpbiIsDQoJCQkJCXsNCgkJCQkJCXBhcmFtczp7DQoJCQkJCQkJcmVxdWVzdENvZGU6ICcwMTknLA0KCQkJCQkJCXVzZXJfaWQ6IHRoYXQudXNlcklELA0KCQkJCQkJCXRva2VuOiB0aGF0LnRva2VuLA0KCQkJCQkJfQ0KCQkJCQl9KQ0KCQkJCQkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7DQoJCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCgkJCQkJCXRoYXQuYWxsZGV2aWNlID0gcmVzcG9uc2UuZGF0YS5kYXRhOw0KCQkJCQkJdGhhdC5kZXZpY2VudW0gPSB0aGF0LmFsbGRldmljZS5sZW5ndGg7DQoJCQkJCX0pDQoJCQkJCS5jYXRjaChmdW5jdGlvbihlcnJvcil7DQoJCQkJCQljb25zb2xlLmxvZyhlcnJvcik7DQoJCQkJCX0pDQoJCQl9LAoJCQlwdXRDRGF0YSgpewoJCQkJdmFyIHRoYXQgPSB0aGlzOw0KCQkJCXRoYXQuaW5mb1dpbmRvdyA9IG5ldyBBTWFwLkluZm9XaW5kb3coe29mZnNldDogbmV3IEFNYXAuUGl4ZWwoMCwgLTIwKX0pOwoJCQkJZm9yKHZhciBpID0gMDsgaSA8IHRoYXQuY29tcGFueUxpc3QubGVuZ3RoOyBpKyspew0KCQkJCQl2YXIgY29udGVudCA9IFtdOw0KCQkJCQljb250ZW50LnB1c2goIjxoND4iICsgdGhhdC5jb21wYW55TGlzdFtpXS5jb21wYW55X25hbWUgKyAiPC9oND4iKTsNCgkJCQkJY29udGVudC5wdXNoKCI8cD7lhazlj7hJRDoiICsgdGhhdC5jb21wYW55TGlzdFtpXS5jb21wYW55X2lkICsgIjwvcD4iKTsNCgkJCQkJY29udGVudC5wdXNoKCI8cD7liJvlu7rml7bpl7Q6IiArIHRoYXQuY29tcGFueUxpc3RbaV0uY3JlYXRlX3RpbWUgKyAiPC9wPiIpOw0KCQkJCQkKCQkJCQl0aGF0Lm1hcmtlciA9ICBuZXcgQU1hcC5NYXJrZXIoewoJCQkJCQlwb3NpdGlvbjogbmV3IEFNYXAuTG5nTGF0KHRoYXQuY29tcGFueUxpc3RbaV0ubG9uZ2l0dWRlLHRoYXQuY29tcGFueUxpc3RbaV0ubGF0aXR1ZGUpLAoJCQkJCQlvZmZzZXQ6IG5ldyBBTWFwLlBpeGVsKC0xMCwgLTEwKSwKCQkJCQkJaWNvbjogbmV3IEFNYXAuSWNvbih7ICAgICAgICAgICAgDQoJCQkJCQkJaW1hZ2U6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9sb2NhdGUucG5nIiksDQoJCQkJCQkJc2l6ZTogbmV3IEFNYXAuU2l6ZSg1MiwgNTIpLCAgLy/lm77moIflpKflsI8NCgkJCQkJCQlpbWFnZVNpemU6IG5ldyBBTWFwLlNpemUoMzIsIDMyKQ0KCQkJCQkJfSksCgkJCQkJCXRpdGxlOiB0aGF0LmNvbXBhbnlMaXN0W2ldLmNvbXBhbnlfbmFtZQoJCQkJCX0pOw0KCQkJCQkNCgkJCQkJdGhhdC5tYXJrZXIuY29udGVudCA9IGNvbnRlbnQuam9pbigiIik7DQoJCQkJCXRoYXQubWFya2VyLm9uKCdjbGljaycsIHRoYXQubWFya2VyQ2xpY2spOw0KCQkJCQl0aGF0Lm1hcmtlci5lbWl0KCdjbGljaycsIHt0YXJnZXQ6IHRoYXQubWFya2VyfSk7Ly/pu5jorqTliJ3lp4vljJbkuI3lh7rnjrDkv6Hmga/nqpfkvZMs5omT5byA5Yid5aeL5YyW5bCx5Ye6546w5L+h5oGv56qX5L2TDQoJCQkJCQ0KCQkJCQl0aGF0Lm1hcmtlci5zZXRNYXAodGhhdC5tYXApOwoJCQkJfQ0KCQkJCXRoYXQuZmFjdG9yeW51bSA9IHRoYXQuY29tcGFueUxpc3QubGVuZ3RoOwoJCQl9LA0KCQkJbWFya2VyQ2xpY2soZSl7DQoJCQkJdmFyIHRoYXQgPSB0aGlzOw0KCQkJCXRoYXQuaW5mb1dpbmRvdy5zZXRDb250ZW50KGUudGFyZ2V0LmNvbnRlbnQpOw0KCQkJCXRoYXQuaW5mb1dpbmRvdy5vcGVuKHRoYXQubWFwLCBlLnRhcmdldC5nZXRQb3NpdGlvbigpKTsNCgkJCX0sDQoJCQlmZXRjaGFEYXRhKCl7DQoJCQkJdmFyIHRoYXQgPSB0aGlzOw0KCQkJCWNvbnNvbGUubG9nKHRoYXQuY29tcGFueUlEKTsNCgkJCQljb25zb2xlLmxvZyh0aGF0LnVzZXJJRCk7DQoJCQkJYXhpb3MuZ2V0KA0KCQkJCQkiaHR0cHM6Ly9zaXRlLm1hcGxlLnRvZGF5L0lPVHBsYXRmb3JtL1NlcnZlck1haW4iLA0KCQkJCQl7DQoJCQkJCQlwYXJhbXM6ew0KCQkJCQkJCXJlcXVlc3RDb2RlOiAnMDIxJywNCgkJCQkJCQl1c2VyX2lkOiB0aGF0LnVzZXJJRCwNCgkJCQkJCQl0b2tlbjogdGhhdC50b2tlbiwNCgkJCQkJCQljb21wYW55X2lkOiB0aGF0LmNvbXBhbnlJRA0KCQkJCQkJfQ0KCQkJCQl9KQ0KCQkJCQkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7DQoJCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCgkJCQkJCXRoYXQubXljb21wYW55ID0gcmVzcG9uc2UuZGF0YS5kYXRhOw0KCQkJCQkJdGhhdC5wdXRHRGF0YSgpOw0KCQkJCQl9KQ0KCQkJCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipew0KCQkJCQkJY29uc29sZS5sb2coZXJyb3IpOw0KCQkJCQl9KQ0KCQkJCWlmKHRoYXQuY29tcGFueUlEID09PSAnMCcpew0KCQkJCQl0aGF0LmZhY3RvcnludW0gPSAnMCc7DQoJCQkJfWVsc2V7DQoJCQkJCXRoYXQuZmFjdG9yeW51bSA9ICcxJzsNCgkJCQl9DQoJCQl9LA0KCQkJcHV0R0RhdGEoKXsNCgkJCQl2YXIgdGhhdCA9IHRoaXM7DQoJCQkJYXhpb3MuZ2V0KA0KCQkJCQkiaHR0cHM6Ly9zaXRlLm1hcGxlLnRvZGF5L0lPVHBsYXRmb3JtL1NlcnZlck1haW4iLA0KCQkJCQl7DQoJCQkJCQlwYXJhbXM6ew0KCQkJCQkJCXJlcXVlc3RDb2RlOiAnMDA3JywNCgkJCQkJCQl1c2VyX2lkOiB0aGF0LnVzZXJJRCwNCgkJCQkJCQl0b2tlbjogdGhhdC50b2tlbiwNCgkJCQkJCQljb21wYW55X2lkOiB0aGF0LmNvbXBhbnlJRA0KCQkJCQkJfQ0KCQkJCQl9KQ0KCQkJCQkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7DQoJCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCgkJCQkJCXRoYXQuZGV2aWNlTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsNCgkJCQkJCXRoYXQuZGV2aWNlbnVtID0gdGhhdC5kZXZpY2VMaXN0Lmxlbmd0aDsNCgkJCQkJfSkNCgkJCQkJLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsNCgkJCQkJCWNvbnNvbGUubG9nKGVycm9yKTsNCgkJCQkJfSkNCgkJCQl0aGF0Lm1hcmtlciA9ICBuZXcgQU1hcC5NYXJrZXIoew0KCQkJCQlwb3NpdGlvbjogbmV3IEFNYXAuTG5nTGF0KHRoYXQubXljb21wYW55LmxvbmdpdHVkZSx0aGF0Lm15Y29tcGFueS5sYXRpdHVkZSksDQoJCQkJCW9mZnNldDogbmV3IEFNYXAuUGl4ZWwoLTEwLCAtMTApLA0KCQkJCQlpY29uOiBuZXcgQU1hcC5JY29uKHsgICAgICAgICAgICANCgkJCQkJCWltYWdlOiByZXF1aXJlKCIuLi8uLi9hc3NldHMvbG9jYXRlLnBuZyIpLA0KCQkJCQkJc2l6ZTogbmV3IEFNYXAuU2l6ZSg1MiwgNTIpLCAgLy/lm77moIflpKflsI8NCgkJCQkJCWltYWdlU2l6ZTogbmV3IEFNYXAuU2l6ZSgzMiwgMzIpDQoJCQkJCX0pLA0KCQkJCQl0aXRsZTogdGhhdC5teWNvbXBhbnkuY29tcGFueV9uYW1lDQoJCQkJfSk7DQoJCQkJdGhhdC5pbmZvV2luZG93ID0gbmV3IEFNYXAuSW5mb1dpbmRvdyh7b2Zmc2V0OiBuZXcgQU1hcC5QaXhlbCgwLCAtMjApfSk7DQoJCQkJdmFyIGNvbnRlbnQgPSBbXTsNCgkJCQljb250ZW50LnB1c2goIjxoND4iICsgdGhhdC5teWNvbXBhbnkuY29tcGFueV9uYW1lICsgIjwvaDQ+Iik7DQoJCQkJY29udGVudC5wdXNoKCI8cD7lhazlj7hJRDoiICsgdGhhdC5teWNvbXBhbnkuY29tcGFueV9pZCArICI8L3A+Iik7DQoJCQkJY29udGVudC5wdXNoKCI8cD7liJvlu7rml7bpl7Q6IiArIHRoYXQubXljb21wYW55LmNyZWF0ZV90aW1lICsgIjwvcD4iKTsNCgkJCQl0aGF0Lm1hcmtlci5jb250ZW50ID0gY29udGVudC5qb2luKCIiKTsNCgkJCQl0aGF0Lm1hcmtlci5vbignY2xpY2snLCB0aGF0Lm1hcmtlckNsaWNrKTsNCgkJCQl0aGF0Lm1hcmtlci5lbWl0KCdjbGljaycsIHt0YXJnZXQ6IHRoYXQubWFya2VyfSk7Ly/pu5jorqTliJ3lp4vljJbkuI3lh7rnjrDkv6Hmga/nqpfkvZMs5omT5byA5Yid5aeL5YyW5bCx5Ye6546w5L+h5oGv56qX5L2TDQoNCgkJCQl0aGF0Lm1hcmtlci5zZXRNYXAodGhhdC5tYXApOw0KCQkJfQoJCX0KCX0K"},{"version":3,"sources":["DeviceMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"DeviceMap.vue","sourceRoot":"src/views/MainViews","sourcesContent":["<template>\n\t<div>\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 4%;\">\n\t\t  <el-breadcrumb-item>首页</el-breadcrumb-item>\n\t\t  <el-breadcrumb-item>设备地图</el-breadcrumb-item>\n\t\t</el-breadcrumb>\n\t\t<div class=\"DeviceMap\">\n\t\t\t<el-divider content-position=\"left\">设备地图(设备总数：{{devicenum}},  工厂总数：{{factorynum}})</el-divider>\n\t\t\t<div class=\"Show\">\n\t\t\t\t<!-- <div class=\"wrap3\">\n\t\t\t\t\t<div class=\"rectangle9\">设备总数：{{devicenum}}</div>\n\t\t\t\t\t<div class=\"rectangle10\">工厂总数：{{factorynum}}</div>\n\t\t\t\t</div> -->\n\t\t\t\t<div id=\"container1\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { AMapManager } from 'vue-amap';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\n\n\texport default{\n\t\tname: 'DeviceMap',\n\t\tdata() {\n\t\t\treturn{\n\t\t\t\tdeviceList: [],\r\n\t\t\t\talldevice: [],\n\t\t\t\tcompanyList: [],\r\n\t\t\t\tmycompany: {},\n\t\t\t\tmap: '',\r\n\t\t\t\tinfoWindow: '',\n\t\t\t\tdevicenum: '',\n\t\t\t\tfactorynum: '',\r\n\t\t\t\tmarker: '',\r\n\t\t\t\ttoken: '',\r\n\t\t\t\tuserID: '',\r\n\t\t\t\tcompanyID: '',\r\n\t\t\t\tmodal: ''\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.token = Cookies.get(\"token\");\n\t\t\tthis.userID = Cookies.get(\"user_id\");\n\t\t\tthis.companyID = Cookies.get(\"company_id\");\n\t\t\tthis.modal = Cookies.get(\"modal\");\r\n\t\t\tif(this.modal==='3'){\r\n\t\t\t\tthis.fetchData();\r\n\t\t\t}else{\r\n\t\t\t\tthis.fetchaData();\r\n\t\t\t}\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tthis.loadmap();\r\n\t\t},\n\t\tmethods:{\n\t\t\tchangeTime(){\n\t\t\t    var that = this;\n\t\t\t    for(var i = 0;i < that.companyList.length;i++){\n\t\t\t     that.companyList[i].create_time = that.timestampToTime(that.companyList[i].create_time);\n\t\t\t    }\n\t\t\t   },\n\t\t\t   timestampToTime(timestamp) {\n\t\t\t        var date=new Date(parseInt(timestamp));\n\t\t\t               var year=date.getFullYear();\n\t\t\t               var mon = date.getMonth()+1;\n\t\t\t               var day = date.getDate();\n\t\t\t               var hours = date.getHours();\n\t\t\t               var minu = date.getMinutes();\n\t\t\t               var sec = date.getSeconds();\n\t\t\t       \n\t\t\t               return year+'/'+mon+'/'+day+' '+hours+':'+minu+':'+sec;\n\t\t\t   },\n\t\t\tloadmap(){\n\t\t\t\tvar that = this\n\t\t\t\tthis.map = new AMap.Map('container1', {\n\t\t\t\t\tcenter: [118.792221, 31.938254],\n\t\t\t\t\tzoom: 8\n\t\t\t\t});\n\t\t\t},\n\t\t\tfetchData(){\n\t\t\t\tvar that = this\n\t\t\t\taxios.get(\n\t\t\t\t\t\"https://site.maple.today/IOTplatform/ServerMain\",\n\t\t\t\t\t{\n\t\t\t\t\t\tparams:{\n\t\t\t\t\t\t\trequestCode: '011',\n\t\t\t\t\t\t\tuser_id: that.userID,\n\t\t\t\t\t\t\ttoken: that.token\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(response){\n\t\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\t\tthat.companyList = response.data.data;\n\t\t\t\t\t\tthat.changeTime();\r\n\t\t\t\t\t\tthat.putCData();\r\n\t\t\t\t\t\tthat.fetchDData();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error){\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t})\n\t\t\t},\r\n\t\t\tfetchDData(){\r\n\t\t\t\tvar that = this\r\n\t\t\t\taxios.get(\r\n\t\t\t\t\t\"https://site.maple.today/IOTplatform/ServerMain\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tparams:{\r\n\t\t\t\t\t\t\trequestCode: '019',\r\n\t\t\t\t\t\t\tuser_id: that.userID,\r\n\t\t\t\t\t\t\ttoken: that.token,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tconsole.log(response.data);\r\n\t\t\t\t\t\tthat.alldevice = response.data.data;\r\n\t\t\t\t\t\tthat.devicenum = that.alldevice.length;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\t\t\t},\n\t\t\tputCData(){\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -20)});\n\t\t\t\tfor(var i = 0; i < that.companyList.length; i++){\r\n\t\t\t\t\tvar content = [];\r\n\t\t\t\t\tcontent.push(\"<h4>\" + that.companyList[i].company_name + \"</h4>\");\r\n\t\t\t\t\tcontent.push(\"<p>公司ID:\" + that.companyList[i].company_id + \"</p>\");\r\n\t\t\t\t\tcontent.push(\"<p>创建时间:\" + that.companyList[i].create_time + \"</p>\");\r\n\t\t\t\t\t\n\t\t\t\t\tthat.marker =  new AMap.Marker({\n\t\t\t\t\t\tposition: new AMap.LngLat(that.companyList[i].longitude,that.companyList[i].latitude),\n\t\t\t\t\t\toffset: new AMap.Pixel(-10, -10),\n\t\t\t\t\t\ticon: new AMap.Icon({            \r\n\t\t\t\t\t\t\timage: require(\"../../assets/locate.png\"),\r\n\t\t\t\t\t\t\tsize: new AMap.Size(52, 52),  //图标大小\r\n\t\t\t\t\t\t\timageSize: new AMap.Size(32, 32)\r\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttitle: that.companyList[i].company_name\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.marker.content = content.join(\"\");\r\n\t\t\t\t\tthat.marker.on('click', that.markerClick);\r\n\t\t\t\t\tthat.marker.emit('click', {target: that.marker});//默认初始化不出现信息窗体,打开初始化就出现信息窗体\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.marker.setMap(that.map);\n\t\t\t\t}\r\n\t\t\t\tthat.factorynum = that.companyList.length;\n\t\t\t},\r\n\t\t\tmarkerClick(e){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.infoWindow.setContent(e.target.content);\r\n\t\t\t\tthat.infoWindow.open(that.map, e.target.getPosition());\r\n\t\t\t},\r\n\t\t\tfetchaData(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(that.companyID);\r\n\t\t\t\tconsole.log(that.userID);\r\n\t\t\t\taxios.get(\r\n\t\t\t\t\t\"https://site.maple.today/IOTplatform/ServerMain\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tparams:{\r\n\t\t\t\t\t\t\trequestCode: '021',\r\n\t\t\t\t\t\t\tuser_id: that.userID,\r\n\t\t\t\t\t\t\ttoken: that.token,\r\n\t\t\t\t\t\t\tcompany_id: that.companyID\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tconsole.log(response.data);\r\n\t\t\t\t\t\tthat.mycompany = response.data.data;\r\n\t\t\t\t\t\tthat.putGData();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\t\t\t\tif(that.companyID === '0'){\r\n\t\t\t\t\tthat.factorynum = '0';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.factorynum = '1';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tputGData(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\taxios.get(\r\n\t\t\t\t\t\"https://site.maple.today/IOTplatform/ServerMain\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tparams:{\r\n\t\t\t\t\t\t\trequestCode: '007',\r\n\t\t\t\t\t\t\tuser_id: that.userID,\r\n\t\t\t\t\t\t\ttoken: that.token,\r\n\t\t\t\t\t\t\tcompany_id: that.companyID\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tconsole.log(response.data);\r\n\t\t\t\t\t\tthat.deviceList = response.data.data;\r\n\t\t\t\t\t\tthat.devicenum = that.deviceList.length;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\t\t\t\tthat.marker =  new AMap.Marker({\r\n\t\t\t\t\tposition: new AMap.LngLat(that.mycompany.longitude,that.mycompany.latitude),\r\n\t\t\t\t\toffset: new AMap.Pixel(-10, -10),\r\n\t\t\t\t\ticon: new AMap.Icon({            \r\n\t\t\t\t\t\timage: require(\"../../assets/locate.png\"),\r\n\t\t\t\t\t\tsize: new AMap.Size(52, 52),  //图标大小\r\n\t\t\t\t\t\timageSize: new AMap.Size(32, 32)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttitle: that.mycompany.company_name\r\n\t\t\t\t});\r\n\t\t\t\tthat.infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -20)});\r\n\t\t\t\tvar content = [];\r\n\t\t\t\tcontent.push(\"<h4>\" + that.mycompany.company_name + \"</h4>\");\r\n\t\t\t\tcontent.push(\"<p>公司ID:\" + that.mycompany.company_id + \"</p>\");\r\n\t\t\t\tcontent.push(\"<p>创建时间:\" + that.mycompany.create_time + \"</p>\");\r\n\t\t\t\tthat.marker.content = content.join(\"\");\r\n\t\t\t\tthat.marker.on('click', that.markerClick);\r\n\t\t\t\tthat.marker.emit('click', {target: that.marker});//默认初始化不出现信息窗体,打开初始化就出现信息窗体\r\n\r\n\t\t\t\tthat.marker.setMap(that.map);\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.DeviceMap{\n\t\twidth: 100%;\n\t\theight: 96%;\n\t\t/* background-color: antiquewhite;\n\t\tborder: black;\n\t\tborder-width: 1px;\n\t\tborder-style: solid; */\n\t\talign-items: center;\n\t}\n\t#container1{\n\t\tmargin-top: 10px;\n\t\twidth: 95%;\n\t\theight: 80%;\n\t\tborder-width: 2px;\n\t}\n\t.Show{\n\t\twidth: 93%;\n\t\theight: 93%;\n\t\t/* border: 20px solid antiquewhite; */\n\t\t/* background-color: #ffffff; */\n\t\tpadding-left: 50px;\n\t}\n\t.wrap3{\n\t\t/* padding-left: 10px; */\n\t\twidth: 90%;\n\t\theight: 15%;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n\t.rectangle9,.rectangle10{\n\t\t/* flex:1; */\n\t\t/* width: 60%; */\n\t\t /* height: ; */\n\t\tborder:solid 2px #DDDDDD;\n\t\tmargin-top: 20px;\n\t\tmargin-left: 20px;\n\t\t/* padding-top: 15px; */\n\t\tpadding-left: 10px;\n\t\tpadding-right: 10px;\n\t\ttext-align: center;\n\t\tcolor: #747474;\n\t\tfont-size: 20px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t}\n</style>"]}]}
{"remainingRequest":"/Users/shuaisujun/Desktop/IOT/node_modules/babel-loader/lib/index.js!/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shuaisujun/Desktop/IOT/src/views/MainViews/Monitor/DeviceList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shuaisujun/Desktop/IOT/src/views/MainViews/Monitor/DeviceList.vue","mtime":1630217073334},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shuaisujun/Desktop/IOT/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyX2lkOiAnJywKICAgICAgdG9rZW46ICcnLAogICAgICBjb21wYW55X2lkOiAnJywKICAgICAgcHJvZHVjdDoge30sCiAgICAgIGRldmljZUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHRoYXQudXNlcl9pZCA9IENvb2tpZXMuZ2V0KCd1c2VyX2lkJyk7CiAgICB0aGF0LnRva2VuID0gQ29va2llcy5nZXQoJ3Rva2VuJyk7IC8vIHRoYXQuY29tcGFueV9pZCA9IENvb2tpZXMuZ2V0KCdjb21wYW55X2lkJykKCiAgICBpZiAoQ29va2llcy5nZXQoJ21vZGFsJykgPT09ICczJykgewogICAgICBjb25zb2xlLmxvZygi5qOA5rWL5Yiw5Li657O757uf566h55CG5ZGYIik7CiAgICAgIHRoYXQuY29tcGFueV9pZCA9ICcxJzsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCLmo4DmtYvliLDkuLrmma7pgJrmiJDlkZgiKTsKICAgICAgdGhhdC5jb21wYW55X2lkID0gQ29va2llcy5nZXQoJ2NvbXBhbnlfaWQnKTsKICAgIH0gLy8gdGhhdC5jb21wYW55X2lkID0gJzEnCgoKICAgIHRoYXQuZ2V0Um91dGVEYXRhKCk7CiAgICB0aGF0LmdldERldmljZURhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFJvdXRlRGF0YTogZnVuY3Rpb24gZ2V0Um91dGVEYXRhKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciBuZXdfcHJvZHVjdCA9IGRlY29kZVVSSUNvbXBvbmVudCh0aGF0LiRyb3V0ZS5xdWVyeS5wcm9kdWN0KTsKICAgICAgdGhhdC5wcm9kdWN0ID0gSlNPTi5wYXJzZShuZXdfcHJvZHVjdCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCgogICAgICBjb25zb2xlLmxvZyh0aGF0LnByb2R1Y3QpOwogICAgfSwKICAgIGdvRGF0YTogZnVuY3Rpb24gZ29EYXRhKGRldmljZSkgewogICAgICB2YXIgbmV3X2RldmljZSA9IEpTT04uc3RyaW5naWZ5KGRldmljZSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL21haW5QYWdlL2Rhc2hCb2FyZC9kZXZpY2VMaXN0L2RhdGFCb2FyZCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGRldmljZTogZW5jb2RlVVJJQ29tcG9uZW50KG5ld19kZXZpY2UpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXREZXZpY2VEYXRhOiBmdW5jdGlvbiBnZXREZXZpY2VEYXRhKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly9zaXRlLm1hcGxlLnRvZGF5L0lPVHBsYXRmb3JtL1NlcnZlck1haW4/cmVxdWVzdENvZGU9MDI1JzsKICAgICAgYXhpb3MuZ2V0KHVybCwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgdXNlcl9pZDogdGhhdC51c2VyX2lkLAogICAgICAgICAgdG9rZW46IHRoYXQudG9rZW4sCiAgICAgICAgICBjb21wYW55X2lkOiB0aGF0LmNvbXBhbnlfaWQsCiAgICAgICAgICBwcm9kdWN0X2lkOiB0aGF0LnByb2R1Y3QucHJvZHVjdF9pZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHQgPT09ICcxJykgewogICAgICAgICAgdGhhdC5kZXZpY2VMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhhdC5kZXZpY2VMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoYXQuZGV2aWNlTGlzdFtpXS5kYXRhX2Zvcm1hdCA9IHRoYXQucHJvZHVjdC5kYXRhX2Zvcm1hdDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["DeviceList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"height: 4%\">\r\n      <el-breadcrumb-item>首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>监控运维</el-breadcrumb-item>\r\n      <el-breadcrumb-item :to=\"{name:'DashBoard'}\">仪表盘</el-breadcrumb-item>\r\n      <el-breadcrumb-item>设备列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <div class=\"workspace\">\n\t\t<el-divider content-position=\"left\">设备列表</el-divider>\r\n      <div class=\"scrollbox\">\r\n        <el-scrollbar style=\"height: 95%; width: 100%;\">\r\n          <div class=\"productList\">\r\n            <!-- <div class=\"topTitle\">\r\n              <h3>设备列表</h3>\r\n            </div> -->\r\n            <div class=\"list\">\r\n              <div class=\"list-items\" v-for=\"device in deviceList\" :key=\"device.sensor_id\" @click=\"goData(device)\">\r\n                <el-card shadow=\"always\" :body-style=\"{ padding: '10px' }\">\r\n                  <div class=\"image-container\">\r\n                    <!-- <el-image :src=\"require('@/assets/logo.png')\" style=\"width: 200px; height: 180px\"></el-image> -->\r\n                  </div>\r\n                  <h4 style=\"margin-top: 8px\">{{ device.sensor_name }}</h4>\r\n                </el-card>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- <div class=\"pagination\">\r\n              <el-pagination class=\"Page\" background layout=\"prev, pager, next\" :total=\"2\" :page-size=\"2\"> </el-pagination>\r\n            </div> -->\r\n          </div>\r\n        </el-scrollbar>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Cookies from 'js-cookie'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user_id: '',\r\n      token: '',\r\n      company_id: '',\r\n      product: {},\r\n      deviceList: [],\r\n    }\r\n  },\r\n  created() {\r\n    const that = this\r\n    that.user_id = Cookies.get('user_id')\r\n    that.token = Cookies.get('token')\r\n    // that.company_id = Cookies.get('company_id')\n\tif (Cookies.get('modal') === '3'){\n\t\tconsole.log(\"检测到为系统管理员\")\n\t\tthat.company_id = '1'\n\t}\n\telse{\n\t\tconsole.log(\"检测到为普通成员\")\n\t\tthat.company_id = Cookies.get('company_id')\n\t}\n\t// that.company_id = '1'\r\n    that.getRouteData()\r\n    that.getDeviceData()\r\n  },\r\n  methods: {\r\n    getRouteData() {\r\n      const that = this\r\n      var new_product = decodeURIComponent(that.$route.query.product)\r\n      that.product = JSON.parse(new_product)\r\n      // eslint-disable-next-line no-console\r\n      console.log(that.product)\r\n    },\r\n    goData: function (device) {\r\n      var new_device = JSON.stringify(device)\r\n      this.$router.push({ path: '/mainPage/dashBoard/deviceList/dataBoard', query: { device: encodeURIComponent(new_device) } })\r\n    },\r\n    getDeviceData() {\r\n      const that = this\r\n      var url = 'https://site.maple.today/IOTplatform/ServerMain?requestCode=025'\r\n      axios\r\n        .get(url, {\r\n          params: {\r\n            user_id: that.user_id,\r\n            token: that.token,\r\n            company_id: that.company_id,\r\n            product_id: that.product.product_id,\r\n          },\r\n        })\r\n        .then(function (response) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(response.data)\r\n          if (response.data.result === '1') {\r\n            that.deviceList = response.data.data\r\n            for (var i = 0; i < that.deviceList.length; i++) {\r\n              that.deviceList[i].data_format = that.product.data_format\r\n            }\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error)\r\n        })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.workspace {\r\n  width: 100%;\r\n  height: 96%;\r\n/*  background-color: antiquewhite;\r\n  border: black;\r\n  border-width: 1px;\r\n  border-style: solid; */\r\n}\r\n\r\n.scrollbox {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.productList {\r\n  width: 98%;\r\n  min-height: 580px;\r\n  margin-top: 1%;\r\n  margin-right: 1%;\r\n  margin-left: 1%;\r\n  background: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.topTitle {\r\n  width: 98%;\r\n  height: 60px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid rgb(116, 186, 204);\r\n}\r\n\r\n.searchClass {\r\n  width: 450px;\r\n}\r\n\r\n.list {\r\n  width: 98%;\r\n  margin-top: 20px;\r\n  padding-bottom: 20px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  border-bottom: 1px solid rgb(116, 186, 204);\r\n}\r\n\r\n.list-items {\r\n  height: 280px;\r\n  margin-left: 35px;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.image-container {\r\n  border: 1px solid rgb(116, 186, 204);\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  width: 200px;\r\n  height: 180px;\r\n}\r\n\r\n.el-card {\r\n  width: 220px;\r\n  height: 250px;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  margin-top: 20px;\r\n  margin-bottom: 30px;\r\n  width: 98%;\r\n}\r\n\r\n.el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/MainViews/Monitor"}]}